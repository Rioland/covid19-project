(self["webpackChunkcheckoutui"]=self["webpackChunkcheckoutui"]||[]).push([[143],{75915:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"instructionMessage":"Enter your billing address to complete this payment","streetAddress":"Street address","zipCode":"ZIP CODE","completePayment":"Complete payment","state":"State","city":"City"},"fr":{"instructionMessage":"Entrez votre adresse de facturation pour effectuer ce paiement","streetAddress":"Adresse","zipCode":"CODE POSTAL","completePayment":"Effectuer le paiement","state":"État","city":"Ville"}}'),delete e.options._Ctor}},50146:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"setupError":{"couldNotStartTransaction":"We could not start this transaction","pageNotFound":"Page not found","invalidTransaction":"This transaction is either invalid or already completed. Please confirm that the link is correct."}},"fr":{"setupError":{"couldNotStartTransaction":"Nous n\'avons pas pu lancer cette transaction","pageNotFound":"Page introuvable","invalidTransaction":"Cette transaction n\'est pas valide ou a déjà été effectuée. Veuillez confirmer que le lien est correct."}}}'),delete e.options._Ctor}},32772:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"applePay":"Apple Pay","applePayDescription":"Pay with Apple Pay to complete your purchase without filling a form","morePaymentOptions":"More payment options","securedByPaystack":"Secured by Paystack"},"fr":{"applePay":"Apple Pay","applePayDescription":"Payez avec Apple Pay pour effectuer votre achat sans remplir de formulaire.","morePaymentOptions":"Plus d\'options de paiement","securedByPaystack":"Sécurisé par Paystack"}}'),delete e.options._Ctor}},88288:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"defaultMessage":"Authorize the payment on your phone to complete this transaction","sent":"Sent","authenticated":"Authenticated","paymentAuthenticated":"I have authorized this payment","howToPay":"How to pay with PayAttitude","cancel":"Cancel"},"fr":{"defaultMessage":"Autorisez le paiement sur votre téléphone pour effectuer cette transaction","sent":"Envoyé","authenticated":"Authentifié","paymentAuthenticated":"J\'ai autorisé ce paiement","howToPay":"Comment payer avec PayAttitude","cancel":"Annuler"}}'),delete e.options._Ctor}},45308:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"authorize":"Authorize","instructionMessage":"Verify your date of birth to use this bank account with Paystack"},"fr":{"authorize":"Autoriser","instructionMessage":"Vérifier votre date de naissance pour utiliser ce compte bancaire avec Paystack"}}'),delete e.options._Ctor}},91766:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"cancel":"Cancel"},"fr":{"cancel":"Annuler"}}'),delete e.options._Ctor}},20104:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"hintText":"Your {{inputLabel}} is the 3 or 4-digit number on the back of your card (the side without the chip).","help":"Help?","cvv":"CVV","cid":"CID","errorMessage":{"empty":"Enter card {{identificationType}}","invalid_cvv":"Invalid card cvv","invalid_cid":"Invalid card CID"}},"fr":{"hintText":"Votre {{inputLabel}} est le numéro à 3 ou 4 chiffres figurant au dos de votre carte (le côté où il n\'y a pas de puce).","help":"Besoin d\'aide ?","cvv":"CVV","cid":"CID","errorMessage":{"empty":"Saisir les références de la carte {{identificationType}}","invalid_cvv":"CVV de la carte invalide","invalid_cid":"CID de la carte invalide"}}}'),delete e.options._Ctor}},28579:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"pinMessage":"Please enter your 4-digit card pin to authorize this payment"},"fr":{"pinMessage":"Veuillez saisir le code PIN à 4 chiffres de votre carte pour autoriser ce paiement"}}'),delete e.options._Ctor}},69576:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"cardExpiry":"Card Expiry","placeholder":"MM / YY","errorMessage":{"empty":"Enter card expiry","invalid":"Invalid card expiry"}},"fr":{"cardExpiry":"Date d\'expiration","placeholder":"MM / AA","errorMessage":{"empty":"Saisir la date d\'expiration de la carte","invalid":"Date d\'expiration de la carte non valide"}}}'),delete e.options._Ctor}},72769:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"instructionMessage":"Enter your card details to pay","pay":"Pay","paymentInstruction":"Pay {{amount, baseunit, number}}","useTestCard":"Use a test card","payWithSavedCard":"Or pay with a saved card","rememberCard":"Remember card","hintText":"Remember your card details on this device to pay faster in the future (you\'ll skip entering an OTP). You can always remove the card later.","whatIsThis":"what is this?"},"fr":{"instructionMessage":"Saisir les références de votre carte","pay":"Payer","paymentInstruction":"Payer {{amount, baseunit, number}}","useTestCard":"Utiliser une carte de test","payWithSavedCard":"Ou payer avec une carte enregistrée","rememberCard":"Mémoriser la carte","hintText":"Mémoriser les références de votre carte sur cet appareil pour payer plus rapidement à l\'avenir (vous n\'aurez plus à saisir de Mot de passe). Vous pourrez toujours retirer la carte plus tard.","whatIsThis":"Qu\'est-ce que c\'est?"}}'),delete e.options._Ctor}},9797:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"cardNumber":"Card Number","errorMessage":{"empty":"Enter card number","invalid":"Invalid card number"}},"fr":{"cardNumber":"Numéro","errorMessage":{"empty":"Saisir le numéro de la carte","invalid":"Numéro de carte non valide"}}}'),delete e.options._Ctor}},49162:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"cardIcon":"Card Icon","bankIcon":"Bank Icon","eftIcon":"EFT Icon","phoneNumberIcon":"Phone Number Icon","ussdIcon":"USSD Icon","mobileMoneyIcon":"Mobile Money Icon","phoneIcon":"Phone icon","qrIcon":"QR Icon","payWithTransferIcon":"Pay with Transfer Icon","walletIcon":"Wallet Icon"},"fr":{"cardIcon":"Icône de la Carte","bankIcon":"Icône de la Banque","eftIcon":"Icône EFT (Transfert Electronique de Fonds)","phoneNumberIcon":"Icône de Numéro de Téléphone","ussdIcon":"Icône USSD","mobileMoneyIcon":"Icône Mobile Money","phoneIcon":"Icône de Téléphone","qrIcon":"Icône QR","payWithTransferIcon":"Payer avec l\'Icône de Transfert","walletIcon":"Icône Wallet"}}'),delete e.options._Ctor}},26236:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"changePaymentMethod":"Change Payment Method","cancelPayment":"Cancel Payment"},"fr":{"changePaymentMethod":"Modifier le Mode de Paiement","cancelPayment":"Annuler le Paiement"}}'),delete e.options._Ctor}},68563:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"instructionMessage":"Choose your bank to start the payment","clickHereToChoose":"Click here to choose"},"fr":{"instructionMessage":"Choisissez votre banque pour commencer le paiement","clickHereToChoose":"Cliquez ici pour choisir"}}'),delete e.options._Ctor}},88667:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"defaultMessage":"We\'re waiting to receive your transfer. This can take up to a minute","messageAfterRequery":"It’s taking longer than expected to confirm your transfer. Please hold on","messageOnCreditRequestReceived":"Your transfer is on the way. It can take up to a minute to confirm","sent":"Sent","received":"Received","needHelp":"Need help?","showBankAccount":"Show bank account","skipWaiting":"Skip waiting","pleaseWait":"Please wait for {{ timeLeft }}"},"fr":{"defaultMessage":"Nous attendons de recevoir votre virement. Cela peut prendre une minute","messageAfterRequery":"La confirmation de votre virement prend plus de temps que prévu. Veuillez patienter","messageOnCreditRequestReceived":"Votre virement est en cours. La confirmation peut prendre une minute","sent":"Envoyé","received":"Reçu","needHelp":"Besoin d\'aide?","showBankAccount":"Afficher le compte bancaire","skipWaiting":"Ignorer l\'attente","pleaseWait":"Veuillez patienter pendant {{ timeLeft }}"}}'),delete e.options._Ctor}},1915:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"defaultMessage":"We\'re waiting to receive your transfer. This can take up to a minute","messageAfterRequery":"It’s taking longer than expected to confirm your transfer. Please hold on","messageOnCreditRequestReceived":"Your transfer is on the way. It can take up to a minute to confirm","sent":"Sent","received":"Received","needHelp":"Need help?","showBankAccount":"Show bank account","skipWaiting":"Skip waiting","pleaseWait":"Please wait for {{ timeLeft }}"},"fr":{"defaultMessage":"Nous attendons de recevoir votre virement. Cela peut prendre une minute","messageAfterRequery":"La confirmation de votre virement prend plus de temps que prévu. Veuillez patienter","messageOnCreditRequestReceived":"Votre virement est en cours. La confirmation peut prendre une minute","sent":"Envoyé","received":"Reçu","needHelp":"Besoin d\'aide?","showBankAccount":"Afficher le compte bancaire","skipWaiting":"Ignorer l\'attente","pleaseWait":"Veuillez patienter pendant {{ timeLeft }}"}}'),delete e.options._Ctor}},48800:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"submit":"Submit"},"fr":{"submit":"Soumettre"}}'),delete e.options._Ctor}},49110:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"instructionMessage":"Enter your CVV and card pin to complete this payment","pay":"Pay","cardPin":"Card pin","paymentInstruction":"Pay {{amount, baseunit, number}}"},"fr":{"instructionMessage":"Saisissez votre CVV et le code PIN de votre carte pour effectuer ce paiement","pay":"Payer","cardPin":"Code PIN de la carte","paymentInstruction":"Payer {{amount, baseunit, number}}"}}'),delete e.options._Ctor}},38588:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"months":{"january":"January","february":"February","march":"March","april":"April","may":"May","june":"June","july":"July","august":"August","september":"September","october":"October","november":"November","december":"December"}},"fr":{"months":{"january":"Janvier","february":"Février","march":"Mars","april":"Avril","may":"Mai","june":"Juin","july":"Juillet","august":"Août","september":"Septembre","october":"Octobre","november":"Novembre","december":"Décembre"}}}'),delete e.options._Ctor}},33618:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"waitingMessage":"Please wait while we confirm your transaction with your bank. This can take up to a minute","accountHasBeenDebited":"My account has been debited"},"fr":{"waitingMessage":"Veuillez patienter pendant que nous confirmons votre transaction avec votre banque. Cela peut prendre une minute","accountHasBeenDebited":"Mon compte a été débité"}}'),delete e.options._Ctor}},59839:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"verifyAccount":"Verify Account","instructionMessage":"Choose your preferred provisioned account","clickHereToChoose":"Click here to choose"},"fr":{"verifyAccount":"Vérifier le compte","instructionMessage":"Choisissez votre compte provisionné préféré","clickHereToChoose":"Cliquez ici pour choisir"}}'),delete e.options._Ctor}},22643:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"signIn":"Sign in","instructionMessage":"Sign in with your email and password to pay","email":"Email","password":"Password"},"fr":{"signIn":"Se connecter","instructionMessage":"Connectez-vous avec votre e-mail et votre mot de passe pour payer","email":"E-mail","password":"Mot de passe"}}'),delete e.options._Ctor}},84359:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"message":"Please click the button below to authenticate your payment","ozowIcon":"Ozow Icon","authenticate":"Authenticate"},"fr":{"message":"Cliquez sur le bouton ci-dessous pour authentifier votre paiement","ozowIcon":"Icône Ozow","authenticate":"Authentifier"}}'),delete e.options._Ctor}},57382:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"authMessage":"Waiting for response from {{provider}}"},"fr":{"authMessage":"En attente de réponse de la part du {{provider}}"}}'),delete e.options._Ctor}},22260:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"testMessage":{"birthday":"Enter any date of birth","registrationToken":"Use the code 123456 to complete account registration","paymentToken":"Use the code 123456 to complete this test payment"},"sixDigits":"6 digits","securePassMessage":"Enter the generated OTP from your <a data-testid=\'secure-pass-message\' href=\'https://paystack.helpscoutdocs.com/article/138-how-to-setup-uba-secure-pass-to-generate-otps\' target=\'_blank\'>Secure Pass</a> mobile app or Hardware Token."},"fr":{"testMessage":{"birthday":"Saisir une date de naissance quelconqu.","registrationToken":"Utilisez le code 123456 pour effectuer l\'enregistrement du compt.","paymentToken":"Utilisez le code 123456 pour effectuer le paiement tes."},"sixDigits":"6 chiffre.","securePassMessage":"Saisissez le Mot de passe généré à partir de votre application mobile <a data-testid=\'secure-pass-message\' href=\'https://paystack.helpscoutdocs.com/article/138-how-to-setup-uba-secure-pass-to-generate-otps\' target=\'_blank\'>Secure Pass</a> ou de votre jeton matériel."}}'),delete e.options._Ctor}},38557:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"incorrectAmountErrorMessage":"We received a wrong amount, and a reversal/refund has been processed. Please transfer exactly {{amount, baseunit, number}} to complete this transaction.","fallbackMessage":"We were unable to charge your {{channelLabel}}","retryWithTestDetails":"Retry with test details","closeCheckout":"Close Checkout","tryAgain":"Try again","startOver":"Start over with the same {{paymentMethod}}","tryPayingWithChannel":"Try paying with {{channel}}","tryAnother":"Try another {{paymentMethod}}","pwtUssdAccountUnavailableError":"We’re having some trouble generating a USSD code. Please pay with any of our other channels."},"fr":{"incorrectAmountErrorMessage":"Nous avons reçu un montant erroné, et l\'annulation/le remboursement a été traité(e). Veuillez transférer exactement {{amount, baseunit, number}} pour effectuer cette transaction.","fallbackMessage":"Nous n\'avons pas pu débiter votre {{channelLabel}}","retryWithTestDetails":"Réessayer avec les informations du test","closeCheckout":"Fermer la commande","tryAgain":"Réessayer","startOver":"Recommencer avec le même {{paymentMethod}}","tryPayingWithChannel":"Essayer de payer avec {{channel}}","tryAnother":"Essayer un(e) autre {{paymentMethod}}","pwtUssdAccountUnavailableError":"We’re having some trouble generating a USSD code. Please pay with any of our other channels."}}'),delete e.options._Ctor}},40285:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"updateCardMessage":"Whenever you add a new card, we’ll charge a tiny amount to authorize this card. This will be refunded immediately.","securedByPaystack":"Secured by Paystack"},"fr":{"updateCardMessage":"Chaque fois que vous ajoutez une nouvelle carte, nous facturons un petit montant pour autoriser cette carte. Ce montant vous sera remboursé immédiatement.","securedByPaystack":"Sécurisé par Paystack"}}'),delete e.options._Ctor}},6471:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"useIbank":"Or pay with internet banking","settingUp":"Setting up","payWith737":"Or pay with GTBank\'s 737"},"fr":{"useIbank":"Ou payez avec la banque en ligne","settingUp":"Configuration","payWith737":"Ou payez avec le 737 de GTBank"}}'),delete e.options._Ctor}},25025:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"ussdIcon":"USSD Icon","phoneIcon":"Phone Icon","bankIcon":"Bank Icon","birthdayIcon":"Birthday Icon","otpIcon":"OTP Icon","cardPinIcon":"Card Pin Icon","redirectIcon":"Redirect Icon"},"fr":{"ussdIcon":"Icône USSD","phoneIcon":"Icône de Téléphone","bankIcon":"Icône de la Banque","birthdayIcon":"Icône Anniversaire","otpIcon":"Icône de Mot de passe","cardPinIcon":"Icône du code PIN de la carte","redirectIcon":"Icône de Redirection"}}'),delete e.options._Ctor}},59868:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"paymentSummary":"Transfer <span style=\\"font-weight: bold;\\">{{amount, baseunit, number}}</span> to","singleUseInstruction":"Use this account for this transaction only","expiresIn_normal":"Account expires in <span data-testid=\\"expiry-time-left\\" style=\\"font-weight: bold; color: #868686\\">{{timeLeft}}</span>","expiresIn_warning":"Account expires in <span data-testid=\\"expiry-time-left\\" style=\\"font-weight: bold; color: #F33D3D\\">{{timeLeft}}</span>","generateAnotherAccount":"Generate another account","accountExpiryMessage":"Account expired after {{activeWindow}} minutes of inactivity","expired":"Expired","timeInMinutes":"{{time}} minutes"},"fr":{"paymentSummary":"Transférer <span style=\\"font-weight: bold;\\">{{amount, baseunit, number}}</span> à","singleUseInstruction":"Utiliser ce compte pour cette transaction uniquement","expiresIn_normal":"Le compte expire dans <span data-testid=\\"expiry-time-left\\" style=\\"font-weight: bold; color: #868686\\">{{timeLeft}}</span>","expiresIn_warning":"Le compte expire dans <span data-testid=\\"expiry-time-left\\" style=\\"font-weight: bold; color: #F33D3D\\">{{timeLeft}}</span>","generateAnotherAccount":"Créer un autre compte","accountExpiryMessage":"Le compte a expiré après {{activeWindow}} minutes d\'inactivité","expired":"Expiré","timeInMinutes":"{{time}} minutes"}}'),delete e.options._Ctor}},93124:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"paymentSummary":"Transfer <span style=\\"font-weight: bold;\\">{{amount, baseunit, number}}</span> to","singleUseInstruction":"Use this account for this transaction only","expiresIn_normal":"Account expires in <span data-testid=\\"expiry-time-left\\" style=\\"font-weight: bold; color: #868686\\">{{timeLeft}}</span>","expiresIn_warning":"Account expires in <span data-testid=\\"expiry-time-left\\" style=\\"font-weight: bold; color: #F33D3D\\">{{timeLeft}}</span>","generateAnotherAccount":"Generate another account","accountExpiryMessage":"Account expired after {{activeWindow}} minutes of inactivity","expired":"Expired","timeInMinutes":"{{time}} minutes"},"fr":{"paymentSummary":"Transférer <span style=\\"font-weight: bold;\\">{{amount, baseunit, number}}</span> à","singleUseInstruction":"Utiliser ce compte pour cette transaction uniquement","expiresIn_normal":"Le compte expire dans <span data-testid=\\"expiry-time-left\\" style=\\"font-weight: bold; color: #868686\\">{{timeLeft}}</span>","expiresIn_warning":"Le compte expire dans <span data-testid=\\"expiry-time-left\\" style=\\"font-weight: bold; color: #F33D3D\\">{{timeLeft}}</span>","generateAnotherAccount":"Créer un autre compte","accountExpiryMessage":"Le compte a expiré après {{activeWindow}} minutes d\'inactivité","expired":"Expiré","timeInMinutes":"{{time}} minutes"}}'),delete e.options._Ctor}},19572:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"instruction":"Open any Masterpass-enabled app on your phone to scan the QR code","seeMasterpassApps":"See Masterpass-enabled apps","backToPayment":"Back to payment","downloadImage":"Download image"},"fr":{"instruction":"Ouvrez une application compatible avec Masterpass sur votre téléphone pour scanner le QR code","seeMasterpassApps":"Voir les applications compatibles avec Masterpass","backToPayment":"Retour au paiement","downloadImage":"Télécharger l\'image"}}'),delete e.options._Ctor}},84754:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"voucherModeCountdownTimerMessage":"Your voucher code will expire in "},"fr":{"voucherModeCountdownTimerMessage":"Votre code promo expirera dans "}}'),delete e.options._Ctor}},5020:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"voucherModeCountdownTimerMessage":"Your voucher code will expire in "},"fr":{"voucherModeCountdownTimerMessage":"Votre code promo expirera dans "}}'),delete e.options._Ctor}},72259:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"confirm":"Confirm","mobileMoneyIcon":"Mobile Money Icon","chooseProvider":"Choose Provider","instructionMessage":{"test":"Use the test mobile money number and provider below to start the payment","live":"Enter your mobile money number and provider to start the payment"}},"fr":{"confirm":"Confirmer","mobileMoneyIcon":"Icône Mobile Money","chooseProvider":"Choisir le fournisseur","instructionMessage":{"test":"Utilisez le numéro mobile money test et le fournisseur ci-dessous pour commencer le paiement","live":"Saisissez votre numéro mobile money et votre fournisseur pour commencer le paiement"}}}'),delete e.options._Ctor}},72659:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"instructionMessage":{"test":"Please wait while we authorize this test transaction.","live":"Please check your phone for a prompt and enter your mobile money PIN to authorize this transaction."}},"fr":{"instructionMessage":{"test":"Veuillez patienter pendant que nous autorisons cette transaction test.","live":"Veuillez vérifier que votre téléphone vous demande de saisir le code PIN de votre mobile money pour autoriser cette transaction."}}}'),delete e.options._Ctor}},89379:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"pay":"Pay {{amount, baseunit, number}}","mobileMoneyIcon":"Phone Icon","chooseProvider":"Choose Provider","instructionMessage":{"test":"Please enter your test mobile money number to begin this payment","live":"Please enter your mobile money number to begin this payment"}},"fr":{"pay":"Payer {{amount, baseunit, number}}","mobileMoneyIcon":"Icône de Téléphone","chooseProvider":"Choisir le fournisseur","instructionMessage":{"test":"Veuillez saisir votre numéro mobile money test pour commencer ce paiement","live":"Veuillez saisir votre numéro mobile money pour commencer ce paiement"}}}'),delete e.options._Ctor}},68322:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"instructionMessage":{"test":"Please wait while we authorize this test transaction.","live":"Please enter your PIN on your phone to complete this payment"},"cancel":"Cancel","phoneIcon":"Phone icon","clockIcon":"Clock icon"},"fr":{"instructionMessage":{"test":"Veuillez patienter pendant que nous autorisons cette transaction test.","live":"Veuillez saisir votre code PIN sur votre téléphone pour effectuer ce paiement"},"cancel":"Annuler","phoneIcon":"Icône de téléphone","clockIcon":"Icône de l\'horloge"}}'),delete e.options._Ctor}},19574:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"payWithChannel":"Pay with {{channel}}","new":"New","change":"Change","channels":{"card":"Card","bank":"Bank","ussd":"USSD","visa_qr":"Visa QR","mpass_olti_qr":"Masterpass","snapscan_qr":"SnapScan","mobile_money":"Mobile Money","mpesa":"M-PESA","direct_debit":"Direct Debit","bank_transfer":"Transfer","apple_pay":"Apple Pay","eft":"EFT","payattitude":"PayAttitude","paypal":"PayPal"}},"fr":{"payWithChannel":"Payer avec {{channel}}","new":"Nouveau","change":"Modifier","channels":{"card":"Carte","bank":"Banque","ussd":"USSD","visa_qr":"Visa QR","mpass_olti_qr":"Masterpass","snapscan_qr":"SnapScan","mobile_money":"Mobile Money","mpesa":"M-PESA","direct_debit":"Prélèvement Automatique","bank_transfer":"Virement","apple_pay":"Apple Pay","eft":"EFT","payattitude":"PayAttitude","paypal":"PayPal"}}}'),delete e.options._Ctor}},8874:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"authMessage":{"test":"Use the test bank account provided below to complete this payment","live":"Enter your account number"},"errorMessage":{"empty":"Enter account number","invalid":"Invalid account number"},"verifyAccount":"Verify Account","clickHereToChoose":"Click here to choose","bankAccountNumber":"Bank Account Number (10 digits)"},"fr":{"authMessage":{"test":"Utilisez le compte bancaire test fourni ci-dessous pour effectuer ce paiement","live":"Entrez votre numéro de compte"},"errorMessage":{"empty":"Entrez le numéro de compte","invalid":"Numéro de compte non valide"},"verifyAccount":"Vérifier le compte","clickHereToChoose":"Cliquez ici pour choisir","bankAccountNumber":"Numéro de compte bancaire (10 chiffres)"}}'),delete e.options._Ctor}},91229:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"authorize":"Authorize","cancelText":{"restart":"Restart","cancel":"Cancel"},"timeInMinutes":"{{count}} minute","timeInMinutes_plural":"{{count}} minutes","timeInSeconds":"{{count}} second","timeInSeconds_plural":"{{count}} seconds","otpStatus":{"resending":"Resending OTP","waitingForToken":"A token should be sent to you <div>within {{timeLeft}}</div>","canResendToken":{"mainText":"Didn’t get a token?","subText":"Click here to resend"},"noOtp":"Your bank might be having trouble sending a token. Kindly wait for a few more minutes or restart with the link below."}},"fr":{"authorize":"Autoriser","cancelText":{"restart":"Redémarrer","cancel":"Annuler"},"timeInMinutes":"{{count}} minute","timeInMinutes_plural":"{{count}} minutes","timeInSeconds":"{{count}} seconde","timeInSeconds_plural":"{{count}} secondes","otpStatus":{"resending":"Envoyer à nouveau le Mot de passe","waitingForToken":"Un code devrait vous être envoyé <div>dans {{timeLeft}}</div>","canResendToken":{"mainText":"Vous n\'avez pas reçu de code?","subText":"Cliquez ici pour envoyer à nouveau"},"noOtp":"Votre banque a peut-être des difficultés à envoyer un code. Veuillez attendre quelques minutes de plus ou redémarrer avec le lien ci-dessous."}}}'),delete e.options._Ctor}},27484:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"payattitudeLogo":"PayAttitude Logo"},"fr":{"payattitudeLogo":"Logo de PayAttitude "}}'),delete e.options._Ctor}},61479:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"instructionMessage":"Please enter your Pay ID to authorize this payment","authorize":"Authorize","payIdLink":"How to generate a Pay ID","cancel":"Cancel","errorMessage":{"empty":"Enter your Pay ID","invalid":"Invalid Pay ID"}},"fr":{"instructionMessage":"PVeuillez entrer votre Pay ID pour autoriser ce paiement","authorize":"Autoriser","payIdLink":"Comment obtenir un Pay ID","cancel":"Annuler","errorMessage":{"empty":"Entrez votre Pay ID","invalid":"Pay ID non valide"}}}'),delete e.options._Ctor}},32473:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"backToPayment":"Back to payment","instructionMessage":"How to generate a Pay ID","instructions":{"stepOne":"Open your Kuda Bank app","stepTwo":"Go to the Payments tab","stepThree":"Select the Web Payment option","stepFour":"Generate a Pay ID"}},"fr":{"backToPayment":"Retour au paiement","instructionMessage":"Comment obtenir un Pay ID","instructions":{"stepOne":"Ouvrez votre application Kuda Bank","stepTwo":"Allez sur l\'onglet Paiements","stepThree":"Sélectionnez l\'option Paiement en Ligne","stepFour":"Obtenir un Pay ID"}}}'),delete e.options._Ctor}},16536:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"confirmPayment":"I\'ve sent the money"},"fr":{"confirmPayment":"J\'ai envoyé l\'argent"}}'),delete e.options._Ctor}},98907:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"confirmPayment":"I\'ve sent the money"},"fr":{"confirmPayment":"J\'ai envoyé l\'argent"}}'),delete e.options._Ctor}},35691:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"helpMessage":"Sometimes it takes a while for the bank to confirm your transfer. If this account expires before your bank confirms your transfer, we will reverse it.","continueWaiting":"Continue waiting","showAccountNumber":"Show account number","keepWaiting":"Keep waiting","next":"Next","closeCheckout":"Close checkout","slides":{"processLateNotification":{"slideOne":"It’s taking longer than expected to confirm your transfer. You don’t have to wait here till we confirm it.","slideTwo":"We’ll complete this transaction automatically once we confirm your transfer.","slideThree":"If you have any issues with this transfer, please contact support@paystack.com"},"refundLateNotification":{"slideOne":"Usually transfers are confirmed within seconds, but sometimes it can take a little longer","slideTwo":"We’ll keep checking for your transfer until the bank account number expires","slideThree":"If for any reason your transfer is not confirmed, your bank account will receive a refund"}}},"fr":{"helpMessage":"Il arrive que la banque mette du temps à confirmer votre virement. Si ce compte expire avant que votre banque ne confirme votre virement, nous l\'annulerons.","continueWaiting":"Patientez","showAccountNumber":"Afficher le numéro de compte","keepWaiting":"Patientez","next":"Suivant","closeCheckout":"Fermer la commande","slides":{"processLateNotification":{"slideOne":"La confirmation de votre virement prend plus de temps que prévu. Vous n\'avez pas besoin d\'attendre ici pendant que nous le confirmons..","slideTwo":"Nous effectuerons cette transaction automatiquement dès que nous aurons confirmé votre virement..","slideThree":"Si vous éprouvez des difficultés à effectuer ce virement, veuillez contacter support@paystack.com."},"refundLateNotification":{"slideOne":"En général, les virements sont confirmés en quelques secondes, mais cela peut parfois prendre un peu plus de temps","slideTwo":"Nous surveillerons votre virement jusqu\'à ce que le numéro de compte bancaire expire","slideThree":"Si, pour une raison quelconque, votre virement n\'est pas confirmé, il vous sera restitué sur votre compte bancaire"}}}}'),delete e.options._Ctor}},49697:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"helpMessage":"Sometimes it takes a while for the bank to confirm your transfer. If this account expires before your bank confirms your transfer, we will reverse it.","continueWaiting":"Continue waiting","showAccountNumber":"Show account number","keepWaiting":"Keep waiting","next":"Next","closeCheckout":"Close checkout","slides":{"processLateNotification":{"slideOne":"It’s taking longer than expected to confirm your transfer. You don’t have to wait here till we confirm it.","slideTwo":"We’ll complete this transaction automatically once we confirm your transfer.","slideThree":"If you have any issues with this transfer, please contact support@paystack.com"},"refundLateNotification":{"slideOne":"Usually transfers are confirmed within seconds, but sometimes it can take a little longer","slideTwo":"We’ll keep checking for your transfer until the bank account number expires","slideThree":"If for any reason your transfer is not confirmed, your bank account will receive a refund"}}},"fr":{"helpMessage":"Il arrive que la banque mette du temps à confirmer votre virement. Si ce compte expire avant que votre banque ne confirme votre virement, nous l\'annulerons.","continueWaiting":"Patientez","showAccountNumber":"Afficher le numéro de compte","keepWaiting":"Patientez","next":"Suivant","closeCheckout":"Fermer la commande","slides":{"processLateNotification":{"slideOne":"La confirmation de votre virement prend plus de temps que prévu. Vous n\'avez pas besoin d\'attendre ici pendant que nous le confirmons..","slideTwo":"Nous effectuerons cette transaction automatiquement dès que nous aurons confirmé votre virement..","slideThree":"Si vous éprouvez des difficultés à effectuer ce virement, veuillez contacter support@paystack.com."},"refundLateNotification":{"slideOne":"En général, les virements sont confirmés en quelques secondes, mais cela peut parfois prendre un peu plus de temps","slideTwo":"Nous surveillerons votre virement jusqu\'à ce que le numéro de compte bancaire expire","slideThree":"Si, pour une raison quelconque, votre virement n\'est pas confirmé, il vous sera restitué sur votre compte bancaire"}}}}'),delete e.options._Ctor}},37854:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"howToPay":"How to pay with PayAttitude","next":"Next","backToPayment":"Back to payment","slides":{"pageOne":{"title":"To pay with PayAttitude, you need to do one of the following:","stepOne":"Register your phone number for PayAttitude via the *596# USSD code","stepTwo":"Be a customer of one of PayAttitude’s <a class=\'a-link\' href=\'https://support.paystack.com/hc/en-us/articles/4408535683218-Pay-with-PayAttitude\' target=\'_blank\'>supported banks</a>"},"pageTwo":{"title":"Once you confirm that you can pay with PayAttitude:","stepOne":"Enter your registered phone number","stepTwo":"You will receive a USSD prompt on your phone","stepThree":"Enter your 6-digit PayAttitude pin or your bank USSD pin if you use one of the <a class=\'a-link\' href=\'https://support.paystack.com/hc/en-us/articles/4408535683218-Pay-with-PayAttitude\' target=\'_blank\'>supported banks</a> to complete the payment"}}},"fr":{"howToPay":"Comment payer avec PayAttitude","next":"Suivant","backToPayment":"Retour au paiement","slides":{"pageOne":{"title":"Pour payer avec PayAttitude, vous devez effectuer l\'une des opérations suivantes :","stepOne":"Enregistrer votre numéro de téléphone pour PayAttitude via le code USSD *596#.","stepTwo":"Être client de l\'une des <a class=\'a-link\' href=\'https://support.paystack.com/hc/en-us/articles/4408535683218-Pay-with-PayAttitude\' target=\'_blank\'>banques</a> prises en charge par PayAttitude."},"pageTwo":{"title":"Une fois que vous confirmez que vous pouvez payer avec PayAttitude :","stepOne":"Saisissez votre numéro de téléphone enregistré","stepTwo":"Vous recevrez une invite USSD sur votre téléphone","stepThree":"Saisissez votre code PIN PayAttitude à 6 chiffres ou le code PIN USSD de votre banque si vous utilisez l\'une des <a class=\'a-link\' href=\'https://support.paystack.com/hc/en-us/articles/4408535683218-Pay-with-PayAttitude\' target=\'_blank\'>banques</a> prises en charge pour effectuer le paiement"}}}}'),delete e.options._Ctor}},29781:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"instructionMessage":"Please enter your registered phone number to start this payment","howToPay":"How to pay with PayAttitude","continue":"Continue"},"fr":{"instructionMessage":"Veuillez saisir votre numéro de téléphone enregistré pour commencer ce paiement","howToPay":"Comment payer avec PayAttitude","continue":"Continuer"}}'),delete e.options._Ctor}},12815:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"test":"Test","merchantLogo":"{{merchantName}} Logo","pay":{"text":"Pay","amount":"{{amount, baseunit, number}}"}},"fr":{"test":"Test","merchantLogo":"Logo {{merchantName}} ","pay":{"text":"Payer","amount":"{{amount, baseunit, number}}"}}}'),delete e.options._Ctor}},82352:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"instructionMessage":"Pay with a saved card"},"fr":{"instructionMessage":"Payer avec une carte enregistrée"}}'),delete e.options._Ctor}},96055:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"message":"You\'ll be redirected to PayPal complete this payment","errorMessage":"Could not load payment method"},"fr":{"message":"Vous serez redirigé vers PayPal pour effectuer ce paiement","errorMessage":"Impossible de charger le mode de paiement"}}'),delete e.options._Ctor}},69108:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"sendOtp":"Send OTP","instructionMessage":"Please enter your mobile phone number (at least 10 digits)"},"fr":{"sendOtp":"Envoyer le Mot de passe","instructionMessage":"Veuillez saisir votre numéro de téléphone mobile (au moins 10 chiffres)"}}'),delete e.options._Ctor}},68786:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"instructionMessage":"Enter your phone number","continue":"Continue","clickHereToChoose":"Click here to choose"},"fr":{"instructionMessage":"Saisir votre numéro de téléphone","continue":"Continuer","clickHereToChoose":"Cliquez ici pour choisir"}}'),delete e.options._Ctor}},36609:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"tryAgain":"Try again","payWithChannel":"Pay with {{ channel }}","alreadySent":"I already sent the money"},"fr":{"tryAgain":"Réessayer","payWithChannel":"Payer avec {{ channel }}","alreadySent":"J\'ai déjà envoyé l\'argent"}}'),delete e.options._Ctor}},2495:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"tryAgain":"Try again","payWithChannel":"Pay with {{ channel }}","alreadySent":"I already sent the money"},"fr":{"tryAgain":"Réessayer","payWithChannel":"Payer avec {{ channel }}","alreadySent":"J\'ai déjà envoyé l\'argent"}}'),delete e.options._Ctor}},74239:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"downloadQrCode":"Download QR code","copied":"Copied!"},"fr":{"downloadQrCode":"Télécharger le QR code","copied":"Copié!"}}'),delete e.options._Ctor}},30318:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"authenticate":"Authenticate","close":"Close","authMessage":{"redirected":"Waiting for response from your {{destination}}","connecting":"Please wait while we connect to your bank","notRedirected_mobile":"Please tap the button below to authenticate with your bank","notRedirected_desktop":"Please click the button below to authenticate with your bank"}},"fr":{"authenticate":"Authentifier","close":"Fermer","authMessage":{"redirected":"En attente d\'une réponse de votre {{destination}}","connecting":"Veuillez patienter pendant que nous nous connectons à votre banque","notRedirected_desktop":"Veuillez appuyer sur le bouton ci-dessous pour vous identifier auprès de votre banque","notRedirected_mobile":"Veuillez cliquer sur le bouton ci-dessous pour vous identifier auprès de votre banque"}}}'),delete e.options._Ctor}},5849:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"cardDescription":"{{ type }} ending in","forgetCard":"Forget Card","cardIcon":"Card Icon","deleteCard":"Delete Card"},"fr":{"cardDescription":"{{ type }} se terminant par","forgetCard":"Oublier cette carte","cardIcon":"Icône de la Carte","deleteCard":"Supprimer cette carte"}}'),delete e.options._Ctor}},87583:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"continue":"Continue","singleCardInstructionMessage":"Continue this payment with your saved card","multipleCardsInstructionMessage":"Choose one of your saved cards to continue this payment","payWithAnotherCard":"Or pay with another card"},"fr":{"continue":"Continuer","singleCardInstructionMessage":"Continuer ce paiement avec votre carte enregistrée","multipleCardsInstructionMessage":"Choisir l\'une de vos cartes enregistrées pour continuer ce paiement","payWithAnotherCard":"Ou payer avec une autre carte"}}'),delete e.options._Ctor}},56747:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"checkingTransactionStatus":"Checking transaction status"},"fr":{"checkingTransactionStatus":"Etat de la transaction"}}'),delete e.options._Ctor}},82898:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"cancelPayment":"Cancel Payment","error":"Error","errorTitle":{"404":"We couldn\'t find this page"},"errorMessage":{"404":"We checked everywhere, but nothing came up for the link provided","notFound":"It\'s either because the link is incorrect or the transaction is already completed"},"reload":"Reload"},"fr":{"cancelPayment":"Annuler le Paiement","error":"Erreur","errorTitle":{"404":"Impossible de trouver cette page"},"errorMessage":{"404":"Nous avons vérifié partout, mais rien n\'est apparu pour le lien fourni","notFound":"C\'est soit parce que le lien est incorrect, soit parce que la transaction a déjà été effectuée"},"reload":"Recharger"}}'),delete e.options._Ctor}},96268:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"shortCodeExpiry":"This code expires in <span data-testid=\\"\\" style=\\"font-weight: bold; color: #868686\\">{{timeLeft}}</span>","clickToCopy":"Click to copy","tapToCall":"Tap (or Long Press) to call"},"fr":{"shortCodeExpiry":"Le code expire dans <span data-testid=\\"\\" style=\\"font-weight: bold; color: #868686\\">{{timeLeft}}</span>","clickToCopy":"Cliquez pour copier","tapToCall":"Appuyer (ou Appuyer Longuement) pour appeler"}}'),delete e.options._Ctor}},58452:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"instruction":"Scan the QR code below in your SnapScan mobile app to complete the payment","openInSnapScanApp":"Open in SnapScan app","snapScanLogo":"SnapScan Logo"},"fr":{"instruction":"Scannez le QR code ci-dessous dans votre application mobile SnapScan pour effectuer le paiement","openInSnapScanApp":"Ouvrir dans l\'application SnapScan","snapScanLogo":"Logo de SnapScan"}}'),delete e.options._Ctor}},36790:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"title":{"pending":"Payment processing","success":"Payment Successful"},"message":{"success":"You paid {{amount, baseunit, number}} to {{- merchant}}","pending":"Your payment of {{amount, baseunit, number}} to {{- merchant}} is being processed, you will be notified by your bank when the payment is completed."}},"fr":{"title":{"pending":"Traitement du paiement","success":"Paiement réussi"},"message":{"success":"Vous avez payé {{amount, baseunit, number}} à {{- merchant}}","pending":"Votre paiement de {{amount, baseunit, number}} à {{- merchant}} est en cours de traitement, vous recevrez une notification de votre banque une fois le paiement effectué."}}}'),delete e.options._Ctor}},39520:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"instructionMessage":"Use any of the options below to test the payment flow","paymentInstruction":"Pay {{amount, baseunit, number}}","useAnotherCard":"Use another card","cards":{"success":"Success","bankAuth":"Bank Authentication","declined":"Declined"}},"fr":{"instructionMessage":"Utiliser l\'une des cartes de test ci-dessous pour effectuer ce paiement","paymentInstruction":"Payer {{amount, baseunit, number}}","useAnotherCard":"Utiliser une autre carte","cards":{"success":"Réussi","bankAuth":"Autorisation de la banque","declined":"Refusé"}}}'),delete e.options._Ctor}},86555:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"searchFieldPlaceholder":"Find a bank","instructionMessage":"Choose your bank to start the payment"},"fr":{"searchFieldPlaceholder":"Cliquez ici pour choisir","instructionMessage":"Choisissez votre banque pour commencer le paiement"}}'),delete e.options._Ctor}},79039:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"howToPay":"How to pay with {{providerName}} USSD","next":"Next","backToPayment":"Back to payment","slides":{"pageOne":{"title":"To pay with {{bank}} USSD, you need to do the following:","stepOne":"Dial <span style=\\"font-weight: bold;\\">{{registrationCode}}</span> with your registered phone number","stepTwo":"Follow the on screen prompts and create your authentication PIN"},"pageTwo":{"title":"Once you confirm that you can pay with {{bank}} USSD:","stepOne":"Dial <span style=\\"font-weight: bold;\\">{{paymentString}}</span>","stepTwo_ussd":"Follow the on-screen prompts and complete the transaction with your PIN or password","stepTwo_pwt":"Select {{bankName}} as the beneficiary bank, follow the on-screen prompts and complete the transaction with your PIN or password"}}},"fr":{"howToPay":"Comment payer par USSD avec {{providerName}}","next":"Suivant","backToPayment":"Retour au paiement","slides":{"pageOne":{"title":"Pour payer par USSD avec {{bank}}, vous devez effectuer l\'une des opérations suivantes :","stepOne":"Composez <span style=\\"font-weight: bold;\\">{{registrationCode}}</span> avec le numéro de téléphone que vous avez enregistré auprès de {{bank}}","stepTwo":"Suivez les instructions et créez votre code PIN d\'authentification"},"pageTwo":{"title":"Une fois que vous avez confirmé que vous pouvez payer par USSD avec {{bank}}:","stepOne":"Composez <span style=\\"font-weight: bold;\\">{{paymentString}}</span>","stepTwo_ussd":"Suivez les instructions et complétez la transaction avec votre code PIN ou votre mot de passe","stepTwo_pwt":"Sélectionnez {{bankName}} comme banque bénéficiaire, suivez les instructions et terminez la transaction avec votre code PIN ou votre mot de passe"}}}}'),delete e.options._Ctor}},90798:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"howToPay":"How to pay with {{providerName}} USSD","paymentCompleted":"I\'ve completed the payment","shortCodeInstruction_ussd":"Dial the code below to complete this transaction with {{- providerMessage}}","shortCodeInstruction_pwt":"Dial the code below and select <span style=\\"font-weight: bold;\\">{{bankName}}</span> to complete this transaction"},"fr":{"howToPay":"Comment payer par USSD avec {{providerName}}","paymentCompleted":"J\'ai effectué le paiement","shortCodeInstruction_ussd":"Composez le code ci-dessous pour terminer cette transaction avec {{- providerMessage}}","shortCodeInstruction_pwt":"Composez le code ci-dessous et sélectionnez <span style=\\"font-weight: bold;\\">{{bankName}}</span> pour terminer cette transaction"}}'),delete e.options._Ctor}},27250:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"waitingForTransfer":"We\'re waiting to receive your payment. This can take a few minutes","sent":"Sent","received":"Received","showUssdString":"Show USSD string"},"fr":{"waitingForTransfer":"Nous attendons de recevoir votre paiement. Cela peut prendre quelques minutes","sent":"Envoyé","received":"Reçu","showUssdString":"Afficher le code USSD"}}'),delete e.options._Ctor}},88195:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"downloadQrCode":"Download qr code","visaLogo":"Visa Logo","instruction":"Scan the QR code below in your Ecobank, FirstBank, Fidelity, Access, Diamond, Paga, or Zenith Bank mobile app to complete the payment."},"fr":{"downloadQrCode":"Télécharger le QR code","visaLogo":"Logo de Visa","instruction":"Scanner le QR code ci-dessous dans votre application mobile Ecobank, FirstBank, Fidelity, Access, Diamond, Paga ou Zenith Bank pour effectuer le paiement."}}'),delete e.options._Ctor}},59255:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"titleText":"Please follow these steps to complete this payment","instructions":{"stepOne":"Dial <span style=\'font-weight:600\'>*110#</span> on your mobile phone","stepTwo":"Select option 4: <span style=\'font-weight:600\'>Make Payments</span>","stepThree":"Select option 4: <span style=\'font-weight:600\'>Generate Voucher</span> and enter your pin to complete the request","stepFour":"You will receive a text message containing your voucher code"},"paymentButtonText":"I have received my voucher code"},"fr":{"titleText":"Veuillez suivre les étapes suivantes pour effectuer ce paiement","instructions":{"stepOne":"Composez <span style=\'font-weight:600\'>*110#</span> sur votre téléphone portable","stepTwo":"Sélectionnez l\'option 4 : <span style=\'font-weight:600\'>Effectuer des paiements</span>","stepThree":"Sélectionnez l\'option 4 : Obtenir un <span style=\'font-weight:600\'>code promo</span> et entrez votre code pin pour effectuer la demande","stepFour":"Vous recevrez un SMS contenant le code promo"},"paymentButtonText":"J\'ai reçu mon code promo"}}'),delete e.options._Ctor}},55765:function(e){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"payWith":"Pay with","messageMobile":"Use one of the payment methods below to pay {{amount, baseunit, number}} to {{- merchant}}"},"fr":{"payWith":"Payer avec","messageMobile":"Utiliser l\'un des modes de paiement ci-dessous pour payer {{amount, baseunit, number}} à {{- merchant}}"}}'),delete e.options._Ctor}},98165:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,{disableAnalytics:function(){return _t},identifySession:function(){return yt},initializeAnalytics:function(){return vt},trackAuthenticationAttempt:function(){return kt},trackBankTransferAccountExpired:function(){return qt},trackBankTransferCreditRequestReceived:function(){return Wt},trackCheckoutClosed:function(){return $t},trackCheckoutResumedAfterAuthentication:function(){return Dt},trackClickedBackToAccount:function(){return Ft},trackClickedCloseCheckout:function(){return Gt},trackClickedContinueWaiting:function(){return Kt},trackClickedDigitalBankMandateRequeryButton:function(){return Jt},trackClickedHowToGeneratePayId:function(){return Qt},trackClickedIveSentTheMoney:function(){return Lt},trackClickedNeedHelp:function(){return Ht},trackClickedSkipWaiting:function(){return zt},trackCustomerSavedCard:function(){return Pt},trackEncounteredBankTransferGenerateError:function(){return Vt},trackEncounteredPayIdWaitingScreen:function(){return jt},trackEncounteredTransferWaitingScreen:function(){return Ut},trackEncounteredUssdTransferPendingScreen:function(){return en},trackEncounteredWrongTransferAmountError:function(){return Bt},trackErrorResolutionUsage:function(){return St},trackForgotRememberedCard:function(){return xt},trackGeneratedBankTransferAccount:function(){return Ot},trackGeneratedNewBankTransferAccount:function(){return Zt},trackPaymentAttempt:function(){return Ct},trackPaymentCompletion:function(){return It},trackPaymentConfirmation:function(){return Mt},trackPaymentError:function(){return Tt},trackPaymentRequestApiSupported:function(){return Xt},trackRecoveredFromPwtTimeoutError:function(){return Yt},trackRememberCardClicked:function(){return Nt},trackRememberCardShown:function(){return At},trackRequiredAuthentication:function(){return wt},trackSetupError:function(){return gt},trackSwitchedLanguage:function(){return nn},trackTokenResend:function(){return Et},trackUnidentifiedError:function(){return Rt},trackValidationErrors:function(){return bt},trackViewedUssdPaymentInstructions:function(){return tn}});n(66992),n(88674),n(19601),n(17727),n(74916),n(23123);var s=n(20144),r=n(89718),i=n(89394),o=n(27482),c=n.n(o),u=n(72268),l=n.n(u),d=n(90637),p=n(66626),m=n(20629),h=n(4266),f=n.n(h),v={ENVIRONMENT:"production",API_URL:"https://api.paystack.co/",GOOGLE_ANALYTICS_TRACKING_ID:"UA-105017042-10",AMPLITUDE_API_KEY:"e2bee428e183863bc7699daded4d1f7d",I18N_ENABLED:"true",I18N_DEFAULT_LANGUAGE:"en",I18N_SUPPORTED_LANGUAGES:"en,fr",E2E:{NODE_ENV:"production",VUE_APP_API_URL:"https://api.paystack.co/",VUE_APP_CHECKOUT_URL:"https://checkout.paystack.com/",VUE_APP_GOOGLE_ANALYTICS_TRACKING_ID:"UA-105017042-10",VUE_APP_AMPLITUDE_API_KEY:"e2bee428e183863bc7699daded4d1f7d",VUE_APP_DATADOG_APPLICATION_ID:"bffe41ca-4ee5-4638-860e-b47464d48238",VUE_APP_DATADOG_CLIENT_TOKEN:"pub8fd351ca83452351f7770ce29fefa927",VUE_APP_DATADOG_SERVICE:"checkout-ui-prod",VUE_APP_I18N_ENABLED:"true",VUE_APP_I18N_DEFAULT_LANGUAGE:"en",VUE_APP_I18N_SUPPORTED_LANGUAGES:"en,fr",VUE_APP_ROLLBAR_ACCESS_TOKEN:"df03469e04c6425b82955928cbcd1845",BASE_URL:"/"}.VUE_APP_E2E,DATADOG_APPLICATION_ID:"bffe41ca-4ee5-4638-860e-b47464d48238",DATADOG_CLIENT_TOKEN:"pub8fd351ca83452351f7770ce29fefa927",DATADOG_SERVICE:"checkout-ui-prod",ROLLBAR_ACCESS_TOKEN:"df03469e04c6425b82955928cbcd1845"},g=v,_={mode:null,language:g.I18N_DEFAULT_LANGUAGE||"en",amplitudeIsTracking:!0,amplitudeEventId:0,amplitudeSessionId:Date.now(),browserIp:null},y={mode:function(e){return e.mode},language:function(e){return e.language},amplitudeIsTracking:function(e){return e.amplitudeIsTracking},amplitudeEventId:function(e){return e.amplitudeEventId},amplitudeSessionId:function(e){return e.amplitudeSessionId},browserIp:function(e){return e.browserIp}},b={setMode:function(e,t){var n=e.commit;n("setMode",t)},setLanguage:function(e,t){var n=e.commit;n("setLanguage",t)},setBrowserIp:function(e,t){var n=e.commit;n("setBrowserIp",t)},setAmplitudeIsTracking:function(e,t){var n=e.commit;n("setAmplitudeIsTracking",t)},setAmplitudeEventId:function(e){var t=e.commit;t("setAmplitudeEventId")},setAmplitudeSessionId:function(e,t){var n=e.commit;n("setAmplitudeSessionId",t)}},C={setMode:function(e,t){e.mode=t},setLanguage:function(e,t){e.language=t},setAmplitudeIsTracking:function(e,t){e.amplitudeIsTracking=t},setBrowserIp:function(e,t){e.browserIp=t},setAmplitudeEventId:function(e){e.amplitudeEventId+=1},setAmplitudeSessionId:function(e,t){var n=Math.floor((t-e.amplitudeSessionId)/1e3);n>=300&&(e.amplitudeSessionId=Date.now())}},w={state:_,getters:y,actions:b,mutations:C},k=n(95082),E=(n(57327),n(41539),{transaction:null,status:null,lastResponse:null,availableChannels:[],activeChannel:{name:null},ussdProvider:null,isCharging:!1,isRedirected:!1,reusePaymentInfo:!1,useDefaultChannelView:!1,isResumed:!1,paymentInstrument:{},isRecurringCardCharge:!1}),T={transaction:function(e){return e.transaction},status:function(e){return e.status},lastResponse:function(e){return e.lastResponse},availableChannels:function(e){return e.availableChannels},activeChannel:function(e){return e.activeChannel},isCharging:function(e){return e.isCharging},isRedirected:function(e){return e.isRedirected},reusePaymentInfo:function(e){return e.reusePaymentInfo},useDefaultChannelView:function(e){return e.useDefaultChannelView},isResumed:function(e){return e.isResumed},ussdProvider:function(e){return e.ussdProvider},paymentInstrument:function(e){return e.paymentInstrument},isRecurringCardCharge:function(e){return e.isRecurringCardCharge}},S={setActiveTransaction:function(e,t){var n=e.commit;t&&n("setTransaction",t)},removeTransaction:function(e){var t=e.commit;t("removeTransaction")},setAvailableChannels:function(e,t){var n=e.commit;t&&t.length&&n("setAvailableChannels",t)},resetChannels:function(e){var t=e.commit;t("resetChannels")},setActiveChannel:function(e,t){var n=e.commit;n("setActiveChannel",t)},setChargingState:function(e,t){var n=e.commit,a=!0===t?"isCharging":"isNotCharging";n(a)},setIsRedirected:function(e,t){var n=e.commit;n("setIsRedirected",t)},setTransactionStatus:function(e,t){var n=e.commit;t&&n("setTransactionStatus",t)},saveLastResponse:function(e,t){var n=e.commit;n("saveLastResponse",t)},setPaymentInfoReusage:function(e,t){var n=e.commit,a=!0===t?"reusePaymentInfo":"dontReusePaymentInfo";n(a)},deleteRememberedCard:function(e,t){var n=e.commit;n("deleteRememberedCard",t)},useDefaultChannelView:function(e){var t=e.commit;t("useDefaultChannelView")},setTransactionAsResumed:function(e){var t=e.commit;t("setTransactionAsResumed")},setUssdProvider:function(e,t){var n=e.commit;n("setUssdProvider",t)},savePaymentInstrument:function(e,t){var n=e.commit;n("savePaymentInstrument",t)},setIsRecurringCardCharge:function(e,t){var n=e.commit;n("setisRecurringCardCharge",t)}},R={setTransaction:function(e,t){e.transaction=t},removeTransaction:function(e){e.transaction=null},setAvailableChannels:function(e,t){e.availableChannels=t},resetChannels:function(e){e.availableChannels=[]},setActiveChannel:function(e,t){e.activeChannel=t},setTransactionStatus:function(e,t){e.status=t},saveLastResponse:function(e,t){e.lastResponse=t},isCharging:function(e){e.isCharging=!0},isNotCharging:function(e){e.isCharging=!1},setIsRedirected:function(e,t){e.isRedirected=t},reusePaymentInfo:function(e){e.reusePaymentInfo=!0},dontReusePaymentInfo:function(e){e.reusePaymentInfo=!1},deleteRememberedCard:function(e,t){e.transaction.authorizations=e.transaction.authorizations.filter((function(e){var n=e.id;return n!==t}))},useDefaultChannelView:function(e){e.useDefaultChannelView=!0},setTransactionAsResumed:function(e){e.isResumed=!0},setisRecurringCardCharge:function(e,t){e.isRecurringCardCharge=t},setUssdProvider:function(e,t){e.ussdProvider=t},savePaymentInstrument:function(e,t){e.paymentInstrument=(0,k.Z)((0,k.Z)({},e.paymentInstrument),t)}},I={state:E,getters:T,actions:S,mutations:R},A=JSON.parse('{"en":{"14-02-2020":"Happy Valentine\'s Day ❤️","06-03-2018":"Happy Independence Day 🇬🇭","01-04-2018":"Happy Easter 🙏","01-05-2018":"Happy Worker\'s Day 💪","27-05-2020":"Happy Children\'s Day 👶","12-06-2020":"Happy Democracy Day 🇳🇬","11-08-2019":"Barka da Sallah 🎉","01-10-2020":"Happy Independence Day 🇳🇬","25-12-2020":"Merry Christmas 🎉","26-12-2020":"Happy Boxing Day 🎁"},"fr":{"14-02-2020":"Joyeuse Saint-Valentin ❤️","06-03-2018":"Bonne Fête de l\'Indépendance 🇬🇭","01-04-2018":"Bonne Fête de Pâques 🙏","01-05-2018":"Bonne Fête du Travail 💪","27-05-2020":"Bonne Fête des Enfants 👶","12-06-2020":"Bonne Fête de la Démocratie 🇳🇬","11-08-2019":"Barka da Sallah 🎉","01-10-2020":"Bonne Fête de l\'Indépendance 🇳🇬","25-12-2020":"Joyeux Noël 🎉"}}'),N=JSON.parse('{"pan is invalid":{"type":"card-number-error","resolution":"retry-same-payment-method","message":{"en":"Transaction declined.","fr":"Transaction refusée."}},"insufficient funds":{"type":"default","resolution":"retry-same-channel","message":{"en":"Your transaction was declined due to insufficient funds in your bank account.","fr":"Votre transaction a été refusée en raison d\'une insuffisance de fonds sur votre compte bancaire."}},"suspected fraud":{"type":"bank-error","resolution":"do-not-retry","message":{"en":"Transaction declined by bank or financial institution.","fr":"Transaction refusée par la banque ou l\'institution financière."}},"exceeds withdrawal limit":{"type":"bank-error","resolution":"retry-same-channel","message":{"en":"Your transaction was declined because it will cause your bank balance to drop below the required minimum.","fr":"Votre transaction a été refusée car elle entraînerait une baisse du solde de votre compte en dessous du minimum requis."}},"issuer or switch inoperative":{"type":"bank-processor-error","resolution":"retry-same-payment-method","message":{"en":"Your bank’s network is currently unreachable. Please try again later.","fr":"Le réseau de votre banque est actuellement indisponible. Veuillez réessayer plus tard."}},"token authorization not successful. incorrect token supplied":{"type":"otp-error","resolution":"retry-same-payment-method","message":{"en":"Incorrect OTP. Please retry with the correct OTP.","fr":"Mot de passe incorrect. Veuillez réessayer avec le bon mot de passe"}},"invalid_token_supplied":{"type":"otp-error","resolution":"retry-same-payment-method","message":{"en":"Incorrect OTP. Please retry with the correct OTP.","fr":"Mot de passe incorrect. Veuillez réessayer avec le bon mot de passe"}},"no card record":{"type":"customer-error","resolution":"retry-same-channel","message":{"en":"Transaction declined by bank or financial institution.","fr":"Transaction refusée par la banque ou l\'institution financière."}},"transaction not permitted to cardholder":{"type":"customer-error","resolution":"retry-same-channel","message":{"en":"We were unable to complete this transaction.","fr":"Nous n\'avons pas pu effectuer cette transaction."}},"system malfunction":{"type":"system-error","resolution":"retry-same-payment-method","message":{"en":"We were unable to complete this transaction.","fr":"Nous n\'avons pas pu effectuer cette transaction."}},"incorrect pin":{"type":"customer-error","resolution":"retry-same-payment-method","message":{"en":"Incorrect pin. Please retry with the correct pin.","fr":"Code PIN incorrect. Veuillez réessayer avec le bon code."}},"no check account":{"type":"system-error","resolution":"retry-same-payment-method","message":{"en":"Your card may not have been properly setup. Try again, but if you keep getting this error, please contact your bank or financial institution.","fr":"Votre carte n\'a peut-être pas été correctement configurée. Essayez à nouveau, mais si le problème persiste, veuillez contacter votre banque ou votre institution financière."}},"do not honor":{"type":"system-error","resolution":"retry-same-channel","message":{"en":"Transaction declined by bank or financial institution.","fr":"Transaction refusée par la banque ou l\'institution financière."}},"refer to financial institution":{"type":"system-error","resolution":"retry-same-channel","message":{"en":"Transaction declined by bank or financial institution.","fr":"Transaction refusée par la banque ou l\'institution financière."}},"pin tries exceeded, pick-up":{"type":"system-error","resolution":"retry-same-channel","message":{"en":"This card was previously blocked by your bank due to multiple incorrect PIN entries. Please contact your bank to collect a new card.","fr":"Cette carte a déjà été bloquée par votre banque en raison de plusieurs saisies incorrectes du code PIN. Veuillez contacter votre banque pour obtenir une nouvelle carte."}},"exceeds withdrawal frequency":{"type":"system-error","resolution":"retry-same-channel","message":{"en":"You have exceeded the number of daily withdrawals allowed for this card. If you’ll need to do more transactions in a day, please contact your bank to increase your daily withdrawal limit.","fr":"Vous avez dépassé le nombre de retraits quotidiens autorisés pour cette carte. Si vous devez effectuer plus de transactions dans une journée, veuillez contacter votre banque pour augmenter votre limite de retrait quotidienne."}},"invalid transaction":{"type":"system-error","resolution":"retry-same-payment-method","message":{"en":"We were unable to complete this transaction.","fr":"Nous n\'avons pas pu effectuer cette transaction."}},"function not supported":{"type":"system-error","resolution":"retry-same-payment-method","message":{"en":"We were unable to complete this transaction.","fr":"Nous n\'avons pas pu effectuer cette transaction."}},"pin tries exceeded":{"type":"system-error","resolution":"retry-same-channel","message":{"en":"PIN tries have been exceeded. Please do not try again until you reset your PIN. Your card may get blocked by your bank if you continue trying. To reset your PIN, please contact your bank.","fr":"Le nombre d\'essais du code PIN a été dépassé. Veuillez ne pas réessayer avant d\'avoir réinitialisé votre code PIN. Votre carte pourrait être bloquée par votre banque si vous persistez. Pour réinitialiser votre code PIN, veuillez contacter votre banque."}},"contact acquirer lost card, pick-up":{"type":"bank-error","resolution":"retry-same-channel","message":{"en":"This card has been reported as missing. Please contact your bank.","fr":"La perte de cette carte a été signalée. Veuillez contacter votre banque."}},"the pin contains an invalid character":{"type":"customer-error","resolution":"retry-same-payment-method","message":{"en":"Your PIN must be exactly 4 digits.","fr":"Votre code PIN doit comporter exactement 4 chiffres."}},"exceeds maximum amount allowed":{"type":"system-error","resolution":"retry-same-channel","message":{"en":"The value of this transaction exceeds the maximum amount allowed for this card.","fr":"La valeur de cette transaction dépasse le montant maximum autorisé pour cette carte."}},"no savings account":{"type":"system-error","resolution":"retry-same-payment-method","message":{"en":"Your card may not have been properly setup. Try again, but if you keep getting this error, please contact your bank or financial institution.","fr":"Votre carte n\'a peut-être pas été correctement configurée. Essayez à nouveau, mais si le problème persiste, veuillez contacter votre banque ou votre institution financière."}},"amount greater than daily transaction limit":{"type":"system-error","resolution":"retry-same-channel","message":{"en":"You have exceeded your daily withdrawal limit for this card","fr":"Vous avez dépassé votre limite de retrait quotidienne pour cette carte."}},"suspected malfunction":{"type":"system-error","resolution":"retry-same-payment-method","message":{"en":"We were unable to complete this transaction.","fr":"Nous n\'avons pas pu effectuer cette transaction."}},"refer to financial institution, special condition":{"type":"system-error","resolution":"retry-same-channel","message":{"en":"This transaction was blocked by your bank or financial institution. Please contact your bank for help.","fr":"Cette transaction a été bloquée par votre banque ou votre institution financière. Veuillez contacter votre banque pour obtenir de l\'aide."}},"transaction not permitted on terminal":{"type":"system-error","resolution":"retry-same-channel","message":{"en":"Your card may not be enabled for web transactions. Please confirm with your bank that this card can be used for online payments.","fr":"Il se peut que votre carte ne soit pas activée pour les transactions en ligne. Veuillez confirmer auprès de votre banque que cette carte peut être utilisée pour les paiements en ligne."}},"cardinal lookup failed":{"type":"bank-error","resolution":"retry-same-channel","message":{"en":"Transaction declined by bank or financial institution.","fr":"Transaction refusée par la banque ou l\'institution financière."}},"failed":{"type":"system-error","resolution":"retry-same-payment-method","message":{"en":"We were unable to complete this transaction.","fr":"Nous n\'avons pas pu effectuer cette transaction."}},"transaction declined. please use the test card":{"type":"default","resolution":"use-test-details","message":{"en":"Transaction declined. Please use test payment details.","fr":"Transaction refusée. Veuillez utiliser les informations du paiement test."}},"transaction already succeeded":{"type":"system-error","resolution":"success","message":{"en":"Transaction was already successful.","fr":"La transaction a déjà réussi."}},"transaction already successful":{"type":"system-error","resolution":"success","message":{"en":"Transaction was already successful.","fr":"La transaction a déjà réussi."}},"ooooops. Something went wrong, invalid transaction":{"type":"default","resolution":"retry-same-payment-method","message":{"en":"We were unable to complete this transaction.","fr":"Nous n\'avons pas pu effectuer cette transaction."}},"declined. please use the test mobile money number since you are doing a test transaction":{"type":"default","resolution":"use-test-details","message":{"en":"Please use the test mobile money number for this test transaction.","fr":"Veuillez utiliser le numéro mobile money test pour cette transaction test."}},"processing... please wait":{"type":"system-error","resolution":"requery","message":{"en":"Please wait while we process your payment.","fr":"Veuillez patienter pendant que nous traitons votre paiement."}},"token authentication failed. incorrect token supplied":{"type":"otp-error","resolution":"retry-same-channel","message":{"en":"Incorrect OTP. Please retry with the correct OTP.","fr":"Mot de passe incorrect. Veuillez réessayer avec le bon mot de passe "}},"daily transaction limit exceeded":{"type":"default","resolution":"retry-same-channel","message":{"en":"This transaction was declined because it would cause you to exceed your daily transaction limit.","fr":"Cette transaction a été refusée car elle vous aurait fait dépasser votre limite quotidienne de transactions."}},"our test bank account for emandate is\\nzenith bank\\naccount:0000000000\\ntoken:123456":{"type":"default","resolution":"use-test-details","message":{"en":"Please use the test bank account for this transaction.","fr":"Veuillez utiliser le compte bancaire test pour cette transaction."}},"_this2.pushersubscription.bind is not a function":{"type":"pusher-error","resolution":"use-other-channel","message":{"en":"We were unable to setup this payment method. Please use another payment method.","fr":"Nous n\'avons pas pu configurer ce mode de paiement. Veuillez utiliser un autre mode de paiement."}},"transaction record not found on payment gateway":{"type":"bank-error","resolution":"retry-same-payment-method","message":{"en":"We were unable to complete this transaction.","fr":"Nous n\'avons pas pu effectuer cette transaction."}},"request failed with status code 400":{"code":"040","type":"system-error","resolution":"use-other-channel","message":{"en":"We were unable to complete this transaction. Please try again in a few minutes or try a different payment channel.","fr":"Nous n\'avons pas pu effectuer cette transaction. Veuillez réessayer dans quelques minutes ou essayez un autre canal de paiement."}},"currency not yet supported":{"code":"040","type":"system-error","resolution":"use-other-channel","message":{"en":"This payment method does not support this currency.","fr":"Ce mode de paiement ne prend pas en charge cette devise."}},"incorrect token supplied\\nour test token is 123456":{"type":"default","resolution":"use-test-details","message":{"en":"You entered an incorrect token. Please enter our test token: 123456.","fr":"Vous avez saisi un code incorrect. Veuillez entrer notre code test : 123456."}},"no managed account available":{"type":"system-error","resolution":"use-other-channel","message":{"en":"We’re having some trouble generating an account number. Please pay with any of our other channels.","fr":"Nous avons des difficultés à générer un numéro de compte. Veuillez payer avec l\'une de nos autres options."}},"incorrect amount sent":{"type":"customer-error","resolution":"retry-same-channel","message":{"en":"We received a wrong amount, and a reversal/refund has been processed. Please transfer the correct amount to complete this transaction.","fr":"Nous avons reçu un montant erroné, et l\'annulation/le remboursement a été traité(e). Veuillez transférer le montant correct pour terminer cette transaction."}},"account expired":{"type":"customer-error","resolution":"retry-same-channel","message":{"en":"Account expired","fr":"Compte expiré"}},"timed out":{"type":"system-error","resolution":"retry-same-channel","message":{"en":"Transaction not completed, please try again.","fr":"La transaction n\'a pas abouti, veuillez réessayer."}},"ussd code expired":{"type":"customer-error","resolution":"retry-same-channel","message":{"en":"USSD code expired","fr":"USSD code expiré"}}}'),P=JSON.parse('[{"name":"Access Bank","slug":"access-bank","code":"044","longcode":"044150149","gateway":"emandate","pay_with_bank":true,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":1,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"name":"ALAT by WEMA","slug":"alat-by-wema","code":"035A","longcode":"035150103","gateway":"emandate","pay_with_bank":true,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":27,"createdAt":"2017-11-15T12:21:31.000Z","updatedAt":"2017-11-15T12:21:31.000Z"},{"name":"Citibank Nigeria","slug":"citibank-nigeria","code":"023","longcode":"023150005","gateway":"","pay_with_bank":false,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":2,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"name":"Diamond Bank","slug":"diamond-bank","code":"063","longcode":"063150162","gateway":"emandate","pay_with_bank":true,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":3,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"name":"Ecobank Nigeria","slug":"ecobank-nigeria","code":"050","longcode":"050150010","gateway":"","pay_with_bank":false,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":4,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"name":"Enterprise Bank","slug":"enterprise-bank","code":"084","longcode":"084150015","gateway":"","pay_with_bank":false,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":5,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"name":"Fidelity Bank","slug":"fidelity-bank","code":"070","longcode":"070150003","gateway":"emandate","pay_with_bank":true,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":6,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"name":"First Bank of Nigeria","slug":"first-bank-of-nigeria","code":"011","longcode":"011151003","gateway":"emandate","pay_with_bank":false,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":7,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"name":"First City Monument Bank","slug":"first-city-monument-bank","code":"214","longcode":"214150018","gateway":"emandate","pay_with_bank":true,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":8,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"name":"Guaranty Trust Bank","slug":"guaranty-trust-bank","code":"058","longcode":"058152036","gateway":"ibank","pay_with_bank":true,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":9,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"name":"Heritage Bank","slug":"heritage-bank","code":"030","longcode":"030159992","gateway":"etz","pay_with_bank":false,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":10,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"name":"Jaiz Bank","slug":"jaiz-bank","code":"301","longcode":"301080020","gateway":null,"pay_with_bank":false,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":22,"createdAt":"2016-10-10T17:26:29.000Z","updatedAt":"2016-10-10T17:26:29.000Z"},{"name":"Keystone Bank","slug":"keystone-bank","code":"082","longcode":"082150017","gateway":"","pay_with_bank":false,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":11,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"name":"MainStreet Bank","slug":"mainstreet-bank","code":"014","longcode":"014150331","gateway":"","pay_with_bank":false,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":12,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"name":"Parallex Bank","slug":"parallex-bank","code":"526","longcode":"","gateway":null,"pay_with_bank":false,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":26,"createdAt":"2017-03-31T13:54:29.000Z","updatedAt":"2017-03-31T13:54:29.000Z"},{"name":"Providus Bank","slug":"providus-bank","code":"101","longcode":"","gateway":null,"pay_with_bank":false,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":25,"createdAt":"2017-03-27T16:09:29.000Z","updatedAt":"2017-03-27T16:09:29.000Z"},{"name":"Skye Bank","slug":"skye-bank","code":"076","longcode":"076151006","gateway":"etz","pay_with_bank":false,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":13,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"name":"Stanbic IBTC Bank","slug":"stanbic-ibtc-bank","code":"221","longcode":"221159522","gateway":"etz","pay_with_bank":false,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":14,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"name":"Standard Chartered Bank","slug":"standard-chartered-bank","code":"068","longcode":"068150015","gateway":"","pay_with_bank":false,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":15,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"name":"Sterling Bank","slug":"sterling-bank","code":"232","longcode":"232150016","gateway":"emandate","pay_with_bank":true,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":16,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"name":"Suntrust Bank","slug":"suntrust-bank","code":"100","longcode":"","gateway":null,"pay_with_bank":false,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":23,"createdAt":"2016-10-10T17:26:29.000Z","updatedAt":"2016-10-10T17:26:29.000Z"},{"name":"Union Bank of Nigeria","slug":"union-bank-of-nigeria","code":"032","longcode":"032080474","gateway":"etz","pay_with_bank":false,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":17,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"name":"United Bank For Africa","slug":"united-bank-for-africa","code":"033","longcode":"033153513","gateway":"etz","pay_with_bank":false,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":18,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"name":"Unity Bank","slug":"unity-bank","code":"215","longcode":"215154097","gateway":"etz","pay_with_bank":false,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":19,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"name":"Wema Bank","slug":"wema-bank","code":"035","longcode":"035150103","gateway":"","pay_with_bank":false,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":20,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"name":"Zenith Bank","slug":"zenith-bank","code":"057","longcode":"057150013","gateway":"emandate","pay_with_bank":true,"active":true,"is_deleted":null,"country":"Nigeria","currency":"NGN","type":"nuban","id":21,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"id":62,"name":"Kuda Bank","slug":"kuda-bank","code":"50211","longcode":"50211","gateway":"digitalbankmandate","pay_with_bank":true,"pay_with_bank_transfer":false,"active":true,"is_deleted":null,"created_at":"2019-11-12 23:12:00","updated_at":"2019-11-12 23:12:00","country":"Nigeria","currency":"NGN","type":"nuban"}]'),x="true"===g.I18N_ENABLED?navigator.language:g.I18N_DEFAULT_LANGUAGE||"en",$=function(e){return{amount:{style:"currency",currencyDisplay:"code",currency:e,minimumFractionDigits:0,maximumFractionDigits:2}}},D={banks:P,resolutions:N,celebrations:A[x]||A.en},M={banks:function(e){return e.banks},knownErrors:function(e){return e.resolutions},celebrations:function(e){return e.celebrations}},O={setBanks:function(e,t){var n=e.commit;n("setBanks",t)},setResolutions:function(e,t){var n=e.commit;n("setResolutions",t)}},V={setBanks:function(e,t){e.banks=t},setResolutions:function(e,t){e.resolutions=t}},L={state:D,getters:M,actions:O,mutations:V},U={bankTransfer:{savedManagedAccount:null,waitingTime:null,lastPusherResponse:null},ussd:{savedUssdData:null,savedManagedAccount:null,canReuse:!0}},W={bankTransferChannelState:function(e){return e.bankTransfer},ussdChannelState:function(e){return e.ussd}},q={setBankTransferChannelState:function(e,t){var n=e.commit;n("setBankTransferChannelState",t)},setUssdChannelState:function(e,t){var n=e.commit;n("setUssdChannelState",t)}},Z={setBankTransferChannelState:function(e,t){e.bankTransfer=(0,k.Z)((0,k.Z)({},e.bankTransfer),t)},setUssdChannelState:function(e,t){e.ussd=(0,k.Z)((0,k.Z)({},e.ussd),t)}},B={state:U,getters:W,actions:q,mutations:Z};s.Z.use(m.ZP);var F="production"!==g.ENVIRONMENT,H=new m.ZP.Store({modules:{app:w,checkout:I,defaults:L,channels:B},strict:F,plugins:F?[f()()]:[]}),z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app",attrs:{id:"app"}},[e.loading?n("div",{staticClass:"app__loader"},[n("loader")],1):n("transition",{attrs:{"enter-active-class":"animated zoomIn","leave-active-class":"animated fadeOut",mode:"out-in",appear:""}},[e.error?n("setup-error",{attrs:{title:e.$t("setupError.couldNotStartTransaction"),message:e.error,code:e.errorCode},on:{reload:e.reload}}):e._e(),e.transaction?n("checkout",{attrs:{transaction:e.transaction.instance},on:{reload:e.reload}}):e._e()],1)],1)},G=[],K=n(48534),Y=(n(35666),n(47042),n(64765),n(26699),n(32023),n(68309),n(69826),n(31548)),Q=n(14540),j={POPUP:"popup",STANDARD:"standard"},J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("container",{attrs:{size:"sm"}},[n("div",{staticClass:"setup-error"},[n("img",{staticClass:"setup-error__icon",attrs:{src:e.errorIconPath,alt:e.$t("error")}}),n("p",{staticClass:"setup-error__title"},[e._v(" "+e._s(e.errorTitle)+" ")]),n("p",{staticClass:"setup-error__message"},[e._v(" "+e._s(e.errorMessage)+" ")]),n("div",{staticClass:"setup-error__actions"},[e.shouldShowReload?n("a",{staticClass:"setup-error__link",on:{click:function(t){return t.preventDefault(),e.$emit("reload")}}},[e._v(e._s(e.$t("reload")))]):e._e(),n("div",{staticClass:"checkout__footer mobile-only"},[n("footer-button",{attrs:{text:e.$t("cancelPayment"),icon:"cancel","data-testId":"mobileCancelbutton"},on:{click:e.onCancel}})],1)]),n("div",{staticClass:"desktop-only"},[n("close-button",{on:{click:e.onCancel}})],1)])])},X=[],ee=(n(9653),n(21703),n(39714),n.p+"img/404.ffe9cb3f.svg"),te=n(98498),ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{class:"container container--"+e.size+" container--"+e.mode},[n("div",{staticClass:"card"},[e._t("default")],2),n("app-footer")],1)},ae=[],se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{ref:"footerElement",staticClass:"footer",class:{"footer--light":e.useLightFooter},attrs:{"data-testid":"paystackWordmark"}},[e.isCardUpdateTransaction?e._e():n("transition",{attrs:{name:"fade-down",mode:"out-in"}},[e.showCelebration?n("div",{staticClass:"footer__celebration"},[n("celebration",{attrs:{message:e.celebration}})],1):n("a",{staticClass:"footer__link",class:{"footer__link--disabled":e.celebration},attrs:{"data-testid":"defaultFooter",href:"https://paystack.com/what-is-paystack",rel:"noreferrer",target:"_blank"}},[n("img",{attrs:{src:e.securedByPaystackImage,alt:e.$t("securedByPaystack")}})])]),e.isCardUpdateTransaction?n("transition",{attrs:{name:"fade-down",mode:"out-in"}},[n("p",{staticClass:"footer__link footer__card-update",attrs:{"data-testid":"cardUpdateFooter"}},[e._v(" "+e._s(e.$t("updateCardMessage"))+" ")])]):e._e()],1)},re=[],ie=n(63805),oe=n.n(ie),ce=n(47292),ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"celebration"},[n("span",{staticClass:"celebration__text",domProps:{innerHTML:e._s(e.formattedMessage)}})])},le=[],de=n(53978),pe={name:"Celebration",props:{message:String},computed:{formattedMessage:function(){return de.Z.parse(this.message,{ext:".svg",folder:"svg"})}}},me=pe,he=n(1001),fe=(0,he.Z)(me,ue,le,!1,null,"1ad266b4",null),ve=fe.exports,ge={name:"AppFooter",components:{Celebration:ve},data:function(){return{isHovered:!1,celebrationPlaying:!0,celebrationDuration:3e3,queuedTransition:null}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["mode","transaction","celebrations","language"])),{},{useLightFooter:function(){return this.mode===j.POPUP&&!oe()()},showCelebration:function(){return this.celebration&&(this.celebrationPlaying||this.isHovered)},isCardUpdateTransaction:function(){var e;return"update_card"===(null===(e=this.transaction)||void 0===e?void 0:e.transactionType)},celebration:function(){var e=(0,ce.format)(new Date,"DD-MM-YYYY");return this.celebrations[e]},securedByPaystackImage:function(){var e={light:{en:n(1914),fr:n(43609)},dark:{en:n(60888),fr:n(55341)}},t=this.useLightFooter?"light":"dark";return e[t][this.language]||e[t].en}}),created:function(){var e=this,t=setTimeout((function(){e.celebrationPlaying=!1,clearTimeout(t)}),this.celebrationDuration)},mounted:function(){this.celebration&&document.addEventListener("mousemove",this.onHover)},beforeDestroy:function(){this.celebration&&document.removeEventListener("mousemove",this.onHover)},methods:{onHover:function(){var e=this;this.queuedTransition&&clearTimeout(this.queuedTransition);var t=this.$refs.footerElement,n=t.matches(":hover");this.isHovered!==n&&(this.queuedTransition=setTimeout((function(){e.isHovered=n}),100))}}},_e=ge,ye=n(40285),be=n.n(ye),Ce=be(),we=(0,he.Z)(_e,se,re,!1,null,"2489ae0a",null);"function"===typeof Ce&&Ce(we);var ke,Ee,Te,Se,Re,Ie,Ae,Ne=we.exports,Pe={name:"container",components:{AppFooter:Ne},props:{size:{type:String,default:"md"}},computed:(0,k.Z)({},(0,m.Se)(["mode"]))},xe=Pe,$e=(0,he.Z)(xe,ne,ae,!1,null,"67cd66d8",null),De=$e.exports,Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{class:"button button--"+e.mode,attrs:{type:"button"},on:{click:function(t){return e.$emit("click")}}},[n("svg",{attrs:{width:"10",height:"9",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M5.572 4.033L8.89.71a.4.4 0 0 0-.566-.566L5.003 3.459 1.681.145a.4.4 0 0 0-.566.566L4.44 4.033\n    1.115 7.354a.398.398 0 0 0 0 .566.4.4 0 0 0 .566 0l3.322-3.33 3.322 3.33a.4.4 0 0 0 .566-.566L5.57 4.033z",fill:"#000"}})])])},Oe=[],Ve={name:"CloseButton",computed:(0,k.Z)({},(0,m.Se)(["mode"]))},Le=Ve,Ue=(0,he.Z)(Le,Me,Oe,!1,null,"7f6ddd02",null),We=Ue.exports,qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{attrs:{type:"button"},on:{click:function(t){return e.$emit("click")}}},[e.icon?n("span",{staticClass:"icon"},["change"===e.icon?n("svg",{attrs:{width:"12",height:"12",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M3.778 7.667H1V4.889M11 7.111V4.333H8.222M1 7.667L7.667 1M4.333 11L11 4.333",stroke:"#000","stroke-linecap":"round","stroke-linejoin":"round"}})]):e._e(),"cancel"===e.icon?n("svg",{attrs:{width:"10",height:"9",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M5.572 4.033L8.89.71a.4.4 0 0 0-.566-.566L5.003 3.459 1.681.145a.4.4 0 0 0-.566.566L4.44 4.033\n      1.115 7.354a.398.398 0 0 0 0 .566.4.4 0 0 0 .566 0l3.322-3.33 3.322 3.33a.4.4 0 0 0 .566-.566L5.57 4.033z",fill:"#000"}})]):e._e()]):e._e(),n("span",{staticClass:"text"},[e._v(e._s(e.text))])])},Ze=[],Be={name:"FooterButton",props:{icon:String,text:String}},Fe=Be,He=(0,he.Z)(Fe,qe,Ze,!1,null,"03318edc",null),ze=He.exports,Ge=(n(54747),{INITIALIZE:"INITIALIZE",RECORD_SETUP_ERROR:"RECORD_SETUP_ERROR",DISABLE:"DISABLE",IDENTIFY_SESSION:"IDENTIFY_SESSION",VALIDATION_ERROR:"VALIDATION_ERROR",ATTEMPTED_PAYMENT:"ATTEMPTED_PAYMENT",REQUIRED_AUTHENTICATION:"REQUIRED_AUTHENTICATION",ATTEMPTED_AUTHENTICATION:"ATTEMPTED_AUTHENTICATION",RESENT_TOKEN:"RESENT_TOKEN",PAYMENT_ERROR:"PAYMENT_ERROR",RECORD_UNIDENTIFIED_ERROR:"RECORD_UNIDENTIFIED_ERROR",USED_ERROR_RESOLUTION:"USED_ERROR_RESOLUTION",COMPLETED_PAYMENT:"COMPLETED_PAYMENT",REMEMBER_CARD_SHOWN:"REMEMBER_CARD_SHOWN",CLICKED_REMEMBER_CARD:"CLICKED_REMEMBER_CARD",CUSTOMER_SAVED_CARD:"CUSTOMER_SAVED_CARD",CUSTOMER_FORGOT_CARD:"CUSTOMER_FORGOT_CARD",CHECKOUT_CLOSED:"CHECKOUT_CLOSED",CHECKOUT_RESUMED_AFTER_AUTHENTICATION:"CHECKOUT_RESUMED_AFTER_AUTHENTICATION",CONFIRMED_PAYMENT:"CONFIRMED_PAYMENT",GENERATED_BANK_TRANSFER_ACCOUNT:"GENERATED_BANK_TRANSFER_ACCOUNT",ENCOUNTERED_BANK_TRANSFER_GENERATE_ERROR:"ENCOUNTERED_BANK_TRANSFER_GENERATE_ERROR",CLICKED_IVE_SENT_THE_MONEY:"CLICKED_IVE_SENT_THE_MONEY",ENCOUNTERED_TRANSFER_WAITING_SCREEN:"ENCOUNTERED_TRANSFER_WAITING_SCREEN",BANK_TRANSFER_CREDIT_REQUEST_RECEIVED:"BANK_TRANSFER_CREDIT_REQUEST_RECEIVED",BANK_TRANSFER_ACCOUNT_EXPIRED:"BANK_TRANSFER_ACCOUNT_EXPIRED",GENERATED_NEW_BANK_TRANSFER_ACCOUNT:"GENERATED_NEW_BANK_TRANSFER_ACCOUNT",ENCOUNTERED_WRONG_TRANSFER_AMOUNT_ERROR:"ENCOUNTERED_WRONG_TRANSFER_AMOUNT_ERROR",CLICKED_BACK_TO_ACCOUNT:"CLICKED_BACK_TO_ACCOUNT",CLICKED_NEED_HELP:"CLICKED_NEED_HELP",CLICKED_SKIP_WAITING:"CLICKED_SKIP_WAITING",CLICKED_CONTINUE_WAITING:"CLICKED_CONTINUE_WAITING",CLICKED_CLOSE_CHECKOUT:"CLICKED_CLOSE_CHECKOUT",RECOVERED_FROM_PWT_TIMEOUT_ERROR:"RECOVERED_FROM_PWT_TIMEOUT_ERROR",CLICKED_HOW_TO_GENERATE_PAYID:"CLICKED_HOW_TO_GENERATE_PAYID",ENCOUNTERED_PAYID_WAITING_SCREEN:"ENCOUNTERED_PAYID_WAITING_SCREEN",CLICKED_DIGITAL_BANK_MANDATE_REQUERY_BUTTON:"CLICKED_DIGITAL_BANK_MANDATE_REQUERY_BUTTON",PAYMENT_REQUEST_API_SUPPORTED:"PAYMENT_REQUEST_API_SUPPORTED",ENCOUNTERED_USSD_TRANSFER_PENDING_SCREEN:"ENCOUNTERED_USSD_TRANSFER_PENDING_SCREEN",VIEWED_USSD_PAYMENT_INSTRUCTIONS:"VIEWED_USSD_PAYMENT_INSTRUCTIONS",SWITCHED_LANGUAGE:"SWITCHED_LANGUAGE"}),Ke=Ge,Ye=n(82482),Qe=(n(92222),n(38862),n(18590),n(56348)),je=Qe.x0,Je=(n(47941),n(4723),n(77601),n(15306),n(69600),n(40561),function(){return fetch("".concat(g.API_URL,"decision/ip")).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){return e.data})).catch((function(){return null}))}),Xe={Win:"Windows",Mac:"Mac",X11:"Unix",Linux:"Linux"},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.appVersion,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xe,n=Object.keys(Xe).find((function(t){return e.includes(t)}));return t[n]||"Unknown"},tt=function(){try{var e=localStorage.getItem("amplitude_device_id");return e||localStorage.setItem("amplitude_device_id","".concat(je(),"R")),localStorage.getItem("amplitude_device_id")}catch(te){return null}},nt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE "+(e[1]||"")):"Chrome"===n[1]&&(e=t.match(/\b(OPR|Edge)\/(\d+)/),null!=e)?e.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n.join(" "))},at=(null===(ke=navigator)||void 0===ke?void 0:ke.platform)||(null===(Ee=navigator)||void 0===Ee||null===(Te=Ee.userAgentData)||void 0===Te?void 0:Te.platform),st=/safari/.test(nt().toLocaleLowerCase()),rt=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(at)||navigator.userAgent.includes("Mac")&&"ontouchend"in document,it=et(),ot=nt().split(" ")[0],ct=nt().split(" ")[1],ut=tt(),lt=(null===(Se=navigator)||void 0===Se?void 0:Se.platform)||(null===(Re=navigator)||void 0===Re||null===(Ie=Re.userAgentData)||void 0===Ie?void 0:Ie.platform),dt={device_id:ut,version_name:null,platform:lt,os_name:ot,os_version:ct,device_model:it,language:navigator.language,uuid:je(),user_agent:navigator.userAgent},pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;H.dispatch("setAmplitudeEventId"),H.dispatch("setAmplitudeSessionId",Date.now());var n=(0,k.Z)((0,k.Z)((0,k.Z)({},e),{},{event_properties:(0,k.Z)((0,k.Z)({},e.event_properties),{},{Checkout_Mode:H.getters.mode})},dt),{},{timestamp:Date.now(),user_id:H.getters.transaction.customer.id,event_id:H.getters.amplitudeEventId,session_id:H.getters.amplitudeSessionId},t&&{insert_id:t}),a=H.getters.amplitudeIsTracking;return a&&ut?fetch("https://api.amplitude.com/httpapi",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"api_key=".concat(g.AMPLITUDE_API_KEY,"&event=").concat(JSON.stringify(n))}).then((function(e){if(!e.ok)throw new Error(e.status);return e})):null},mt=function(e,t){[500,502,504].includes(t)?pt(e,je()):503===t&&pt(e)},ht=(Ae={},(0,Ye.Z)(Ae,Ke.INITIALIZE,(function(){H.dispatch("setAmplitudeIsTracking",!0)})),(0,Ye.Z)(Ae,Ke.DISABLE,(function(){H.dispatch("setAmplitudeIsTracking",!1)})),(0,Ye.Z)(Ae,Ke.RECORD_SETUP_ERROR,(function(e){var t=e.message,n=e.mode,a={event_type:"Encountered Setup Error",event_properties:{Setup_Error:t,Checkout_Mode:n}};pt(a).catch((function(e){mt(a,e)}))})),(0,Ye.Z)(Ae,Ke.IDENTIFY_SESSION,(function(e){var t=e.customer,n=e.merchant,a=e.hasSavedCard,s={event_type:"$identify",user_id:t.id.toString(),ip:H.getters.browserIp,user_properties:{$set:{Has_Saved_Card:a,integration:n.id.toString()}},groups:{integration:n.id.toString()}};pt(s).catch((function(e){mt(s,e)}))})),(0,Ye.Z)(Ae,Ke.VALIDATION_ERROR,(function(e){var t={event_type:"Entered Invalid Value",event_properties:{Invalid_Field:e}};pt(t).catch((function(e){mt(t,e)}))})),(0,Ye.Z)(Ae,Ke.ATTEMPTED_PAYMENT,(function(e){var t=e.channel,n=e.currency,a=e.amount,s=e.usedSavedCard,r=e.usedPaymentRequestApi,i={event_type:"Started Payment",event_properties:{Channel:t,Currency:n,Amount:a,Used_Saved_Card:!!s,Used_PaymentRequest_Api:!!r}};pt(i).catch((function(e){mt(i,e)}))})),(0,Ye.Z)(Ae,Ke.REQUIRED_AUTHENTICATION,(function(e){var t=e.auth,n={event_type:"Authentication Required",event_properties:{Authentication_Type:t}};pt(n).catch((function(e){mt(n,e)}))})),(0,Ye.Z)(Ae,Ke.ATTEMPTED_AUTHENTICATION,(function(e){var t=e.channel,n=e.auth,a=e.timeSpent,s={event_type:"Authenticated Payment",event_properties:{Channel:t,Authentication_Type:n,Time_To_Authenticate:a}};pt(s).catch((function(e){mt(s,e)}))})),(0,Ye.Z)(Ae,Ke.RESENT_TOKEN,(function(){var e={event_type:"Resent Token"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.PAYMENT_ERROR,(function(e){var t=e.channel,n=e.message,a={event_type:"Encountered Payment Error",event_properties:{Channel:t,Error_Message:n}};pt(a).catch((function(e){mt(a,e)}))})),(0,Ye.Z)(Ae,Ke.USED_ERROR_RESOLUTION,(function(e){var t={event_type:"Used Error Resolution",event_properties:{Resolution_Chosen:e}};pt(t).catch((function(e){mt(t,e)}))})),(0,Ye.Z)(Ae,Ke.RECORD_UNIDENTIFIED_ERROR,(function(){})),(0,Ye.Z)(Ae,Ke.COMPLETED_PAYMENT,(function(e){var t=e.channel,n=e.currency,a=e.amount,s=e.timeSpent,r=e.usedSavedCard,i=e.usedPaymentRequestApi,o={event_type:"Completed Payment",event_properties:{Channel:t,Currency:n,Amount:a,Time_To_Complete:s,Used_Saved_Card:!!r,Used_PaymentRequest_Api:!!i}};pt(o).catch((function(e){mt(o,e)}))})),(0,Ye.Z)(Ae,Ke.REMEMBER_CARD_SHOWN,(function(){var e={event_type:"Remember Card Shown"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.CLICKED_REMEMBER_CARD,(function(){var e={event_type:"Clicked Remember Card"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.CUSTOMER_SAVED_CARD,(function(){var e={event_type:"Saved Card"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.CUSTOMER_FORGOT_CARD,(function(){var e={event_type:"Forgot Card"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.CHECKOUT_CLOSED,(function(){var e={event_type:"Closed Checkout Form"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.CHECKOUT_RESUMED_AFTER_AUTHENTICATION,(function(){var e={event_type:"Resumed After Authentication"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.CONFIRMED_PAYMENT,(function(e){var t=e.channel,n={event_type:"Confirmed Payment",event_properties:{Channel:t}};pt(n).catch((function(e){mt(n,e)}))})),(0,Ye.Z)(Ae,Ke.GENERATED_BANK_TRANSFER_ACCOUNT,(function(e){var t=e.accountNumber,n=e.bank,a={event_type:"Generated Bank Transfer Account",event_properties:{Account_Number:t,Bank:n}};pt(a).catch((function(e){mt(a,e)}))})),(0,Ye.Z)(Ae,Ke.ENCOUNTERED_BANK_TRANSFER_GENERATE_ERROR,(function(e){var t=e.message,n={event_type:"Encountered Bank Transfer Account Generate Error",event_properties:{Error:t}};pt(n).catch((function(e){mt(n,e)}))})),(0,Ye.Z)(Ae,Ke.CLICKED_IVE_SENT_THE_MONEY,(function(){var e={event_type:"Clicked Ive Sent the Money"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.ENCOUNTERED_TRANSFER_WAITING_SCREEN,(function(){var e={event_type:"Encountered Transfer Waiting Screen"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.BANK_TRANSFER_CREDIT_REQUEST_RECEIVED,(function(){var e={event_type:"Bank Transfer Credit Request Received"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.BANK_TRANSFER_ACCOUNT_EXPIRED,(function(){var e={event_type:"Bank Transfer Account Expired"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.GENERATED_NEW_BANK_TRANSFER_ACCOUNT,(function(){var e={event_type:"Generated New Bank Transfer Account"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.ENCOUNTERED_WRONG_TRANSFER_AMOUNT_ERROR,(function(){var e={event_type:"Encountered Wrong Transfer Amount Error"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.CLICKED_BACK_TO_ACCOUNT,(function(){var e={event_type:"Clicked Back to Account"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.CLICKED_NEED_HELP,(function(){var e={event_type:"Clicked Need Help"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.CLICKED_SKIP_WAITING,(function(){var e={event_type:"Clicked Skip Waiting Help"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.CLICKED_CLOSE_CHECKOUT,(function(){var e={event_type:"Clicked Close Checkout"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.CLICKED_CONTINUE_WAITING,(function(){var e={event_type:"Clicked Continue Waiting"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.RECOVERED_FROM_PWT_TIMEOUT_ERROR,(function(){var e={event_type:"Recovered From PWT Timeout Error"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.CLICKED_HOW_TO_GENERATE_PAYID,(function(){var e={event_type:"Clicked How To Generate Pay ID"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.ENCOUNTERED_PAYID_WAITING_SCREEN,(function(){var e={event_type:"Encountered Pay ID Waiting Screen"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.CLICKED_DIGITAL_BANK_MANDATE_REQUERY_BUTTON,(function(){var e={event_type:"Clicked DigitalBankMandate Requery Button"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.PAYMENT_REQUEST_API_SUPPORTED,(function(){var e={event_type:"Payment Request API Supported"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.ENCOUNTERED_USSD_TRANSFER_PENDING_SCREEN,(function(){var e={event_type:"Encountered USSD Transfer Pending Screen"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.VIEWED_USSD_PAYMENT_INSTRUCTIONS,(function(){var e={event_type:"Viewed USSD Payment Instructions"};pt(e).catch((function(t){mt(e,t)}))})),(0,Ye.Z)(Ae,Ke.SWITCHED_LANGUAGE,(function(e){var t={event_type:"Switched Language",event_properties:{Language:e}};pt(t).catch((function(e){mt(t,e)}))})),Ae),ft=function(e,t){try{"function"===typeof ht[e]&&ht[e](t)}catch(n){}};function vt(e){var t=e.mode;ft(Ke.INITIALIZE,t)}function gt(e){var t=e.message,n=e.mode;ft(Ke.RECORD_SETUP_ERROR,{message:t,mode:n})}function _t(){ft(Ke.DISABLE)}function yt(e){var t=e.id,n=e.customer,a=e.merchant,s=e.authorizations,r=e.timeToLoad,i=e.mode,o=s&&s.length>0;ft(Ke.IDENTIFY_SESSION,{id:t,customer:n,merchant:a,hasSavedCard:o,timeToLoad:r,mode:i})}function bt(e){e.forEach((function(e){return ft(Ke.VALIDATION_ERROR,e)}))}function Ct(e){var t=e.channel,n=e.paymentMethod,a=e.currency,s=e.amount,r=e.usedSavedCard,i=e.usedPaymentRequestApi;ft(Ke.ATTEMPTED_PAYMENT,{channel:t,paymentMethod:n,currency:a,amount:s,usedSavedCard:r,usedPaymentRequestApi:i})}function wt(e){ft(Ke.REQUIRED_AUTHENTICATION,{auth:e})}function kt(e){var t=e.auth,n=e.timeSpent;ft(Ke.ATTEMPTED_AUTHENTICATION,{auth:t,timeSpent:n})}function Et(){ft(Ke.RESENT_TOKEN)}function Tt(e){var t=e.channel,n=e.message;ft(Ke.PAYMENT_ERROR,{channel:t,message:n})}function St(e){ft(Ke.USED_ERROR_RESOLUTION,e)}function Rt(e){ft(Ke.RECORD_UNIDENTIFIED_ERROR,e)}function It(e){var t=e.channel,n=e.currency,a=e.amount,s=e.timeSpent,r=e.usedSavedCard,i=e.usedPaymentRequestApi;ft(Ke.COMPLETED_PAYMENT,{channel:t,currency:n,amount:a,timeSpent:s,usedSavedCard:r,usedPaymentRequestApi:i})}function At(){ft(Ke.REMEMBER_CARD_SHOWN)}function Nt(){ft(Ke.CLICKED_REMEMBER_CARD)}function Pt(){ft(Ke.CUSTOMER_SAVED_CARD)}function xt(){ft(Ke.CUSTOMER_FORGOT_CARD)}function $t(){ft(Ke.CHECKOUT_CLOSED)}function Dt(){ft(Ke.CHECKOUT_RESUMED_AFTER_AUTHENTICATION)}function Mt(e){var t=e.channel;ft(Ke.CONFIRMED_PAYMENT,{channel:t})}function Ot(e){var t=e.accountNumber,n=e.bank;ft(Ke.GENERATED_BANK_TRANSFER_ACCOUNT,{accountNumber:t,bank:n})}function Vt(e){var t=e.message;ft(Ke.ENCOUNTERED_BANK_TRANSFER_GENERATE_ERROR,{message:t})}function Lt(){ft(Ke.CLICKED_IVE_SENT_THE_MONEY)}function Ut(){ft(Ke.ENCOUNTERED_TRANSFER_WAITING_SCREEN)}function Wt(){ft(Ke.BANK_TRANSFER_CREDIT_REQUEST_RECEIVED)}function qt(){ft(Ke.BANK_TRANSFER_ACCOUNT_EXPIRED)}function Zt(){ft(Ke.GENERATED_NEW_BANK_TRANSFER_ACCOUNT)}function Bt(){ft(Ke.ENCOUNTERED_WRONG_TRANSFER_AMOUNT_ERROR)}function Ft(){ft(Ke.CLICKED_BACK_TO_ACCOUNT)}function Ht(){ft(Ke.CLICKED_NEED_HELP)}function zt(){ft(Ke.CLICKED_SKIP_WAITING)}function Gt(){ft(Ke.CLICKED_CLOSE_CHECKOUT)}function Kt(){ft(Ke.CLICKED_CONTINUE_WAITING)}function Yt(){ft(Ke.RECOVERED_FROM_PWT_TIMEOUT_ERROR)}function Qt(){ft(Ke.CLICKED_HOW_TO_GENERATE_PAYID)}function jt(){ft(Ke.ENCOUNTERED_PAYID_WAITING_SCREEN)}function Jt(){ft(Ke.CLICKED_DIGITAL_BANK_MANDATE_REQUERY_BUTTON)}function Xt(){ft(Ke.PAYMENT_REQUEST_API_SUPPORTED)}function en(){ft(Ke.ENCOUNTERED_USSD_TRANSFER_PENDING_SCREEN)}function tn(){ft(Ke.VIEWED_USSD_PAYMENT_INSTRUCTIONS)}function nn(e){ft(Ke.SWITCHED_LANGUAGE,e)}var an=n(3336),sn=null;function rn(){window.addEventListener("message",(function(e){if(e.data)try{var t=JSON.parse(e.data);t&&"init_port"===t.type&&(sn=e.ports[0])}catch(n){}}))}function on(e){null!==sn&&sn.postMessage(JSON.stringify(e))}function cn(e){window.addEventListener("message",(function(t){var n="object"===(0,an.Z)(t.data)&&"inline:url"===t.data.type;n&&e(t.data.params)}))}function un(e){window.addEventListener("message",(function(t){var n="object"===(0,an.Z)(t.data)&&"analytics"===t.data.type,a=t.data,s=a.action,r=a.params;n&&e({action:s,params:r})}))}function ln(e,t){var n,a,s=null===(n=window)||void 0===n||null===(a=n.webkit)||void 0===a?void 0:a.messageHandlers,r={loadedCheckout:function(){var e,t,n,a;(null===(e=parent)||void 0===e||e.postMessage("loaded:checkout","*"),null===(t=parent)||void 0===t||t.postMessage({event:"loaded:checkout"},"*"),s)&&(null===(n=window.webkit.messageHandlers)||void 0===n||null===(a=n.iosListener)||void 0===a||a.postMessage({event:"loaded:checkout"}));on({event:"loaded:checkout"})},loadedTransaction:function(){var e,t,n,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.id,o=r.customer,c=r.accessCode;(null===(e=parent)||void 0===e||e.postMessage("loaded:transaction","*"),null===(t=parent)||void 0===t||t.postMessage({event:"loaded:transaction",data:{id:i,customer:o,accessCode:c}},"*"),s)&&(null===(n=window.webkit.messageHandlers)||void 0===n||null===(a=n.iosListener)||void 0===a||a.postMessage({event:"loaded:transaction"}));on({event:"loaded:transaction",data:{id:i,customer:o,accessCode:c}})},close:function(){var e,t,n,a;(null===(e=parent)||void 0===e||e.postMessage("close","*"),null===(t=parent)||void 0===t||t.postMessage({event:"close"},"*"),s)&&(null===(n=window.webkit.messageHandlers)||void 0===n||null===(a=n.iosListener)||void 0===a||a.postMessage({event:"close"}));on({event:"close"})},error:function(e){var t,n,a,r;(null===(t=parent)||void 0===t||t.postMessage("error","*"),null===(n=parent)||void 0===n||n.postMessage({event:"error",data:e},"*"),s)&&(null===(a=window.webkit.messageHandlers)||void 0===a||null===(r=a.iosListener)||void 0===r||r.postMessage({event:"error",data:e}));on({event:"error",data:e})},bankTransferConfirmationPending:function(){var e,t,n,a;(null===(e=parent)||void 0===e||e.postMessage("transfer:pending","*"),null===(t=parent)||void 0===t||t.postMessage({event:"transfer:pending"},"*"),s)&&(null===(n=window.webkit.messageHandlers)||void 0===n||null===(a=n.iosListener)||void 0===a||a.postMessage({event:"transfer:pending"}));on({event:"transfer:pending"})},success:function(e){var t,n,a,r;(null===(t=parent)||void 0===t||t.postMessage(JSON.stringify(e),"*"),null===(n=parent)||void 0===n||n.postMessage({event:"success",data:e},"*"),s)&&(null===(a=window.webkit.messageHandlers)||void 0===a||null===(r=a.iosListener)||void 0===r||r.postMessage({event:"success",data:e}));on({event:"success",data:e})},redirecting:function(){var e,t,n,a;(null===(e=parent)||void 0===e||e.postMessage("checkout:redirecting","*"),null===(t=parent)||void 0===t||t.postMessage({event:"checkout:redirecting"},"*"),s)&&(null===(n=window.webkit.messageHandlers)||void 0===n||null===(a=n.iosListener)||void 0===a||a.postMessage({event:"checkout:redirecting"}));on({event:"checkout:redirecting"})}};r[e]&&window.parent&&r[e](t)}var dn={parse:function(){if(!location.search)return null;var e={},t=location.search.substring(1),n=t.split("&");return n.forEach((function(t){var n=t.split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])})),e},getParams:function(){var e=this.parse();return e?e.params:null},getPathName:function(){var e=window.location.pathname;return"/"===e?null:e},redirectTo:function(e){this.isQueryString(e)||window.location.replace(e)},isQueryString:function(e){return"?"===e.substring(0,1)}},pn=dn;function mn(e,t){if($t(),ln("close"),"popup"!==t){var n=e&&e.cancel_action;n?pn.redirectTo(n):window&&window.history&&window.history.back&&window.history.back()}}function hn(e,t){if($t(),ln("bankTransferConfirmationPending"),"popup"!==t){var n=e&&e.cancel_action;n?pn.redirectTo(n):window&&window.history&&window.history.back&&window.history.back()}}var fn={name:"SetupError",components:{Container:De,CloseButton:We,FooterButton:ze},props:{code:{type:Number,default:500},title:{type:String,required:!0},message:{type:[String,Error],required:!0},showReload:{type:Boolean,default:!0}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["mode","transaction"])),{},{errorTitle:function(){return 404===this.code?this.$t("errorTitle.404"):this.title},errorMessage:function(){return 404===this.code?this.$t("errorMessage.404"):"Not found"===this.message?this.$t("errorMessage.notFound"):this.message.toString()},errorIconPath:function(){return 404===this.code?ee:te},shouldShowReload:function(){return 404!==this.code&&this.showReload}}),methods:{onCancel:function(){mn(this.transaction,this.mode)}}},vn=fn,gn=n(82898),_n=n.n(gn),yn=_n(),bn=(0,he.Z)(vn,J,X,!1,null,"10e37880",null);"function"===typeof yn&&yn(bn);var Cn=bn.exports,wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"checkout__outer-container"},[n("container",{attrs:{size:e.containerSize}},[n("div",{staticClass:"checkout"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showNavigation,expression:"showNavigation"}],staticClass:"checkout__nav"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("navigation",{on:{setChannel:e.setChannel}})],1)],1),n("div",{staticClass:"checkout__core"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("payment-info",{directives:[{name:"show",rawName:"v-show",value:e.showPaymentInfo,expression:"showPaymentInfo"}]})],1),!e.activeChannel.name||e.showApplePayPaymentView&&!e.isMobile?e._e():n("div",{staticClass:"checkout__stage"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isSuccessful?n("success",{attrs:{successResponse:e.successResponse}}):"failed"===e.status?n("error-resolution",{attrs:{message:e.errorMessage},on:{reset:e.reset,switchChannel:e.setChannel}}):"requery"===e.status?n("requery",{on:{success:e.onSuccess,failed:e.onFail}}):n("payment-form",{on:{reload:e.reset,success:e.onSuccess,failed:e.onFail}})],1)],1),e.showApplePayPaymentView?n("div",{staticClass:"checkout__apple-pay-payment-view"},[n("apple-pay-payment-view",{on:{success:e.onSuccess,failed:e.onFail,closed:e.closeApplePayPaymentView}})],1):e._e()],1),n("div",{staticClass:"desktop-only"},[n("close-button",{on:{click:e.onCancel}})],1),e.isSuccessful?e._e():n("div",{staticClass:"checkout__footer mobile-only",attrs:{"data-testId":"mobileCancelbutton"}},[e.canChangePaymentMethod?n("footer-button",{attrs:{text:e.$t("changePaymentMethod"),icon:"change"},on:{click:function(t){return e.setChannel(null)}}}):e._e(),n("footer-button",{attrs:{text:e.$t("cancelPayment"),icon:"cancel"},on:{click:e.onCancel}})],1)])])],1)},kn=[],En=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"nav",class:e.classObject},[n("div",[n("div",{staticClass:"nav__welcome-message"},[n("welcome-message")],1),n("ul",{staticClass:"nav__items",attrs:{"data-testid":"nav-items"}},e._l(e.channels,(function(t){return n("li",{key:t.key,staticClass:"nav__item",class:{active:e.isActive(t.key)},attrs:{"data-testid":"nav-item-"+t.key}},[n("a",{attrs:{"data-testid":t.icon+"-nav"},on:{click:function(n){return e.$emit("setChannel",t.key)}}},[t.isNew?e._e():n("span",{staticClass:"icon"},[n("channel-icon",{attrs:{icon:t.icon,active:e.isActive(t.key)}})],1),t.isNew?n("span",{staticClass:"badge"},[e._v(e._s(e.$t("new")))]):e._e(),n("span",{staticClass:"text"},[n("span",{staticClass:"mobile-only"},[e._v(e._s(e.$t("payWithChannel",{channel:t.label})))]),n("span",{staticClass:"desktop-only"},[e._v(e._s(t.label))])])])])})),0)]),e.showLanguageSwitcher?n("language-switcher"):e._e()],1)},Tn=[],Sn=(n(21249),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("div",{staticClass:"welcome-message desktop-only"},[n("h3",[e._v(e._s(e.$t("payWith")))])]),e.activeChannel.name?e._e():n("div",{staticClass:"welcome-message mobile-only"},[n("h3",[e._v("Paystack Checkout")]),n("h4",[e._v(" "+e._s(e.$t("messageMobile",{amount:e.transaction.amount,formatParams:e.amountFormatParams,merchant:e.transaction.merchant.name}))+" ")])])])}),Rn=[],In={name:"WelcomeMessage",computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction","activeChannel"])),{},{amountFormatParams:function(){return $(this.transaction.currency)}})},An=In,Nn=n(55765),Pn=n.n(Nn),xn=Pn(),$n=(0,he.Z)(An,Sn,Rn,!1,null,"148b59d5",null);"function"===typeof xn&&xn($n);var Dn=$n.exports,Mn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("span",{staticClass:"channel-icon",class:{active:e.active}},[a("span",{staticClass:"channel-icon__housing"},[a("span",{staticClass:"channel-icon--idle"},["card"===e.icon?a("img",{attrs:{width:"18px",src:n(96841),alt:e.$t("cardIcon")}}):e._e(),"bank"===e.icon?a("img",{attrs:{width:"18px",src:n(21839),alt:e.$t("bankIcon")}}):e._e(),"bank_transfer"===e.icon?a("img",{attrs:{width:"18px",src:n(6691),alt:e.$t("payWithTransferIcon")}}):e._e(),"eft"===e.icon?a("img",{attrs:{width:"18px",src:n(60259),alt:e.$t("eftIcon")}}):e._e(),"mobile_money"===e.icon?a("img",{attrs:{width:"18px",src:n(82320),alt:e.$t("mobileMoneyIcon")}}):e._e(),"mpesa"===e.icon?a("img",{attrs:{width:"18px",src:n(76944),alt:e.$t("phoneIcon")}}):e._e(),"visa_qr"===e.icon?a("img",{attrs:{width:"18px",src:n(2104),alt:e.$t("qrIcon")}}):e._e(),"mpass_olti_qr"===e.icon?a("img",{attrs:{width:"18px",src:n(2104),alt:e.$t("qrIcon")}}):e._e(),"snapscan_qr"===e.icon?a("img",{attrs:{width:"18px",src:n(2104),alt:e.$t("qrIcon")}}):e._e(),"ussd"===e.icon?a("img",{attrs:{width:"18px",src:n(11837),alt:e.$t("ussdIcon")}}):e._e(),"phone number"===e.icon?a("img",{attrs:{width:"18px",src:n(87230),alt:e.$t("phoneNumberIcon")}}):e._e(),"direct_debit"===e.icon?a("img",{attrs:{width:"18px",src:n(21839),alt:e.$t("bankIcon")}}):e._e(),"payattitude"===e.icon?a("img",{attrs:{width:"18px",src:n(87230),alt:e.$t("phoneNumberIcon")}}):e._e(),"paypal"===e.icon?a("img",{attrs:{width:"18px",src:n(43578),alt:e.$t("walletIcon")}}):e._e()]),a("span",{staticClass:"channel-icon--active"},["card"===e.icon?a("img",{attrs:{width:"18px",src:n(3864),alt:e.$t("cardIcon")}}):e._e(),"bank"===e.icon?a("img",{attrs:{width:"18px",src:n(80715),alt:e.$t("bankIcon")}}):e._e(),"bank_transfer"===e.icon?a("img",{attrs:{width:"18px",src:n(68682),alt:e.$t("payWithTransferIcon")}}):e._e(),"eft"===e.icon?a("img",{attrs:{width:"18px",src:n(63500),alt:e.$t("eftIcon")}}):e._e(),"mobile_money"===e.icon?a("img",{attrs:{width:"18px",src:n(90616),alt:e.$t("mobileMoneyIcon")}}):e._e(),"mpesa"===e.icon?a("img",{attrs:{width:"18px",src:n(98190),alt:e.$t("phoneIcon")}}):e._e(),"visa_qr"===e.icon?a("img",{attrs:{width:"18px",src:n(7352),alt:e.$t("qrIcon")}}):e._e(),"mpass_olti_qr"===e.icon?a("img",{attrs:{width:"18px",src:n(7352),alt:e.$t("qrIcon")}}):e._e(),"snapscan_qr"===e.icon?a("img",{attrs:{width:"18px",src:n(7352),alt:e.$t("qrIcon")}}):e._e(),"ussd"===e.icon?a("img",{attrs:{width:"18px",src:n(99537),alt:e.$t("ussdIcon")}}):e._e(),"phone number"===e.icon?a("img",{attrs:{width:"18px",src:n(37565),alt:e.$t("phoneNumberIcon")}}):e._e(),"direct_debit"===e.icon?a("img",{attrs:{width:"18px",src:n(80715),alt:e.$t("bankIcon")}}):e._e(),"payattitude"===e.icon?a("img",{attrs:{width:"18px",src:n(37565),alt:e.$t("phoneNumberIcon")}}):e._e(),"paypal"===e.icon?a("img",{attrs:{width:"18px",src:n(55146),alt:e.$t("walletIcon")}}):e._e()])])])])},On=[],Vn={name:"ChannelIcon",props:["icon","active"]},Ln=Vn,Un=n(49162),Wn=n.n(Un),qn=Wn(),Zn=(0,he.Z)(Ln,Mn,On,!1,null,"0dbd8a8b",null);"function"===typeof qn&&qn(Zn);var Bn=Zn.exports,Fn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("img",{attrs:{src:n(95398),alt:e.$t("languageSwitcher")}}),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedLanguage,expression:"selectedLanguage"}],staticClass:"select",attrs:{"data-testid":"select-language",name:"language"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedLanguage=t.target.multiple?n:n[0]},function(t){return e.selectLanguage(e.selectedLanguage)}]}},e._l(e.supportedLanguages,(function(t){return a("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(e.languageCodeMapping[t])+" ")])})),0),a("img",{attrs:{src:n(90407),alt:e.$t("languageSwitcher")}})])},Hn=[],zn={name:"LanguageSwitcher",data:function(){var e,t,n,a;return{selectedLanguage:null===(e=this.$i18next)||void 0===e||null===(t=e.language)||void 0===t||null===(n=t.split("-"))||void 0===n?void 0:n[0],supportedLanguages:(null===(a=g.I18N_SUPPORTED_LANGUAGES)||void 0===a?void 0:a.split(","))||["en","fr"],languageCodeMapping:{en:"English",fr:"Français"}}},methods:{selectLanguage:function(e){var t;this.selectedLanguage=e,null===(t=this.$i18next)||void 0===t||t.changeLanguage(e),nn(e)}}},Gn=zn,Kn=(0,he.Z)(Gn,Fn,Hn,!1,null,"2f65bff6",null),Yn=Kn.exports,Qn={name:"Navigation",components:{WelcomeMessage:Dn,ChannelIcon:Bn,LanguageSwitcher:Yn},props:{animate:Boolean},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["availableChannels","activeChannel","isCharging","isRedirected","transaction"])),{},{channels:function(){var e=this;return this.availableChannels.map((function(t){var n=t.key,a=t.isNew,s=e.$t("channels.".concat(t.key)),r=t.options?t.options[0].key:n;return{label:s,icon:r,key:n,isNew:a}}))},classObject:function(){return{"animated pokeOut":this.animate,"nav--collapsed":this.activeChannel.name,"nav--disabled":this.isCharging||this.isRedirected}},showLanguageSwitcher:function(){return this.activeChannel.name&&"XOF"===this.transaction.currency}}),methods:{formatPaymentChannels:function(e){var t=this,n={QR:"qr",USSD:"ussd",DIRECT_DEBIT:"direct_debit"};return e.map((function(e){var a=[n.QR,n.USSD].includes(e.name),s=[n.DIRECT_DEBIT].includes(e.name);if(a){var r=e.options[0].name;return(0,k.Z)((0,k.Z)({},e),{},{icon:r,label:r})}return(0,k.Z)((0,k.Z)({},e),{},{icon:e.name,label:s?"Direct Debit":t.capitalize(e.name.split("_").join(" "))})}))},isActive:function(e){return this.activeChannel.name===e}}},jn=Qn,Jn=n(19574),Xn=n.n(Jn),ea=Xn(),ta=(0,he.Z)(jn,En,Tn,!1,null,"50a5b1a1",null);"function"===typeof ea&&ea(ta);var na=ta.exports,aa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("div",{staticClass:"payment-info",attrs:{"data-testid":"paymentInfo"}},[n("div",{staticClass:"merchant-logo"},[e.merchant?n("img",{attrs:{src:e.merchant.logo,alt:e.$t("merchantLogo",{merchantName:e.merchant.name})}}):e._e()]),n("div",{staticClass:"customer-info"},[n("div",{staticClass:"customer-email",attrs:{label:e.customerInfo}},[e._v(" "+e._s(e._f("truncate")(e.customerInfo,25))+" ")]),n("div",{staticClass:"transaction-amount"},[e._v(" "+e._s(e.$t("pay.text"))+" "),n("span",[e._v(e._s(e.$t("pay.amount",{amount:e.transaction.amount,formatParams:e.amountFormatParams})))])])])]),e.transaction.isTest?n("div",{staticClass:"test-badge",attrs:{"data-testid":"testBadge"}},[e._v(" "+e._s(e.$t("test"))+" ")]):e._e()])},sa=[],ra={name:"PaymentInfo",computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction"])),{},{merchant:function(){var e=this.transaction.merchant;return e},customerInfo:function(){var e=this.transaction,t=e.label,n=e.email;return t||n},amountFormatParams:function(){return $(this.transaction.currency)}}),filters:{truncate:function(e,t,n){var a=e||"",s=n||"...",r=t||30;if(a.length<=r)return a;var i=a.slice(0,r-s.length),o=i.length-1;while(o>0&&" "!==i[o]&&i[o]!==s[0])o-=1;return o=o||r-s.length,i=i.slice(0,o),i+s}}},ia=ra,oa=n(12815),ca=n.n(oa),ua=ca(),la=(0,he.Z)(ia,aa,sa,!1,null,"010a1187",null);"function"===typeof ua&&ua(la);var da=la.exports,pa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"payment-form",attrs:{id:"payment-form"}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("keep-alive",{attrs:{exclude:"UssdChannel,PayWithTransferFlowRouter"}},[n(e.activeChannel.name,{tag:"component",on:{attempt:e.onAttempt,callback:e.onChargeResponse}})],1)],1)],1)},ma=[],ha=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"card-channel","data-testid":"card-channel"}},[n("transition",{attrs:{name:"fade-down",mode:"out-in"}},[e.currentAuthView===e.authViews.PIN?n("div",{key:"pin"},[n("pin-form",{attrs:{message:e.pinMessage},on:{cancel:e.reset,submit:e.charge}})],1):e.currentAuthView===e.authViews.OTP?n("div",{key:"otp"},[n("otp-form",{attrs:{message:e.authMessage},on:{cancel:e.reset,submit:e.authenticate}})],1):e.currentAuthView===e.authViews.PHONE?n("div",{key:"phone"},[n("phone-form",{attrs:{message:e.authMessage},on:{cancel:e.reset,submit:e.authenticate}})],1):e.currentAuthView===e.authViews.THREE_D_SECURE?n("div",{key:"3DS"},[n("three-d-secure",{attrs:{url:e.authMessage},on:{cancel:e.reset,callback:e.onChargeResponse}})],1):e.currentAuthView===e.authViews.ADDRESS_VERIFICATION?n("div",{key:"address"},[n("address-form",{attrs:{billingAddress:e.billingAddress},on:{submit:e.verifyAddress,callback:e.onChargeResponse}})],1):e.currentBaseView===e.baseViews.TEST_CARDS?n("div",{key:"test_cards"},[n("test-cards",{on:{switch:e.changeView,submit:e.charge}})],1):e.currentBaseView===e.baseViews.CARD_FORM?n("div",{key:"card_form"},[n("card-form",{on:{switch:e.changeView,submit:e.charge,paymentRequestResult:e.savePaymentRequestResult,billingAddress:e.saveBillingAddress}})],1):e.currentBaseView===e.baseViews.REMEMBERED_CARDS?n("div",{key:"remembered_cards"},[n("remembered-cards",{on:{selectedCard:e.setSelectedCard,cancel:e.reset,callback:e.onChargeResponse}})],1):e.currentBaseView===e.baseViews.CVV_AND_PIN?n("div",{key:"cvv_and_pin"},[n("cvv-and-pin-form",{attrs:{cardType:e.selectedCard.brand},on:{authorize:e.chargeRememberedCard,switch:e.changeView,callback:e.onChargeResponse}})],1):e._e(),e.currentBaseView===e.baseViews.CUSTOM_FIELD?n("div",{key:"custom_field"},[n("custom-field-form",{attrs:{message:e.authMessage,field:e.customField},on:{cancel:e.reset,submit:e.charge}})],1):e._e()])],1)},fa=[],va=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"otp-form"}},[n("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[n("instructions",{attrs:{message:e.message,icon:"otp"}}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-11-sm col-centered"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-7-sm"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.otp,expression:"otp",modifiers:{trim:!0}}],ref:"input",staticClass:"input input--lg input--centered",attrs:{type:e.formInputType,autocomplete:"off",name:"otp",pattern:e.inputValidationPattern,title:e.inputValidationMessage,"data-testid":"otpInput",required:""},domProps:{value:e.otp},on:{input:function(t){t.target.composing||(e.otp=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"col-5-sm"},[n("payment-button",{attrs:{disabled:!e.otp,loading:e.processing,"data-testid":"authorizeOtpButton"}},[e._v(" "+e._s(e.$t("authorize"))+" ")])],1)]),e.showOtpCountdown?n("div",{staticClass:"otp-status"},[n("transition",{attrs:{name:"fade-down",mode:"out-in"}},[e.resending?n("div",[n("inline-loader",{attrs:{message:e.$t("otpStatus.resending")}})],1):e.countdownMessage?n("div",[e._v(e._s(e.countdownMessage)+" "+e._s(e.timeLeft))]):e.waitingForToken?n("div",{domProps:{innerHTML:e._s(e.waitingForTokenMessage)}}):e.canResendToken?n("div",[n("a",{on:{click:e.resend}},[e._v(" "+e._s(e.$t("otpStatus.canResendToken.mainText"))+" "),n("b",{staticClass:"bold"},[e._v(e._s(e.$t("otpStatus.canResendToken.subText")))])])]):n("div",[e._v(e._s(e.$t("otpStatus.noOtp")))])])],1):e._e()])]),e.processing?e._e():n("cancel-link",{attrs:{"data-testid":"cancel-payment-button",text:e.cancelText},on:{click:e.cancel}})],1)])},ga=[],_a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"instructions",attrs:{id:"instructions"}},[e.icon?a("div",{staticClass:"instructions__icon"},["pin"===e.icon?a("img",{attrs:{src:n(50870),alt:e.$t("cardPinIcon")}}):e._e(),"otp"===e.icon?a("img",{attrs:{src:n(87849),alt:e.$t("otpIcon")}}):e._e(),"redirect"===e.icon?a("img",{attrs:{src:n(42139),alt:e.$t("redirectIcon")}}):e._e(),"bank"===e.icon?a("img",{attrs:{src:n(69672),alt:e.$t("bankIcon")}}):e._e(),"birthday"===e.icon?a("img",{attrs:{src:n(21221),alt:e.$t("birthdayIcon")}}):e._e(),"phone"===e.icon?a("img",{attrs:{src:n(56289),alt:e.$t("phoneIcon")}}):e._e(),"ussd"===e.icon?a("img",{attrs:{src:n(84393),alt:e.$t("ussdIcon")}}):e._e()]):e._e(),e.message?a("div",{staticClass:"instructions__message",class:{"instructions__message--link":e.linkText},domProps:{innerHTML:e._s(e.message)}}):e._e(),e.linkText?a("div",{staticClass:"instructions__link",attrs:{"data-testid":e.linkDataTestId},on:{click:function(t){return e.$emit("linkClick")}}},[e._v(" "+e._s(e.linkText)+" ")]):e._e()])},ya=[],ba={name:"Instructions",props:{icon:String,message:String,linkText:String,linkDataTestId:{type:String,default:"link"}}},Ca=ba,wa=n(25025),ka=n.n(wa),Ea=ka(),Ta=(0,he.Z)(Ca,_a,ya,!1,null,"43a21962",null);"function"===typeof Ea&&Ea(Ta);var Sa=Ta.exports,Ra=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cancel-link",attrs:{id:"cancel-link"}},[n("button",{staticClass:"cancel-button",attrs:{name:"cancelPayment",type:"button"},on:{click:e.onClick}},[e._v(" "+e._s(e.text||e.$t("cancel"))+" ")])])},Ia=[],Aa={name:"CancelLink",props:{text:String},computed:(0,k.Z)({},(0,m.Se)(["isCharging"])),methods:{onClick:function(){this.isCharging&&this.$store.dispatch("isCharging",!1),this.$emit("click")}}},Na=Aa,Pa=n(91766),xa=n.n(Pa),$a=xa(),Da=(0,he.Z)(Na,Ra,Ia,!1,null,null,null);"function"===typeof $a&&$a(Da);var Ma=Da.exports,Oa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"button",class:e.variantStyle,attrs:{type:e.type,disabled:e.disabled||e.loading},on:{click:e.click}},[e.loading?n("span",{staticClass:"spinner"}):e._t("default")],2)},Va=[],La={name:"PaymentButton",props:{type:{type:String,default:"submit"},variant:{type:String},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},methods:{click:function(){this.$emit("click")}},computed:{variantStyle:function(){return{"button--light":"light"===this.variant}}}},Ua=La,Wa=(0,he.Z)(Ua,Oa,Va,!1,null,"d93f3b36",null),qa=Wa.exports,Za=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loader-wrapper"},[e._m(0),e.message?n("div",{staticClass:"loader-message"},[e._v(e._s(e.message))]):e._e()])},Ba=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loader"},[n("div",{staticClass:"loader__spinner"},[n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div")])])}],Fa={name:"Loader",props:{message:{type:String}}},Ha=Fa,za=(0,he.Z)(Ha,Za,Ba,!1,null,"3c370db4",null),Ga=za.exports,Ka={name:"OtpForm",components:{Instructions:Sa,CancelLink:Ma,InlineLoader:Ga,PaymentButton:qa},props:{message:{type:String,default:"Please enter the OTP that was sent to your phone."},resending:{type:Boolean},timeLimit:{type:Number,default:420},showCountdown:{type:Boolean,default:!0},countdownMessage:{type:String},validationPattern:{type:String},validationMessage:{type:String}},data:function(){return{otp:null,processing:!1,deadline:null,timeLeft:null,waitingForToken:!0,interval:null}},created:function(){var e=this;this.$nextTick((function(){e.$refs.input&&e.$refs.input.focus()})),this.deadline=(0,ce.addSeconds)(new Date,this.timeLimit),this.checkTimeLeft(),this.interval=setInterval((function(){return e.checkTimeLeft()}),1e3)},watch:{resending:function(){this.deadline=(0,ce.addSeconds)(this.timeLimit,"seconds")}},beforeDestroy:function(){window.clearInterval(this.interval)},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction"])),{},{canResendToken:function(){return this.$listeners&&this.$listeners.resend},cancelText:function(){var e=!this.transaction.isTest&&!this.canResendToken;return!this.waitingForToken&&e?this.$t("cancelText.restart"):this.$t("cancelText.cancel")},formInputType:function(){var e,t=null===(e=this.message)||void 0===e?void 0:e.toLowerCase();return null!==t&&void 0!==t&&t.includes("password")||null!==t&&void 0!==t&&t.includes("pin")?"password":"tel"},showOtpCountdown:function(){return!this.transaction.isTest&&this.showCountdown},inputValidationPattern:function(){return this.validationPattern||void 0},inputValidationMessage:function(){return this.validationMessage||void 0},waitingForTokenMessage:function(){return this.$t("otpStatus.waitingForToken",{timeLeft:this.timeLeft})}}),methods:{cancel:function(){this.$emit("cancel")},checkTimeLeft:function(){var e=(0,ce.differenceInSeconds)(this.deadline,new Date),t=this.timeFormatter(e),n=t.isInMinutes,a=t.time;this.timeLeft=n?this.$t("timeInMinutes",{count:a}):this.$t("timeInSeconds",{count:a}),this.waitingForToken=(0,ce.isBefore)(new Date,this.deadline)},timeFormatter:function(e){var t=60,n=Math.floor(e/t),a=e%t,s=n&&a?n+1:n||a;return{isInMinutes:n>0,time:s}},onSubmit:function(){this.processing=!0,this.$emit("submit",this.otp)},resend:function(){Et(),this.$emit("resend")}}},Ya=Ka,Qa=n(91229),ja=n.n(Qa),Ja=ja(),Xa=(0,he.Z)(Ya,va,ga,!1,null,"9afa08b2",null);"function"===typeof Ja&&Ja(Xa);var es=Xa.exports,ts=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{staticClass:"auth-form",on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[n("instructions",{attrs:{message:e.$t("instructionMessage"),icon:"phone"}}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-10-sm col-centered"},[n("phone-number-input",{ref:"phoneNumber",attrs:{"country-code":e.countryCode,required:!0,placeholder:"+234 812 345 6789","data-testid":"phoneInput"},on:{input:e.onInput},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}})],1),n("div",{staticClass:"col-10-sm col-centered button-wrapper"},[n("payment-button",{attrs:{"data-testid":"phoneNumberSubmitButton",disabled:!e.isValidPhoneNumber,loading:e.processing}},[e._v(" "+e._s(e.$t("sendOtp"))+" ")])],1)]),n("transition",{attrs:{name:"fade"}},[e.error?n("div",{staticClass:"form-group-error"},[e._v(e._s(e.error))]):e._e()]),e.processing?e._e():n("cancel-link",{on:{click:e.cancel}})],1)])},ns=[],as=(n(23157),{GH:[{startsWith:"2",length:9,subString:0,precursor:"+233"},{startsWith:"5",length:9,subString:0,precursor:"+233"},{startsWith:"02",length:10,subString:1,precursor:"+233"},{startsWith:"05",length:10,subString:1,precursor:"+233"},{startsWith:"+2332",length:13,subString:4,precursor:"+233"},{startsWith:"+23302",length:14,subString:5,precursor:"+233"},{startsWith:"+2335",length:13,subString:4,precursor:"+233"},{startsWith:"+23305",length:14,subString:5,precursor:"+233"}],NG:[{startsWith:"07",length:11,precursor:"+234",subString:1},{startsWith:"08",length:11,precursor:"+234",subString:1},{startsWith:"09",length:11,precursor:"+234",subString:1},{startsWith:"+2347",length:14,precursor:"+234",subString:4},{startsWith:"+2348",length:14,precursor:"+234",subString:4},{startsWith:"+2349",length:14,precursor:"+234",subString:4},{startsWith:"+23407",length:15,precursor:"+234",subString:5},{startsWith:"+23408",length:15,precursor:"+234",subString:5},{startsWith:"+23409",length:15,precursor:"+234",subString:5}],KE:[{startsWith:"700",length:9,precursor:"+254",subString:0},{startsWith:"701",length:9,precursor:"+254",subString:0},{startsWith:"702",length:9,precursor:"+254",subString:0},{startsWith:"703",length:9,precursor:"+254",subString:0},{startsWith:"704",length:9,precursor:"+254",subString:0},{startsWith:"705",length:9,precursor:"+254",subString:0},{startsWith:"706",length:9,precursor:"+254",subString:0},{startsWith:"707",length:9,precursor:"+254",subString:0},{startsWith:"708",length:9,precursor:"+254",subString:0},{startsWith:"710",length:9,precursor:"+254",subString:0},{startsWith:"711",length:9,precursor:"+254",subString:0},{startsWith:"712",length:9,precursor:"+254",subString:0},{startsWith:"713",length:9,precursor:"+254",subString:0},{startsWith:"714",length:9,precursor:"+254",subString:0},{startsWith:"715",length:9,precursor:"+254",subString:0},{startsWith:"716",length:9,precursor:"+254",subString:0},{startsWith:"717",length:9,precursor:"+254",subString:0},{startsWith:"718",length:9,precursor:"+254",subString:0},{startsWith:"719",length:9,precursor:"+254",subString:0},{startsWith:"720",length:9,precursor:"+254",subString:0},{startsWith:"721",length:9,precursor:"+254",subString:0},{startsWith:"722",length:9,precursor:"+254",subString:0},{startsWith:"723",length:9,precursor:"+254",subString:0},{startsWith:"724",length:9,precursor:"+254",subString:0},{startsWith:"725",length:9,precursor:"+254",subString:0},{startsWith:"726",length:9,precursor:"+254",subString:0},{startsWith:"727",length:9,precursor:"+254",subString:0},{startsWith:"728",length:9,precursor:"+254",subString:0},{startsWith:"729",length:9,precursor:"+254",subString:0},{startsWith:"740",length:9,precursor:"+254",subString:0},{startsWith:"741",length:9,precursor:"+254",subString:0},{startsWith:"742",length:9,precursor:"+254",subString:0},{startsWith:"743",length:9,precursor:"+254",subString:0},{startsWith:"746",length:9,precursor:"+254",subString:0},{startsWith:"748",length:9,precursor:"+254",subString:0},{startsWith:"790",length:9,precursor:"+254",subString:0},{startsWith:"791",length:9,precursor:"+254",subString:0},{startsWith:"792",length:9,precursor:"+254",subString:0},{startsWith:"793",length:9,precursor:"+254",subString:0},{startsWith:"794",length:9,precursor:"+254",subString:0},{startsWith:"795",length:9,precursor:"+254",subString:0},{startsWith:"796",length:9,precursor:"+254",subString:0},{startsWith:"797",length:9,precursor:"+254",subString:0},{startsWith:"798",length:9,precursor:"+254",subString:0},{startsWith:"799",length:9,precursor:"+254",subString:0},{startsWith:"110",length:9,precursor:"+254",subString:0},{startsWith:"111",length:9,precursor:"+254",subString:0},{startsWith:"112",length:9,precursor:"+254",subString:0},{startsWith:"113",length:9,precursor:"+254",subString:0},{startsWith:"114",length:9,precursor:"+254",subString:0},{startsWith:"115",length:9,precursor:"+254",subString:0},{startsWith:"0700",length:10,precursor:"+254",subString:1},{startsWith:"0701",length:10,precursor:"+254",subString:1},{startsWith:"0702",length:10,precursor:"+254",subString:1},{startsWith:"0703",length:10,precursor:"+254",subString:1},{startsWith:"0704",length:10,precursor:"+254",subString:1},{startsWith:"0705",length:10,precursor:"+254",subString:1},{startsWith:"0706",length:10,precursor:"+254",subString:1},{startsWith:"0707",length:10,precursor:"+254",subString:1},{startsWith:"0708",length:10,precursor:"+254",subString:1},{startsWith:"0710",length:10,precursor:"+254",subString:1},{startsWith:"0711",length:10,precursor:"+254",subString:1},{startsWith:"0712",length:10,precursor:"+254",subString:1},{startsWith:"0713",length:10,precursor:"+254",subString:1},{startsWith:"0714",length:10,precursor:"+254",subString:1},{startsWith:"0715",length:10,precursor:"+254",subString:1},{startsWith:"0716",length:10,precursor:"+254",subString:1},{startsWith:"0717",length:10,precursor:"+254",subString:1},{startsWith:"0718",length:10,precursor:"+254",subString:1},{startsWith:"0719",length:10,precursor:"+254",subString:1},{startsWith:"0720",length:10,precursor:"+254",subString:1},{startsWith:"0721",length:10,precursor:"+254",subString:1},{startsWith:"0722",length:10,precursor:"+254",subString:1},{startsWith:"0723",length:10,precursor:"+254",subString:1},{startsWith:"0724",length:10,precursor:"+254",subString:1},{startsWith:"0725",length:10,precursor:"+254",subString:1},{startsWith:"0726",length:10,precursor:"+254",subString:1},{startsWith:"0727",length:10,precursor:"+254",subString:1},{startsWith:"0728",length:10,precursor:"+254",subString:1},{startsWith:"0729",length:10,precursor:"+254",subString:1},{startsWith:"0740",length:10,precursor:"+254",subString:1},{startsWith:"0741",length:10,precursor:"+254",subString:1},{startsWith:"0742",length:10,precursor:"+254",subString:1},{startsWith:"0743",length:10,precursor:"+254",subString:1},{startsWith:"0746",length:10,precursor:"+254",subString:1},{startsWith:"0748",length:10,precursor:"+254",subString:1},{startsWith:"0790",length:10,precursor:"+254",subString:1},{startsWith:"0791",length:10,precursor:"+254",subString:1},{startsWith:"0792",length:10,precursor:"+254",subString:1},{startsWith:"0793",length:10,precursor:"+254",subString:1},{startsWith:"0794",length:10,precursor:"+254",subString:1},{startsWith:"0795",length:10,precursor:"+254",subString:1},{startsWith:"0796",length:10,precursor:"+254",subString:1},{startsWith:"0797",length:10,precursor:"+254",subString:1},{startsWith:"0798",length:10,precursor:"+254",subString:1},{startsWith:"0799",length:10,precursor:"+254",subString:1},{startsWith:"0110",length:10,precursor:"+254",subString:1},{startsWith:"0111",length:10,precursor:"+254",subString:1},{startsWith:"0112",length:10,precursor:"+254",subString:1},{startsWith:"0113",length:10,precursor:"+254",subString:1},{startsWith:"0114",length:10,precursor:"+254",subString:1},{startsWith:"0115",length:10,precursor:"+254",subString:1},{startsWith:"+254700",length:13,precursor:"+254",subString:4},{startsWith:"+254701",length:13,precursor:"+254",subString:4},{startsWith:"+254702",length:13,precursor:"+254",subString:4},{startsWith:"+254703",length:13,precursor:"+254",subString:4},{startsWith:"+254704",length:13,precursor:"+254",subString:4},{startsWith:"+254705",length:13,precursor:"+254",subString:4},{startsWith:"+254706",length:13,precursor:"+254",subString:4},{startsWith:"+254707",length:13,precursor:"+254",subString:4},{startsWith:"+254708",length:13,precursor:"+254",subString:4},{startsWith:"+254710",length:13,precursor:"+254",subString:4},{startsWith:"+254711",length:13,precursor:"+254",subString:4},{startsWith:"+254712",length:13,precursor:"+254",subString:4},{startsWith:"+254713",length:13,precursor:"+254",subString:4},{startsWith:"+254714",length:13,precursor:"+254",subString:4},{startsWith:"+254715",length:13,precursor:"+254",subString:4},{startsWith:"+254716",length:13,precursor:"+254",subString:4},{startsWith:"+254717",length:13,precursor:"+254",subString:4},{startsWith:"+254718",length:13,precursor:"+254",subString:4},{startsWith:"+254719",length:13,precursor:"+254",subString:4},{startsWith:"+254720",length:13,precursor:"+254",subString:4},{startsWith:"+254721",length:13,precursor:"+254",subString:4},{startsWith:"+254722",length:13,precursor:"+254",subString:4},{startsWith:"+254723",length:13,precursor:"+254",subString:4},{startsWith:"+254724",length:13,precursor:"+254",subString:4},{startsWith:"+254725",length:13,precursor:"+254",subString:4},{startsWith:"+254726",length:13,precursor:"+254",subString:4},{startsWith:"+254727",length:13,precursor:"+254",subString:4},{startsWith:"+254728",length:13,precursor:"+254",subString:4},{startsWith:"+254729",length:13,precursor:"+254",subString:4},{startsWith:"+254740",length:13,precursor:"+254",subString:4},{startsWith:"+254741",length:13,precursor:"+254",subString:4},{startsWith:"+254742",length:13,precursor:"+254",subString:4},{startsWith:"+254743",length:13,precursor:"+254",subString:4},{startsWith:"+254746",length:13,precursor:"+254",subString:4},{startsWith:"+254748",length:13,precursor:"+254",subString:4},{startsWith:"+254790",length:13,precursor:"+254",subString:4},{startsWith:"+254791",length:13,precursor:"+254",subString:4},{startsWith:"+254792",length:13,precursor:"+254",subString:4},{startsWith:"+254793",length:13,precursor:"+254",subString:4},{startsWith:"+254794",length:13,precursor:"+254",subString:4},{startsWith:"+254795",length:13,precursor:"+254",subString:4},{startsWith:"+254796",length:13,precursor:"+254",subString:4},{startsWith:"+254797",length:13,precursor:"+254",subString:4},{startsWith:"+254798",length:13,precursor:"+254",subString:4},{startsWith:"+254799",length:13,precursor:"+254",subString:4},{startsWith:"+254110",length:13,precursor:"+254",subString:4},{startsWith:"+254111",length:13,precursor:"+254",subString:4},{startsWith:"+254112",length:13,precursor:"+254",subString:4},{startsWith:"+254113",length:13,precursor:"+254",subString:4},{startsWith:"+254114",length:13,precursor:"+254",subString:4},{startsWith:"+254115",length:13,precursor:"+254",subString:4}]}),ss=[{name:"DEFAULT"},{name:"MTN",value:"MTN",prefix:["+23354","+23355","+23324"]},{name:"TGO",value:"Airtel/Tigo",prefix:["+23327","+23357","+23326","+23356"]},{name:"VOD",value:"Vodafone",prefix:["+23320","+23350"]}],rs={name:"MPESA"},is={isValidNumber:function(e,t){var n=as[t];if(!n)return!1;var a=!1;return n.forEach((function(t){e.startsWith(t.startsWith)&&e.length===t.length&&(a=!0)})),a},parseNumber:function(e,t){var n=as[t];if(!n)return!1;var a={};return e?(n.forEach((function(n){e.startsWith(n.startsWith)&&e.length===n.length&&(a.country=t,a.phone=e)})),a):{}},formatNumber:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"E.164";if(!e||!e.country||!e.phone)return!1;var n=e.phone,a=e.country,s=as[a];if(!s)return!1;var r=null;return s.forEach((function(e){n.startsWith(e.startsWith)&&n.length===e.length&&"E.164"===t&&(r="".concat(e.precursor).concat(n.substr(e.subString)))})),r},getNetworkProvider:function(e){if(!e)throw Error("Please supply valid phone number");var t=ss.reduce((function(t,n){var a=n.prefix.some((function(t){return e.startsWith(t)}));return a?n:t}));return t.name}},os=is,cs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-wrapper"},[n("input",{ref:"input",staticClass:"input",attrs:{type:"tel",name:"phoneNumber",placeholder:e.placeholder,required:e.required,"data-testid":"phone-number-input"},domProps:{value:e.value},on:{input:e.parse}}),n("transition",{attrs:{name:"flag"}},[e.flag?n("div",{staticClass:"flag-icon",domProps:{innerHTML:e._s(e.flag)}}):e._e()])],1)},us=[],ls=JSON.parse('{"CI":{"name":"Côte D\'Ivoire","flag":{"emoji":"🇨🇮","unicode":"U+1F1E8 U+1F1EE"}},"GH":{"name":"Ghana","flag":{"emoji":"🇬🇭","unicode":"U+1F1EC U+1F1ED"}},"KE":{"name":"Kenya","flag":{"emoji":"🇰🇪","unicode":"U+1F1F0 U+1F1EA"}},"NG":{"name":"Nigeria","flag":{"emoji":"🇳🇬","unicode":"U+1F1F3 U+1F1EC"}},"ZA":{"name":"South Africa","flag":{"emoji":"🇿🇦","unicode":"U+1F1FF U+1F1E6"}}}'),ds={name:"PhoneNumberInput",props:{value:{required:!0,type:[String,Number]},placeholder:String,required:Boolean,"country-code":{type:String,validator:function(e){var t=Object.keys(ls);return-1!==t.indexOf(e)}}},data:function(){return{country:this.countryCode}},computed:{countryClass:function(){return this.country&&"visible"},flag:function(){var e=ls[this.country];return e?de.Z.parse(e.flag.emoji,{ext:".svg",folder:"svg"}):null}},created:function(){this.value&&this.parse()},methods:{parse:function(e){var t,n=(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)||this.value;if(this.countryCode)this.country=this.countryCode;else{var a=os.parseNumber(n);this.country=a.country}this.$emit("input",n)},focus:function(){this.$refs.input.focus()}}},ps=ds,ms=(0,he.Z)(ps,cs,us,!1,null,"4a1bada2",null),hs=ms.exports,fs={name:"PhoneForm",components:{CancelLink:Ma,Instructions:Sa,PhoneNumberInput:hs,PaymentButton:qa},mounted:function(){var e=this;this.$nextTick((function(){e.$refs.input&&e.$refs.input.focus()}))},props:{countryCode:{type:String,default:"NG"}},data:function(){return{processing:!1,phoneNumber:"+234",isValidPhoneNumber:!1,error:null}},computed:(0,k.Z)({},(0,m.Se)(["transaction"])),methods:{cancel:function(){this.$emit("cancel")},onSubmit:function(){this.processing=!0;var e=os.formatNumber({country:this.countryCode,phone:this.phoneNumber},"E.164");this.$emit("submit",e)},onInput:function(e){this.isValidPhoneNumber=os.isValidNumber(e,this.countryCode)}}},vs=fs,gs=n(69108),_s=n.n(gs),ys=_s(),bs=(0,he.Z)(vs,ts,ns,!1,null,"73891c01",null);"function"===typeof ys&&ys(bs);var Cs=bs.exports,ws=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"pin-form"}},[n("form",{staticClass:"auth-form",attrs:{autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-10-sm col-centered"},[n("instructions",{attrs:{message:e.message}}),n("div",{staticClass:"pin-area"},[e.processing?n("loader"):n("div",[n("pin-input",{attrs:{"pin-length":4},model:{value:e.pin,callback:function(t){e.pin=t},expression:"pin"}})],1)],1),e.processing?e._e():n("cancel-link",{on:{click:e.cancel}})],1)])])])},ks=[],Es=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pin-input"},[n("input",{staticStyle:{display:"none"},attrs:{type:"text",name:"prevent_autofill",value:""}}),n("input",{staticStyle:{display:"none"},attrs:{type:"text",name:"prevent_autofill",value:""}}),e._l(e.pinLength,(function(t,a){return n("div",{key:t},[n("pin-field",{attrs:{focus:a===e.activeFieldIndex},on:{input:e.onInput,valid:e.next,back:e.previous},model:{value:e.localValue[a],callback:function(t){e.$set(e.localValue,a,t)},expression:"localValue[index]"}})],1)}))],2)},Ts=[],Ss=(n(43290),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pin-field",class:{"pin-field--masked":e.maskField}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue,expression:"localValue"}],ref:"pinFieldElement",staticClass:"input",attrs:{name:"pinField",type:"tel",autocomplete:"off",maxlength:"1",disabled:e.disabled,"data-testid":"pinFieldInput"},domProps:{value:e.localValue},on:{keydown:e.onKeyDown,keyup:e.onKeyUp,blur:e.onBlur,focus:e.onFocus,input:function(t){t.target.composing||(e.localValue=t.target.value)}}}),n("span",{staticClass:"pin-mask"},[e._v("*")])])}),Rs=[],Is=(n(9494),n(44048),{name:"PinField",props:{value:String,disabled:Boolean,focus:Boolean},data:function(){return{localValue:this.value,isFocused:!1}},computed:{maskField:function(){return this.localValue&&!this.isFocused}},methods:{onKeyDown:function(e){var t="Backspace"===e.key,n="Tab"===e.key,a=Number.parseInt(e.key,10);t||n||!Number.isNaN(a)||e.preventDefault(),t&&!this.localValue&&this.$emit("back")},onKeyUp:function(e){this.$emit("input",this.localValue);var t=Number.parseInt(e.key,10);this.localValue&&!Number.isNaN(t)&&this.$emit("valid")},onFocus:function(){this.localValue?this.$refs.pinFieldElement.select():this.$refs.pinFieldElement.focus(),this.isFocused=!0},onBlur:function(){this.isFocused=!1}},watch:{focus:function(e){e&&this.onFocus()}},mounted:function(){this.focus&&this.onFocus()}}),As=Is,Ns=(0,he.Z)(As,Ss,Rs,!1,null,"f804fa7a",null),Ps=Ns.exports,xs={name:"PinInput",components:{PinField:Ps},props:{value:String,pinLength:{type:Number,default:4}},data:function(){var e=Array(this.pinLength).fill("");return{activeFieldIndex:0,localValue:e}},methods:{onInput:function(){this.localValue.every((function(e){return e}))&&this.$emit("input",this.localValue.join(""))},next:function(){var e=this.activeFieldIndex+1;e<this.pinLength&&(this.activeFieldIndex=e)},previous:function(){var e=this.activeFieldIndex-1;e>=0&&(this.activeFieldIndex=e)}}},$s=xs,Ds=(0,he.Z)($s,Es,Ts,!1,null,"44f6865c",null),Ms=Ds.exports,Os=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),e.message?n("div",{staticClass:"loader__message",domProps:{innerHTML:e._s(e.message)}}):e._e()])},Vs=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loader"},[n("div",{staticClass:"loader__spinner"},[n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div")])])}],Ls={name:"Loader",props:{message:{type:String}}},Us=Ls,Ws=(0,he.Z)(Us,Os,Vs,!1,null,"29fea404",null),qs=Ws.exports,Zs={name:"PinForm",props:{message:{type:String,required:!0}},components:{Loader:qs,Instructions:Sa,PinInput:Ms,CancelLink:Ma},data:function(){return{processing:!1,pin:""}},computed:(0,k.Z)({},(0,m.Se)(["transaction"])),watch:{pin:function(e){4===e.length&&this.submit()}},methods:{submit:function(){this.processing=!0,this.transaction.card.pin=this.pin,this.$emit("submit")},cancel:function(){this.$emit("cancel")}}},Bs=Zs,Fs=(0,he.Z)(Bs,ws,ks,!1,null,"75f9a32c",null),Hs=Fs.exports,zs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[n("transition",{attrs:{name:"fade"}},[n("instructions",{attrs:{message:e.$t("instructionMessage")}})],1),n("div",{staticClass:"row"},[n("div",{staticClass:"col-10-sm col-centered"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6-sm",class:{"col-12-sm":!e.applyPinCheck}},[n("div",{staticClass:"form-group text-center"},[n("input",{directives:[{name:"mask",rawName:"v-mask",value:"####",expression:"'####'"},{name:"model",rawName:"v-model",value:e.cvv,expression:"cvv"}],ref:"cvv",staticClass:"input",class:{"input--error":e.error,"input--centered":!e.applyPinCheck},attrs:{type:"tel",name:"cvv",placeholder:"CVV","data-testid":"cardCvvInput",required:""},domProps:{value:e.cvv},on:{input:function(t){t.target.composing||(e.cvv=t.target.value)}}})])]),e.applyPinCheck?n("div",{staticClass:"col-6-sm"},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"mask",rawName:"v-mask",value:"####",expression:"'####'"},{name:"model",rawName:"v-model",value:e.pin,expression:"pin"}],ref:"pin",staticClass:"input",class:{"input--error":e.error},attrs:{type:"password",name:"pin",placeholder:e.$t("cardPin"),required:""},domProps:{value:e.pin},on:{input:function(t){t.target.composing||(e.pin=t.target.value)}}})])]):e._e()]),n("div",{staticClass:"pay-section"},[n("payment-button",{attrs:{loading:e.processing,disabled:!e.formIsComplete,"data-testid":"cardFormPaymentButton"}},[e._v(" "+e._s(e.$t("paymentInstruction",{amount:e.transaction.amount,formatParams:e.amountFormatParams}))+" ")]),e.processing?e._e():n("cancel-link",{on:{click:function(t){return e.cancel()}}})],1)])])],1)])},Gs=[],Ks=n(32982),Ys={name:"CvvAndPinForm",directives:{mask:Ks.mask},components:{CancelLink:Ma,Instructions:Sa,PaymentButton:qa},props:{cardType:{type:String,required:!0}},data:function(){return{error:null,cvv:null,pin:null,processing:null}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction","isCharging"])),{},{formIsComplete:function(){return this.applyPinCheck?this.cvv&&this.pin:this.cvv},applyPinCheck:function(){var e=["master-card","mastercard","verve"];return e.includes(this.cardType)},amountFormatParams:function(){return $(this.transaction.currency)}}),methods:{cancel:function(){this.$emit("switch","remembered_cards")},onSubmit:function(){var e=this.cvv,t=this.pin;if(this.formIsComplete){var n=(0,k.Z)({cvv:e},this.applyPinCheck?{pin:t}:{});this.processing=!0,this.$emit("authorize",n)}}}},Qs=Ys,js=n(49110),Js=n.n(js),Xs=Js(),er=(0,he.Z)(Qs,zs,Gs,!1,null,null,null);"function"===typeof Xs&&Xs(er);var tr=er.exports,nr={methods:{emitPaymentChannelError:function(e,t){if(t.request&&[0,500,504].some((function(e){return e===t.request.status})))e.$emit("callback",{status:"requery"});else{var n=t.response&&t.response.data||t,a=n.message;e.$emit("callback",{status:"failed",data:n,message:a})}}}},ar=nr,sr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"card-form"}},[n("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[n("instructions",{attrs:{message:e.$t("instructionMessage")}}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12-sm"},[n("card-number-input",{ref:"number",attrs:{formSubmitAttempted:e.formSubmitAttempted},on:{focus:function(t){return e.onFocus("number")},complete:function(t){return e.moveFocus("expiry","number")},setCardAsCanBeRemembered:e.setCardAsCanBeRemembered,cardType:e.setCardType},model:{value:e.number,callback:function(t){e.number="string"===typeof t?t.trim():t},expression:"number"}})],1)]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-6-sm"},[n("card-expiry-input",{ref:"expiry",attrs:{formSubmitAttempted:e.formSubmitAttempted},on:{focus:function(t){return e.onFocus("expiry")},complete:function(t){return e.moveFocus("cvv","expiry")}},model:{value:e.expiry,callback:function(t){e.expiry="string"===typeof t?t.trim():t},expression:"expiry"}})],1),n("div",{staticClass:"col-6-sm"},[n("card-cvv-input",{ref:"cvv",attrs:{cardType:e.cardType,formSubmitAttempted:e.formSubmitAttempted},on:{focus:function(t){return e.onFocus("cvv")}},model:{value:e.cvv,callback:function(t){e.cvv="string"===typeof t?t.trim():t},expression:"cvv"}})],1)]),n("transition",{attrs:{name:"fade",mode:"out-in"}},[e.cardCanBeRemembered?n("div",{staticClass:"remember-card"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6-sm"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.rememberCard,expression:"rememberCard"}],attrs:{type:"checkbox",id:"remember_card",name:"rememberMeCheckbox","data-testid":"rememberMeCheckbox"},domProps:{checked:Array.isArray(e.rememberCard)?e._i(e.rememberCard,null)>-1:e.rememberCard},on:{change:[function(t){var n=e.rememberCard,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&(e.rememberCard=n.concat([r])):i>-1&&(e.rememberCard=n.slice(0,i).concat(n.slice(i+1)))}else e.rememberCard=s},e.onChecked]}}),n("label",{staticClass:"remember-card__label",attrs:{for:"remember_card"}},[e._v(e._s(e.$t("rememberCard")))])]),n("div",{staticClass:"col-6-sm"},[n("a",{staticClass:"remember-card__link",attrs:{href:"#"},on:{click:e.toggleHint}},[e._v(" "+e._s(e.$t("whatIsThis"))+" ")])])]),n("transition",{attrs:{name:"fade",mode:"out-in"}},[e.showHint?n("div",{staticClass:"row"},[n("div",{staticClass:"remember-card__description"},[e._v(" "+e._s(e.$t("hintText"))+" ")])]):e._e()])],1):e._e()]),n("div",{staticClass:"pay-section"},[n("payment-button",{attrs:{loading:e.processing,disabled:e.isIncomplete,"data-testid":"cardFormPaymentButton"}},[e._v(" "+e._s(e.$t("paymentInstruction",{amount:e.transaction.amount,formatParams:e.amountFormatParams}))+" ")])],1)],1),e.canUseTestCards?n("cancel-link",{attrs:{text:e.$t("useTestCard")},on:{click:e.switchToTestCards}}):e._e(),e.canUseRememberedCard?n("cancel-link",{attrs:{text:e.$t("payWithSavedCard")},on:{click:e.switchToRememberedCard}}):e._e(),e.paymentRequestApiIsSupported?n("payment-request-link",{on:{click:e.usePaymentRequestApi}}):e._e()],1)},rr=[],ir=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-group"},[n("hint",{attrs:{label:e.$t("help"),text:e.$t("hintText",{inputLabel:e.inputLabel}),image:e.cvvImage,imageDescription:"CVV hint"}}),n("input",{directives:[{name:"mask",rawName:"v-mask",value:"####",expression:"'####'"},{name:"model",rawName:"v-model",value:e.cardCVV,expression:"cardCVV"}],ref:"input",staticClass:"input input--card",class:{"input--error":e.showError},attrs:{type:"tel",name:e.name,autocomplete:"cc-csc",placeholder:e.isAmexCard?"1234":"123","data-testid":"cardCvvInput",required:""},domProps:{value:e.cardCVV},on:{input:[function(t){t.target.composing||(e.cardCVV=t.target.value)},e.onChange],blur:e.onBlur,focus:e.onFocus}}),n("label",{staticClass:"label label--floating",attrs:{"data-testid":"cvv-input-label",for:"cardCvv"}},[e._v(e._s(e.inputLabel))]),n("transition",[e.showError?n("div",{staticClass:"form-group-error",attrs:{"data-testid":"cardCvvError"}},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e()])],1)},or=[],cr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"hint",staticClass:"hint"},[n("a",{staticClass:"hint__toggle",attrs:{"data-testid":"showHint"},on:{click:function(t){return e.toggle()}}},[e._v(" "+e._s(e.label)+" ")]),n("transition",{attrs:{name:"show"}},[e.showHint?n("div",{staticClass:"hint__popup",attrs:{"data-testid":"hintPopup"}},[n("button",{staticClass:"hint__close",attrs:{"data-testid":"hideHint"},on:{click:function(t){return t.preventDefault(),e.hide()}}},[n("div",[e._v("×")])]),e.image?n("div",{staticClass:"hint__image"},[n("img",{attrs:{src:e.image,alt:e.imageDescription}})]):e._e(),n("div",{staticClass:"hint__text",attrs:{"data-testid":"hint-text"}},[e._v(e._s(e.text))])]):e._e()])],1)},ur=[],lr={name:"Hint",props:{label:{type:String,required:!0},text:{type:String,required:!0},image:{type:String},imageDescription:{type:String}},data:function(){return{showHint:!1}},methods:{toggle:function(){this.showHint?this.hide():this.show()},stopPropagation:function(e){e.stopPropagation()},show:function(){document.addEventListener("keyup",this.close),window.addEventListener("click",this.close),this.$refs.hint.addEventListener("click",this.stopPropagation),this.showHint=!0},hide:function(){document.removeEventListener("keyup",this.close),window.removeEventListener("click",this.close),this.$refs.hint.removeEventListener("click",this.stopPropagation),this.showHint=!1},close:function(e){"click"===e.type&&this.hide(),"Escape"===e.code&&this.hide()}}},dr=lr,pr=(0,he.Z)(dr,cr,ur,!1,null,null,null),mr=pr.exports,hr=function(e,t){return e&&e.length>=t},fr=hr,vr=n.p+"img/cvv.eaa9925c.png",gr={name:"CardCvvInput",directives:{mask:Ks.mask},components:{Hint:mr},props:{value:{type:String},name:{type:String,default:"cvv"},formSubmitAttempted:{type:Boolean},cardType:{type:String}},watch:{value:function(){this.valueHasChanged=!0}},data:function(){return{cardCVV:this.value,cvvImage:vr,canShowError:!1,valueHasChanged:!1}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction"])),{},{isValid:function(){var e=Y.Zb.validateCVV(this.cardCVV,this.cardType),t=e.isValid;return t},showError:function(){var e=this.isAmexCard?4:3;return!this.isValid&&this.canShowError&&(this.formSubmitAttempted||fr(this.cardCVV,e))},isAmexCard:function(){return"american-express"===this.cardType},cardIdentificationType:function(){return this.isAmexCard?"cid":"cvv"},errorMessage:function(){return this.cardCVV?this.$t("errorMessage.invalid",{context:this.cardIdentificationType}):this.$t("errorMessage.empty",{identificationType:this.cardIdentificationType.toUpperCase()})},inputLabel:function(){return this.isAmexCard?this.$t("cid"):this.$t("cvv")}}),methods:{focus:function(){var e=this;this.$nextTick((function(){e.$refs.input&&e.$refs.input.focus()}))},onChange:function(){this.$emit("input",this.cardCVV),this.isValid?this.$emit("complete"):this.canShowError=!0},onBlur:function(){this.valueHasChanged&&this.transaction.logInput("card cvv"),this.valueHasChanged=!1},onFocus:function(){this.$emit("focus")}}},_r=gr,yr=n(20104),br=n.n(yr),Cr=br(),wr=(0,he.Z)(_r,ir,or,!1,null,null,null);"function"===typeof Cr&&Cr(wr);var kr=wr.exports,Er=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.expiryString,expression:"expiryString"}],ref:"input",staticClass:"input input--card",class:{"input--error":e.showError},attrs:{type:"tel",name:e.name,autocomplete:"cc-exp",placeholder:e.$t("placeholder"),"data-testid":"cardExpiryInput",required:""},domProps:{value:e.expiryString},on:{input:[function(t){t.target.composing||(e.expiryString=t.target.value)},e.onChange],blur:e.onBlur,focus:e.onFocus}}),n("label",{staticClass:"label label--floating",attrs:{for:"cardExpiry"}},[e._v(e._s(e.$t("cardExpiry")))]),n("transition",{attrs:{name:"fade"}},[e.showError?n("div",{staticClass:"form-group-error",attrs:{"data-testid":"cardExpiryError"}},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e()])],1)},Tr=[],Sr={name:"CardExpiryInput",directives:{mask:Ks.mask},props:{value:{type:Object,default:function(){return{month:"",year:""}}},name:{type:String,default:"expiry"},formSubmitAttempted:{type:Boolean}},watch:{value:function(){this.valueHasChanged=!0}},data:function(){var e=this.value,t=e.month,n=e.year,a=t&&n?"".concat(t," / ").concat(n):"";return{expiryString:a,canShowError:!1,valueHasChanged:!1}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction"])),{},{expiryObject:function(){var e=Y.Zb.validateExpiry(this.expiryString),t=e.month,n=e.year;return{month:t,year:n}},isValid:function(){var e=Y.Zb.validateExpiry(this.expiryString),t=e.isValid;return t},expiryStringWithoutSpaces:function(){return this.expiryString.replace(/\s/g,"")},showError:function(){var e=5;return!this.isValid&&this.canShowError&&(this.formSubmitAttempted||fr(this.expiryStringWithoutSpaces,e))},errorMessage:function(){return this.expiryString?this.$t("errorMessage.invalid"):this.$t("errorMessage.empty")}}),methods:{focus:function(){var e=this;this.$nextTick((function(){e.$refs.input&&e.$refs.input.focus()}))},canAssistInput:function(e){return 2===this.expiryString.length&&(e.data&&"Backspace"!==e.key)},onChange:function(e){this.canAssistInput(e)&&this.addSlash(),this.$emit("input",this.expiryObject),this.isValid?this.$emit("complete"):this.canShowError=!0},addSlash:function(){this.expiryString="".concat(this.expiryString," / "),this.moveCursorToEnd()},moveCursorToEnd:function(){var e=this.$refs.input;if(null!==e&&void 0!==e&&e.setSelectionRange){var t=this.expiryString.length;e.setSelectionRange(t,t)}},onBlur:function(){this.valueHasChanged&&this.transaction.logInput("card expiry"),this.valueHasChanged=!1},onFocus:function(){this.$emit("focus")}}},Rr=Sr,Ir=n(69576),Ar=n.n(Ir),Nr=Ar(),Pr=(0,he.Z)(Rr,Er,Tr,!1,null,null,null);"function"===typeof Nr&&Nr(Pr);var xr=Pr.exports,$r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-group"},[n("div",{staticClass:"input-wrap"},[n("input",{directives:[{name:"mask",rawName:"v-mask",value:"#### #### #### #### ###",expression:"'#### #### #### #### ###'"},{name:"model",rawName:"v-model",value:e.cardNumber,expression:"cardNumber"}],ref:"input",staticClass:"input input--card",class:{"input--error":e.showError},attrs:{type:"tel",name:e.name,autocomplete:"cc-number",placeholder:"0000 0000 0000 0000","data-testid":"cardNumberInput",required:""},domProps:{value:e.cardNumber},on:{input:[function(t){t.target.composing||(e.cardNumber=t.target.value)},e.onChange],blur:e.onBlur,focus:e.onFocus}}),n("label",{staticClass:"label label--floating",attrs:{for:"cardNumber"}},[e._v(e._s(e.$t("cardNumber")))]),n("transition",{attrs:{name:"fade"}},[e.cardType?n("card-logo",{attrs:{type:e.cardType}}):e._e()],1)],1),n("transition",{attrs:{name:"fade"}},[e.showError?n("div",{staticClass:"form-group-error",attrs:{"data-testid":"cardNumberError"}},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e()])],1)},Dr=[],Mr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.type?n("div",{class:"card-logo "+e.type}):e._e()},Or=[],Vr={name:"CardLogo",props:["type"]},Lr=Vr,Ur=(0,he.Z)(Lr,Mr,Or,!1,null,"08d7cba8",null),Wr=Ur.exports,qr={name:"CardNumberInput",directives:{mask:Ks.mask},components:{CardLogo:Wr},props:{value:{type:String,default:""},name:{type:String,default:"number"},formSubmitAttempted:{type:Boolean}},watch:{value:function(){this.valueHasChanged=!0}},data:function(){return{cardNumber:this.value,canShowError:!1,valueHasChanged:!1}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction"])),{},{cardNumberWithoutSpaces:function(){return this.cardNumber.replace(/\s/g,"")},cardType:function(){var e=Y.Zb.getType(this.cardNumberWithoutSpaces),t=e.type;return t},isVerveCard:function(){return"verve"===this.cardType},isValid:function(){var e=Y.Zb.validateNumber(this.cardNumberWithoutSpaces),t=e.isValid;return t},cardCanBeRemembered:function(){var e=this.transaction&&"NGN"===this.transaction.currency,t=this.transaction&&this.transaction.rememberMeEnabled,n=this.transaction&&this.transaction.device,a=["master-card","mastercard","verve","visa"],s=a.includes(this.cardType);return e&&t&&n&&s&&this.isValid},showError:function(){var e=Y.Zb.getType(this.cardNumberWithoutSpaces),t=e.minLength;return this.isVerveCard?this.formSubmitAttempted&&!this.isValid:!this.isValid&&this.canShowError&&(this.formSubmitAttempted||fr(this.cardNumberWithoutSpaces,t))},errorMessage:function(){return this.cardNumber?this.$t("errorMessage.invalid"):this.$t("errorMessage.empty")}}),methods:{focus:function(){var e=this;this.$nextTick((function(){e.$refs.input&&e.$refs.input.focus()}))},onChange:function(){this.$emit("input",this.cardNumberWithoutSpaces),this.$emit("cardType",this.cardType),this.$emit("setCardAsCanBeRemembered",this.cardCanBeRemembered),this.handleCardNumberValidity()},onFocus:function(){this.$emit("focus")},handleCardNumberValidity:function(){this.isValid?this.isVerveCard||this.$emit("complete"):this.canShowError=!0},onBlur:function(){this.valueHasChanged&&this.transaction.logInput("card number"),this.valueHasChanged=!1}}},Zr=qr,Br=n(9797),Fr=n.n(Br),Hr=Fr(),zr=(0,he.Z)(Zr,$r,Dr,!1,null,"07b98780",null);"function"===typeof Hr&&Hr(zr);var Gr=zr.exports,Kr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"link"},[n("button",{attrs:{name:"paymentRequestApi",type:"button"},on:{click:e.onClick}},[e._v(" "+e._s(e.$t("instructionMessage"))+" ")])])},Yr=[],Qr={name:"PaymentRequestLink",methods:{onClick:function(){this.$emit("click")}}},jr=Qr,Jr=n(82352),Xr=n.n(Jr),ei=Xr(),ti=(0,he.Z)(jr,Kr,Yr,!1,null,"02d370fd",null);"function"===typeof ei&&ei(ti);var ni=ti.exports,ai={name:"CardForm",components:{Instructions:Sa,CardCvvInput:kr,CardExpiryInput:xr,CardNumberInput:Gr,CancelLink:Ma,PaymentButton:qa,PaymentRequestLink:ni},data:function(){return{processing:!1,focusedInput:"",number:"",expiry:{month:"",year:""},cvv:"",cardType:null,rememberCard:!1,showHint:!1,cardCanBeRemembered:!1,formSubmitAttempted:!1}},mounted:function(){this.moveFocus("number")},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction","reusePaymentInfo","paymentInstrument"])),{},{merchantName:function(){return this.transaction.merchant.name},isIncomplete:function(){return!this.number||!this.expiry||!this.cvv},canUseTestCards:function(){return this.transaction.isTest&&!this.processing},canUseRememberedCard:function(){return this.transaction&&this.transaction.authorizations&&this.transaction.authorizations.length>0},paymentRequestApiIsSupported:function(){return!this.transaction.isTest&&window&&window.PaymentRequest},amountFormatParams:function(){return $(this.transaction.currency)}}),created:function(){if(this.reusePaymentInfo&&this.paymentInstrument.card){var e=this.paymentInstrument.card,t=e.number,n=e.month,a=e.year,s=e.cvv;this.number=t,this.expiry={month:n,year:a},this.cvv=s}this.paymentRequestApiIsSupported&&Xt()},methods:{onSubmit:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n={number:e.number,cvv:e.cvv,month:e.expiry.month,year:e.expiry.year},a=Y.Zb.validate(n),!a.isValid){t.next=11;break}return e.processing=!0,e.$store.dispatch("savePaymentInstrument",{card:n}),t.next=7,e.transaction.setCard(n);case 7:e.rememberCard&&e.transaction.rememberCard(),e.$emit("submit"),t.next=15;break;case 11:e.formSubmitAttempted=!0,s=Object.keys(a.result).filter((function(e){return!a.result[e]})).map((function(e){return"card ".concat(e)})),bt(s),e.transaction.logValidationErrors(s);case 15:case"end":return t.stop()}}),t)})))()},onFocus:function(e){this.focusedInput=e},moveFocus:function(e,t){var n=this;this.$nextTick((function(){var a=n.focusedInput!==t;t&&a||n.$refs[e]&&n.$refs[e].focus()}))},setCardAsCanBeRemembered:function(e){this.cardCanBeRemembered=e,this.cardCanBeRemembered&&At()},switchToTestCards:function(){this.$emit("switch","test_cards")},switchToRememberedCard:function(){this.$emit("switch","remembered_cards")},onChecked:function(){this.rememberCard&&Nt(),this.showHint=this.rememberCard},toggleHint:function(){this.showHint=!this.showHint},setCardType:function(e){this.cardType=e},usePaymentRequestApi:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a,s,r,i,o,c,u,l,d,p,m,h,f,v,g,_;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=[{supportedMethods:["basic-card"],data:{supportedNetworks:["visa","mastercard","amex","discover","diners","jcb","unionpay"]}}],a=e.transaction,s=a.currency,r=a.amount,i=a.merchant,o={displayItems:[{label:"".concat(i.name," - Paystack"),amount:{currency:s,value:r/100}}],total:{label:"Amount",amount:{currency:s,value:r/100}}},c=new PaymentRequest(n,o),t.next=7,c.show();case 7:if(u=t.sent,l=u.details,d=l.cardNumber,p=l.cardSecurityCode,m=l.expiryMonth,h=l.expiryYear,f=l.billingAddress,v={number:d,cvv:p,month:m,year:h},g=Y.Zb.validate(v),!g.isValid){t.next=19;break}return t.next=14,e.transaction.setCard(v);case 14:e.$emit("paymentRequestResult",u),f&&e.$emit("billingAddress",f),e.$emit("submit"),t.next=20;break;case 19:u.complete("fail");case 20:t.next=26;break;case 22:t.prev=22,t.t0=t["catch"](0),_=t.t0&&t.t0.message||"Payment Request API error",Tt({channel:"card",message:_});case 26:case"end":return t.stop()}}),t,null,[[0,22]])})))()}}},si=ai,ri=n(72769),ii=n.n(ri),oi=ii(),ci=(0,he.Z)(si,sr,rr,!1,null,"e48140d6",null);"function"===typeof oi&&oi(ci);var ui=ci.exports,li=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.allStates.length?n("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[n("instructions",{attrs:{message:e.$t("instructionMessage")}}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12-sm"},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"input-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],ref:"input",staticClass:"input input--card",class:{"input--error":e.error},attrs:{type:"text",placeholder:"201 Stacks Street",required:"",autofocus:"","data-testid":"street-address"},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}}),n("label",{staticClass:"label label--floating",attrs:{for:"street"}},[e._v(e._s(e.$t("streetAddress")))])])])])]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12-sm"},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"input-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.zipCode,expression:"zipCode"}],ref:"input",staticClass:"input input--card",class:{"input--error":e.error},attrs:{type:"text",placeholder:"12345",required:"",autofocus:"","data-testid":"zip-code"},domProps:{value:e.zipCode},on:{input:function(t){t.target.composing||(e.zipCode=t.target.value)}}}),n("label",{staticClass:"label label--floating",attrs:{for:"zipCodes"}},[e._v(e._s(e.$t("zipCode")))])])])])]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-6-sm"},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"select-wrap"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.state,expression:"state"}],ref:"state",staticClass:"select",attrs:{name:"state","data-testid":"state"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.state=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"",disabled:""}},[e._v(e._s(e.$t("state")))]),e._l(e.allStates,(function(t){return n("option",{key:t.slug,domProps:{value:t.slug}},[e._v(" "+e._s(t.name)+" ")])}))],2),n("div",{staticClass:"select-icon"})])])]),n("div",{staticClass:"col-6-sm"},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.city,expression:"city"}],ref:"input",staticClass:"input",class:{"input--error":e.error},attrs:{type:"text",placeholder:e.$t("city"),required:"",autofocus:"","data-testid":"city"},domProps:{value:e.city},on:{input:function(t){t.target.composing||(e.city=t.target.value)}}})])])]),n("div",{staticClass:"pay-section"},[n("payment-button",{attrs:{loading:e.processing,disabled:e.isIncomplete,"data-testid":"complete-payment"}},[e._v(" "+e._s(e.$t("completePayment"))+" ")])],1)],1):n("loader")],1)},di=[],pi={name:"AddressForm",components:{Instructions:Sa,PaymentButton:qa,Loader:qs},props:{billingAddress:{type:Object}},data:function(){return{address:"",zipCode:"",state:"",city:"",error:!1,processing:!1,allStates:[]}},created:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.billingAddress&&e.setBillingAddressData(),n=e.lastResponse.data.countryCode,t.next=5,Y.C7.fetch("states",{country:n});case 5:a=t.sent,e.allStates=a.data,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.$emit("callback",{status:"failed"});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["lastResponse"])),{},{isIncomplete:function(){var e=this.address,t=this.zipCode,n=this.state,a=this.city;return!(e&&t&&n&&a)}}),methods:{onSubmit:function(){var e=this.address,t=this.zipCode,n=this.state,a=this.city,s={address:e,zipCode:t,state:n,city:a};this.processing=!0,this.$emit("submit",s)},setBillingAddressData:function(){var e=this.billingAddress,t=e.addressLine,n=e.city,a=e.region,s=e.postalCode;this.address=t,this.city=n,this.state=a.toLowerCase(),this.zipCode=s}}},mi=pi,hi=n(75915),fi=n.n(hi),vi=fi(),gi=(0,he.Z)(mi,li,di,!1,null,null,null);"function"===typeof vi&&vi(gi);var _i=gi.exports,yi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"test-cards"}},[n("instructions",{attrs:{message:e.$t("instructionMessage")}}),n("div",{staticClass:"cards"},e._l(e.cards,(function(t,a){return n("div",{key:t.number,staticClass:"card",class:{"card--is-active":a===e.selectedCardIndex,"card--disabled":e.processing},on:{click:function(t){e.selectedCardIndex=a}}},[n("div",{staticClass:"card__details"},[n("div",{staticClass:"card__details__select"},[n("div",{staticClass:"card__select",attrs:{"data-testid":"testCard-"+a}})]),n("div",{staticClass:"card__details__info"},[n("span",{staticClass:"card__number"},[e._v(e._s(e.$t("cards."+t.name)))])]),n("div",{staticClass:"card__details__type"},[n("card-logo",{attrs:{type:t.type}})],1)])])})),0),n("payment-button",{attrs:{"data-testid":"testCardsPaymentButton",disabled:null===e.selectedCardIndex,loading:e.processing},on:{click:function(t){return e.pay()}}},[e._v(" "+e._s(e.$t("paymentInstruction",{amount:e.transaction.amount,formatParams:e.amountFormatParams}))+" ")]),e.processing?e._e():n("cancel-link",{attrs:{"data-testid":"test-cards-cancel-link",text:e.$t("useAnotherCard")},on:{click:e.switchToCardForm}})],1)},bi=[],Ci={name:"TestCards",components:{Instructions:Sa,CardLogo:Wr,CancelLink:Ma,PaymentButton:qa},data:function(){return{processing:!1,selectedCardIndex:null,cardData:["success","bank_auth","declined"].map((function(e){return(0,k.Z)((0,k.Z)({},Y.Zb.generateTestCard(e)),{},{name:"bank_auth"===e?"bankAuth":e})}))}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction"])),{},{cards:function(){return this.cardData.map((function(e){var t=Y.Zb.getType(e.number).type;return Object.assign(e,{type:t})}))},amountFormatParams:function(){return $(this.transaction.currency)}}),methods:{pay:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.processing=!0,n=e.cards[e.selectedCardIndex],t.next=4,e.transaction.setCard(n);case 4:e.$emit("submit");case 5:case"end":return t.stop()}}),t)})))()},switchToCardForm:function(){this.$emit("switch","card_form")}}},wi=Ci,ki=n(39520),Ei=n.n(ki),Ti=Ei(),Si=(0,he.Z)(wi,yi,bi,!1,null,"4174b97c",null);"function"===typeof Ti&&Ti(Si);var Ri=Si.exports,Ii=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"three-d-secure"}},[n("redirect",{attrs:{type:"3DS",url:e.url},on:{cancel:e.onCancel,closed:e.onRedirectClosed}})],1)},Ai=[],Ni=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("instructions",{attrs:{icon:"redirect",message:e.authMessage}}),e.isRedirected?n("loader"):n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-10-sm col-centered"},[n("payment-button",{attrs:{"data-testid":"continueRedirect"},on:{click:function(t){return e.redirect()}}},[e._v(e._s(e.$t("authenticate")))]),e.canUseGtb737?e._t("default"):e._e()],2)])]),e.isRecurringCardCharge?e._e():n("cancel-link",{on:{click:function(t){return e.cancel()}}}),n("transition",{attrs:{name:"fade"}},[e.isRedirected&&e.useIframe?n("div",{staticClass:"iframe",class:{iframe__content:!e.authPageLoaded},attrs:{"data-message":e.$t("authMessage.connecting")}},[n("button",{staticClass:"iframe__close",on:{click:function(t){return e.endRedirect()}}},[e._v(" "+e._s(e.$t("close"))+" ")]),n("iframe",{ref:"iframe",style:e.iframeCss,attrs:{src:e.iframeUrl,frameBorder:"0",allowtransparency:"true"}})]):e._e()])],1)},Pi=[],xi=(n(26833),n(88478)),$i=(n(27852),{DIRECT:"direct",PAY_WITH_TRANSFER:"pay-with-transfer"}),Di={fidelityussd:"*770#",sterlingussd:"*8221*AccountNumber#",wemaussd:"*945#",stanbicussd:"*909*11*1#",accessussd:"*901#",fbussd:"*894*0#",gtbussd:"*737#",ubaussd:"*919#",zenithussd:"*966*00#"};n(2707);function Mi(e,t){return(0,xi.Z)(e).sort((function(e,n){var a=e[t],s=n[t];return a<s?-1:a>s?1:0}))}function Oi(e,t,n){return(0,xi.Z)(n).sort((function(n,a){var s=n[t],r=a[t];return e.indexOf(s)>e.indexOf(r)?1:-1}))}var Vi=Oi,Li=[{key:"card",label:"Card"},{key:"bank",label:"Bank"},{key:"bank_transfer",label:"Transfer",isOffline:!0,isNew:!1},{key:"ussd",label:"USSD",isOffline:!0,isNew:!1},{key:"mpass_olti_qr",label:"Masterpass",isOffline:!0,allowedCurrencies:["ZAR"]},{key:"payattitude",label:"PayAttitude",isOffline:!0,isNew:!0},{key:"visa_qr",label:"Visa QR",allowedCurrencies:["NGN"],isOffline:!0},{key:"direct_debit",label:"Direct Debit"},{key:"eft",label:"EFT"},{key:"paypal",label:"PayPal",isOffline:!1,isNew:!0}];function Ui(e){var t=e.channels,n=e.channel_options,a=void 0===n?{}:n,s=e.currency;if(!t.includes("qr"))return[];var r=a.qr.map((function(e){return Li.find((function(t){return t.key==="".concat(e.toLowerCase(),"_qr")}))})).filter((function(e){return e.allowedCurrencies.includes(s)}));return a.qr.includes("MPASS_OLTI")?[].concat((0,xi.Z)(r),[{key:"snapscan_qr",label:"SnapScan",isOffline:!0}]):r}function Wi(e){var t,n=e.channels,a=e.channel_options,s=void 0===a?{}:a,r=e.currency;return n.includes("mobile_money")?"KES"===r&&null!==s&&void 0!==s&&null!==(t=s.mobile_money)&&void 0!==t&&t.includes("MPESA")?[{key:"mpesa",label:"Mpesa",isNew:!0}]:[{key:"mobile_money",label:"Mobile Money"}]:[]}function qi(e){var t=e.channels.filter((function(e){return"apple_pay"!==e})),n=Ui(e),a=Wi(e),s=Li.filter((function(e){var t=e.key;return!t.endsWith("_qr")})),r=s.filter((function(n){var a=n.key,s=e.channel_options&&e.channel_options[a];if(s){var r=s.length>0;return t.includes(a)&&r}return t.includes(a)}));return[].concat((0,xi.Z)(r),(0,xi.Z)(n),(0,xi.Z)(a))}function Zi(e){try{window.localStorage.setItem("lastUsedChannel",e)}catch(te){}}function Bi(e){try{var t=window.localStorage.getItem("lastUsedChannel"),n="apple_pay"!==t&&e.find((function(e){return e.key===t})),a=n?t:e[0].key;return a}catch(te){return e[0].key}}var Fi=[{name:"Guaranty Trust Bank",shortname:"GTBank",slug:"gtbussd",shortcode:"737",bankSlug:"guaranty-trust-bank",type:$i.DIRECT},{name:"United Bank for Africa",shortname:"UBA",slug:"ubaussd",shortcode:"919",bankSlug:"united-bank-for-africa",type:$i.DIRECT},{name:"Sterling Bank",shortname:"Sterling",slug:"sterlingussd",shortcode:"822",bankSlug:"sterling-bank",type:$i.DIRECT},{name:"Zenith Bank",shortname:"Zenith",slug:"zenithussd",bankSlug:"zenith-bank",shortcode:"966",type:$i.DIRECT},{name:"Fidelity Bank",shortname:"Fidelity",slug:"fidelityussd",shortcode:"770",bankSlug:"fidelity-bank",type:$i.PAY_WITH_TRANSFER},{name:"Stanbic IBTC",shortname:"Stanbic",slug:"stanbicussd",shortcode:"909",bankSlug:"stanbic-ibtc-bank",type:$i.PAY_WITH_TRANSFER},{name:"First Bank",shortname:"First Bank",slug:"fbussd",shortcode:"894",bankSlug:"first-bank-of-nigeria",type:$i.PAY_WITH_TRANSFER},{name:"Access Bank",shortname:"Access Bank",slug:"accessussd",shortcode:"901",bankSlug:"access-bank",type:$i.PAY_WITH_TRANSFER},{name:"Wema Bank",shortname:"Wema Bank",slug:"wemaussd",shortcode:"945",bankSlug:"wema-bank",type:$i.PAY_WITH_TRANSFER}],Hi=function(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fi,s=(null===e||void 0===e||null===(t=e.channel_options)||void 0===t?void 0:t.ussd)||[],r=(null===e||void 0===e||null===(n=e.channel_options)||void 0===n?void 0:n.bank_transfer_ussd)||[],i=[].concat((0,xi.Z)(s),(0,xi.Z)(r)),o=a.reduce((function(e,t){return i.includes(t.shortcode)||i.includes(t.bankSlug)?[].concat((0,xi.Z)(e),[t]):e}),[]),c=Mi(o,"name");return c},zi=function(e,t){return new Promise((function(n,a){try{localStorage.setItem(e,JSON.stringify(t)),n()}catch(s){a()}}))},Gi=function(e){return new Promise((function(t,n){try{var a=JSON.parse(localStorage.getItem(e));t(a)}catch(s){n()}}))},Ki=function(e){try{localStorage.removeItem(e)}catch(t){}};function Yi(e){var t=e.feature,n=e.integration;switch(t){case"full-redirect-3ds":return[348622,100043,100594,115278,153554,352476,194282,369128,518321,605980,191384,158579,669069].find((function(e){return e===n}));default:return null}}var Qi={"3DS":"3DS",IBANK:"ibank"},ji={FULL_REDIRECT:"full_redirect",IFRAME:"iframe",NEW_WINDOW:"new_window"},Ji={name:"Redirect",components:{Instructions:Sa,Loader:qs,CancelLink:Ma,PaymentButton:qa},props:{url:String,bankSlug:String,type:{type:String,validator:function(e){return Object.values(Qi).includes(e)}}},data:function(){var e;return{useIframe:!0,iframeUrl:"https://paystack.com/public/test/cookie-support/start.html",authWindow:null,authPageLoaded:!1,destinations:(e={},(0,Ye.Z)(e,Qi["3DS"],"card issuer"),(0,Ye.Z)(e,Qi.IBANK,"internet banking"),e),iframeCss:"display: block; border: 0px none transparent; overflow-x: hidden;\n        overflow-y: hidden; visibility: visible; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent;\n         -webkit-touch-callout: none; position: relative; left: 0; top: 0; width: 100%; height: 100%;"}},mounted:function(){this.authRequestedAt=new Date},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction","activeChannel","isRedirected","isRecurringCardCharge","mode"])),{},{destination:function(){return this.destinations[this.type]},authMessage:function(){var e=oe()()?"mobile":"desktop";return this.isRedirected?this.$t("authMessage.redirected",{destination:this.destination}):this.$t("authMessage.notRedirected",{context:e})},typeIs3DS:function(){return this.type===Qi["3DS"]},cannotUseIframeAuth:function(){return rt&&this.typeIs3DS||"GHS"===this.transaction.currency},canUseGtb737:function(){var e=Hi(this.transaction),t=e.some((function(e){return"737"===e.shortcode}));return"guaranty-trust-bank"===this.bankSlug&&t}}),methods:{getRedirectStrategy:function(){var e=Yi({feature:"full-redirect-3ds",integration:this.transaction.merchant.id}),t=rt&&!st,n=this.type===Qi.IBANK&&"guaranty-trust-bank"===this.bankSlug,a=e||t,s=this.mode===j.POPUP?!this.cannotUseIframeAuth&&a:a;return s?{strategy:ji.FULL_REDIRECT,action:this.performFullRedirect}:!s||n?st?{strategy:ji.NEW_WINDOW,action:this.openNewWindow}:{strategy:ji.IFRAME,action:this.attemptIframeAuth}:{strategy:ji.NEW_WINDOW,action:this.openNewWindow}},performFullRedirect:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=je(),a=e.craftTransactionData(),t.next=4,zi(n,a);case 4:s=e.craftCallbackUrl(n),window.location="".concat(e.url,"?redirect_to=").concat(s),ln("redirecting");case 7:case"end":return t.stop()}}),t)})))()},attemptIframeAuth:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.cannotUseIframeAuth){t.next=2;break}throw new Error;case 2:return t.next=4,e.checkThirdPartyCookieSupport();case 4:if(n=t.sent,!n){t.next=11;break}e.useIframe=!0,e.iframeUrl=e.url,e.listenForIframeEvents(),t.next=12;break;case 11:throw new Error;case 12:case"end":return t.stop()}}),t)})))()},redirect:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.transaction.logAuthWindowOpen(),e.$store.dispatch("setIsRedirected",!0),n=e.getRedirectStrategy(),a=n.action,t.next=6,a();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.openNewWindow();case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},checkThirdPartyCookieSupport:function(){return new Promise((function(e){var t=function t(n){var a=n.data;window.removeEventListener("message",t);var s="MM:3PCsupported"===a;e(s)};window.addEventListener("message",t,!1)}))},openNewWindow:function(){this.useIframe=!1,this.authWindow=window.open(this.url,"_blank","width=600,height=600,location=no,toolbar=no,menubar=no"),this.checkForResponseAtIntervals()},checkForResponseAtIntervals:function(){var e=this,t=setInterval((function(){var n;e.authWindow&&!e.authWindow.closed||(window.clearInterval(t),null!==(n=e.authWindow)&&void 0!==n&&n.closed&&e.endRedirect())}),1e3)},listenForIframeEvents:function(){var e=this;window.addEventListener("message",(function(t){var n=t.data;e.authPageLoaded="loaded:AuthPage"===n;var a="PaystackAuth"===(null===n||void 0===n?void 0:n.split(" ")[0]);a&&e.endRedirect()}))},endRedirect:function(){var e;this.useIframe||"function"!==typeof(null===(e=this.authWindow)||void 0===e?void 0:e.close)||(this.authWindow.close(),this.authWindow=null),this.$emit("closed"),this.transaction.logAuthWindowClose(),this.trackAuthentication(),this.$store.dispatch("setIsRedirected",!1)},trackAuthentication:function(){var e=(0,ce.differenceInSeconds)(new Date,this.authRequestedAt);kt({auth:this.type,timeSpent:e})},cancel:function(){this.isRedirected?this.endRedirect():this.$emit("cancel")},craftTransactionData:function(){return{email:this.transaction.email,status:this.transaction.status,amount:this.transaction.amount,id:this.transaction.id,cancel_action:this.transaction.cancel_action,label:this.transaction.label,metadata:this.transaction.metadata,merchant_id:this.transaction.merchant.id,merchant_logo:this.transaction.merchant.logo,merchant_name:this.transaction.merchant.name,merchant_key:this.transaction.merchant.key,access_code:this.transaction.accessCode,domain:this.transaction.domain,currency:this.transaction.currency,channels:this.transaction.channels,log:this.transaction.log,customer:this.transaction.customer,activeChannel:this.activeChannel.name,channel_options:this.transaction.channel_options}},craftCallbackUrl:function(e){return"".concat(window.location.href,"?nonce=").concat(e)}}},Xi=Ji,eo=n(30318),to=n.n(eo),no=to(),ao=(0,he.Z)(Xi,Ni,Pi,!1,null,"97002e7c",null);"function"===typeof no&&no(ao);var so=ao.exports,ro={name:"ThreeDSecure",components:{Redirect:so},props:{url:{type:String,required:!0}},data:function(){return{chargeResponse:null}},computed:(0,k.Z)({},(0,m.Se)(["transaction"])),created:function(){this.listenForResponse()},methods:{onCancel:function(){this.$emit("cancel")},onRedirectClosed:function(){this.$emit("callback",{status:"requery"})},listenFor3DSChargeCallback:function(e,t){"error"!==e.status&&(this.$emit("callback",e),t())},listenForResponse:function(){this.transaction.listenFor3DSCharge(this.listenFor3DSChargeCallback)}}},io=ro,oo=(0,he.Z)(io,Ii,Ai,!1,null,null,null),co=oo.exports,uo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.rememberedCards&&e.rememberedCards.length>1?n("instructions",{attrs:{message:e.$t("multipleCardsInstructionMessage")}}):n("instructions",{attrs:{message:e.$t("singleCardInstructionMessage")}}),e.rememberedCards?n("div",{staticClass:"cards"},e._l(e.rememberedCards,(function(t,a){return n("remembered-card",{key:t.id,attrs:{active:e.selected===a,type:e._f("capitalize")(t.brand),last4:e._f("last4")(t.description),deleting:e.deletingCard},on:{click:function(t){return e.selectCard(a)},delete:function(t){return e.deleteCard(a)}}})})),1):e._e(),n("payment-button",{attrs:{disabled:null==e.selected,loading:e.loading},on:{click:e.authorizePayment}},[e._v(" "+e._s(e.$t("continue"))+" ")]),n("cancel-link",{attrs:{text:e.$t("payWithAnotherCard")},on:{click:function(t){return e.cancel()}}})],1)},lo=[],po=n(55167),mo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card",class:{active:e.active,delete:e.isDeleteOpen}},[a("div",{staticClass:"card__details",on:{click:e.onClick}},[a("div",{staticClass:"card__icon"},[a("transition",{attrs:{name:"fade"}},[e.active?a("img",{key:"active",attrs:{src:n(3864),alt:e.$t("cardIcon")}}):a("img",{key:"inactive",attrs:{src:n(96841),alt:e.$t("cardIcon")}})])],1),a("span",{staticClass:"card__description"},[e._v(e._s(e.$t("cardDescription",{type:e.type}))+" "),a("em",[e._v(e._s(e.last4))])]),a("button",{staticClass:"card__delete-button",on:{click:function(t){return t.stopPropagation(),e.showDelete.apply(null,arguments)}}},[a("img",{attrs:{src:n(89999),alt:e.$t("deleteCard")}})])]),a("button",{ref:"deleteButton",staticClass:"card__confirm-delete",on:{click:function(t){return e.deleteCard()}}},[e.deleting?a("span",{staticClass:"spinner"}):a("span",[e._v(e._s(e.$t("forgetCard")))])])])},ho=[],fo={name:"RememberedCard",props:{active:{type:Boolean,default:!1},type:{type:String},last4:{type:String},deleting:{type:Boolean}},data:function(){return{isDeleteOpen:!1}},methods:{onClick:function(){this.isDeleteOpen?this.hideDelete():this.$emit("click")},showDelete:function(){this.isDeleteOpen=!0},hideDelete:function(){this.isDeleteOpen=!1},deleteCard:function(){this.$emit("delete")}}},vo=fo,go=n(5849),_o=n.n(go),yo=_o(),bo=(0,he.Z)(vo,mo,ho,!1,null,"5950957a",null);"function"===typeof yo&&yo(bo);var Co=bo.exports,wo={name:"RememberedCards",components:{RememberedCard:Co,PaymentButton:qa,Instructions:Sa,CancelLink:Ma},props:{loading:{type:Boolean,default:!1}},data:function(){return{selected:null,deletingCard:!1}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction"])),{},{hasRememberedCards:function(){return this.transaction&&this.transaction.authorizations&&this.transaction.authorizations.length>0},rememberedCards:function(){return this.transaction&&this.transaction.authorizations}}),filters:{last4:function(e){return e.substring(e.lastIndexOf(" ")+1)},capitalize:function(e){var t=(0,po.Z)(e),n=t[0],a=t.slice(1);return[n.toUpperCase()].concat((0,xi.Z)(a)).join("")}},methods:{selectCard:function(e){this.selected=e},cancel:function(){this.$emit("cancel")},authorizePayment:function(){var e=this.rememberedCards&&this.rememberedCards[this.selected];e&&this.$emit("selectedCard",e)},deleteCard:function(e){var t=this;return(0,K.Z)(regeneratorRuntime.mark((function n(){var a,s,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,a=t.rememberedCards&&t.rememberedCards[e],s=a.id,t.deletingCard=!0,n.next=5,t.transaction.forgetRememberedCard(s);case 5:r=n.sent,r&&"success"===r.status&&(t.$store.dispatch("deleteRememberedCard",s),xt(),t.hasRememberedCards||t.$emit("cancel"),t.deletingCard=!1),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),t.deletingCard=!1;case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()}}},ko=wo,Eo=n(87583),To=n.n(Eo),So=To(),Ro=(0,he.Z)(ko,uo,lo,!1,null,null,null);"function"===typeof So&&So(Ro);var Io=Ro.exports,Ao=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"auth-form",attrs:{autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-11-sm col-centered"},[n("instructions",{attrs:{message:e.message}}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-7-sm"},["checkbox"===e.inputType?n("input",{directives:[{name:"model",rawName:"v-model",value:e.form[e.field.name],expression:"form[field.name]"}],ref:"input",staticClass:"input input--lg input--centered",attrs:{autocomplete:"off",name:e.field.name,pattern:e.field.pattern,"data-testid":"customFieldInput",required:"",type:"checkbox"},domProps:{checked:Array.isArray(e.form[e.field.name])?e._i(e.form[e.field.name],null)>-1:e.form[e.field.name]},on:{change:function(t){var n=e.form[e.field.name],a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&e.$set(e.form,e.field.name,n.concat([r])):i>-1&&e.$set(e.form,e.field.name,n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.form,e.field.name,s)}}}):"radio"===e.inputType?n("input",{directives:[{name:"model",rawName:"v-model",value:e.form[e.field.name],expression:"form[field.name]"}],ref:"input",staticClass:"input input--lg input--centered",attrs:{autocomplete:"off",name:e.field.name,pattern:e.field.pattern,"data-testid":"customFieldInput",required:"",type:"radio"},domProps:{checked:e._q(e.form[e.field.name],null)},on:{change:function(t){return e.$set(e.form,e.field.name,null)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.form[e.field.name],expression:"form[field.name]"}],ref:"input",staticClass:"input input--lg input--centered",attrs:{autocomplete:"off",name:e.field.name,pattern:e.field.pattern,"data-testid":"customFieldInput",required:"",type:e.inputType},domProps:{value:e.form[e.field.name]},on:{input:function(t){t.target.composing||e.$set(e.form,e.field.name,t.target.value)}}})]),n("div",{staticClass:"col-5-sm"},[n("payment-button",{attrs:{disabled:!e.form[e.field.name],loading:e.processing,"data-testid":"submitCustomField"}},[e._v(" "+e._s(e.$t("submit"))+" ")])],1)]),e.processing?e._e():n("cancel-link",{on:{click:e.cancel}})],1)])])},No=[],Po={name:"CustomFieldForm",props:{message:{type:String},field:{type:Object}},components:{Instructions:Sa,PaymentButton:qa,CancelLink:Ma},data:function(){return{processing:!1,form:(0,Ye.Z)({},this.field.name,"")}},computed:{inputType:function(){return"string"===this.field.type?"text":this.field.type}},methods:{submit:function(){this.processing=!0;var e=(0,Ye.Z)({},this.field.name,this.form[this.field.name]);this.$emit("submit",e)},cancel:function(){this.$emit("cancel")}}},xo=Po,$o=n(48800),Do=n.n($o),Mo=Do(),Oo=(0,he.Z)(xo,Ao,No,!1,null,null,null);"function"===typeof Mo&&Mo(Oo);var Vo=Oo.exports,Lo={name:"CardChannel",components:{CardForm:ui,AddressForm:_i,OtpForm:es,CvvAndPinForm:tr,PhoneForm:Cs,ThreeDSecure:co,PinForm:Hs,RememberedCards:Io,TestCards:Ri,CustomFieldForm:Vo},mixins:[ar],data:function(){var e={CARD_FORM:"card_form",TEST_CARDS:"test_cards",REMEMBERED_CARDS:"remembered_cards",CVV_AND_PIN:"cvv_and_pin",CUSTOM_FIELD:"custom_field"};return{baseViews:e,authViews:{PIN:"pin",OTP:"otp",PHONE:"phone",THREE_D_SECURE:"3DS",ADDRESS_VERIFICATION:"avs"},currentBaseView:e.CARD_FORM,pinMessage:this.$t("pinMessage"),authRequired:null,authRequestedAt:null,selectedCard:null,paymentRequestResult:null,billingAddress:null}},beforeMount:function(){var e=this.transaction&&this.transaction.isTest,t=this.hasRememberedCards&&!this.useDefaultChannelView;e?this.changeView(this.baseViews.TEST_CARDS):t&&this.changeView(this.baseViews.REMEMBERED_CARDS)},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction","lastResponse","activeChannel","useDefaultChannelView","isRecurringCardCharge"])),{},{authMessage:function(){return this.lastResponse&&this.lastResponse.message},currentAuthView:function(){return this.lastResponse&&this.lastResponse.data&&this.lastResponse.data.auth},customField:function(){var e,t,n,a,s,r;return{name:null===(e=this.lastResponse)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.field,type:null===(n=this.lastResponse)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.type,pattern:null===(s=this.lastResponse)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.format}},hasRememberedCards:function(){return this.transaction&&this.transaction.authorizations&&this.transaction.authorizations.length>0}}),methods:{reset:function(){this.isRecurringCardCharge?this.$parent.$emit("reload"):(this.$store.dispatch("saveLastResponse",null),this.changeView(this.baseViews.CARD_FORM))},changeView:function(e){this.currentBaseView=e},charge:function(){var e=arguments,t=this;return(0,K.Z)(regeneratorRuntime.mark((function n(){var a,s,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e.length>0&&void 0!==e[0]?e[0]:{},n.prev=1,t.$store.dispatch("setChargingState",!0),t.$emit("attempt"),!t.isRecurringCardCharge){n.next=10;break}return n.next=7,t.transaction.resumeCardCharge({accessCode:t.transaction.accessCode,pin:t.transaction.card.pin});case 7:n.t0=n.sent,n.next=13;break;case 10:return n.next=12,t.transaction.chargeCard(a);case 12:n.t0=n.sent;case 13:s=n.t0,r=!!t.paymentRequestResult,t.onChargeResponse(s,{usedPaymentRequestApi:r}),n.next=22;break;case 18:n.prev=18,n.t1=n["catch"](1),t.$store.dispatch("setChargingState",!1),t.emitPaymentChannelError(t,n.t1);case 22:case"end":return n.stop()}}),n,null,[[1,18]])})))()},authenticate:function(e){var t=this;return(0,K.Z)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,t.$store.dispatch("setChargingState",!0),t.trackAuthentication(),n.next=5,t.transaction.authenticateCard(e);case 5:a=n.sent,t.onChargeResponse(a),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](0),t.$store.dispatch("setChargingState",!1),t.$emit("callback",{status:"requery"});case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},verifyAddress:function(e){var t=this;return(0,K.Z)(regeneratorRuntime.mark((function n(){var a,s,r,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.address,s=e.city,r=e.state,i=e.zipCode,n.prev=1,t.$store.dispatch("setChargingState",!0),t.trackAuthentication(),n.next=6,t.transaction.verifyAddress({address:a,city:s,state:r,zipCode:i});case 6:o=n.sent,t.onChargeResponse(o),n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](1),t.$store.dispatch("setChargingState",!1),t.$emit("callback",{status:"requery"});case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))()},setSelectedCard:function(e){this.selectedCard=e,this.changeView(this.baseViews.CVV_AND_PIN)},chargeRememberedCard:function(e){var t=this;return(0,K.Z)(regeneratorRuntime.mark((function n(){var a,s,r,i,o,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.cvv,s=e.pin,n.prev=1,t.$store.dispatch("setChargingState",!0),t.$emit("attempt",{usedSavedCard:!0}),r=t.selectedCard,i=r.authorization_code,o=r.last4,c={cvv:a,pin:s,cardLast4:o,authorizationCode:i},n.next=8,t.transaction.chargeRememberedCard(c);case 8:u=n.sent,t.onChargeResponse(u,{usedSavedCard:!0}),n.next=16;break;case 12:n.prev=12,n.t0=n["catch"](1),t.$store.dispatch("setChargingState",!1),t.$emit("callback",{status:"failed",data:n.t0});case 16:case"end":return n.stop()}}),n,null,[[1,12]])})))()},trackAuthentication:function(){var e=(0,ce.differenceInSeconds)(new Date,this.authRequestedAt);kt({auth:this.authRequired,timeSpent:e})},onChargeResponse:function(e,t){this.$store.dispatch("setChargingState",!1),t&&t.usedPaymentRequestApi&&(this.paymentRequestResult.complete("success"),this.$emit("attempt",{usedPaymentRequestApi:!0})),"auth"===e.status?(this.$store.dispatch("saveLastResponse",e),wt(e.data.auth),this.authRequestedAt=new Date,this.authRequired=e.data.auth):e.status===this.baseViews.CUSTOM_FIELD?(this.$store.dispatch("saveLastResponse",e),this.changeView(this.baseViews.CUSTOM_FIELD)):this.$emit("callback",e,t)},savePaymentRequestResult:function(e){this.paymentRequestResult=e},saveBillingAddress:function(e){this.billingAddress=e}}},Uo=Lo,Wo=n(28579),qo=n.n(Wo),Zo=qo(),Bo=(0,he.Z)(Uo,ha,fa,!1,null,null,null);"function"===typeof Zo&&Zo(Bo);var Fo=Bo.exports,Ho=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"bank-channel"}},[n("transition",{attrs:{name:"fade-down",mode:"out-in"}},[e.currentView===e.views.CHOOSE_BANK?n("div",{key:"choose_bank"},[n("choose-bank",{on:{select:e.setBank}})],1):e._e(),e.currentView===e.views.EMANDATE?n("div",{key:"emandate"},[n("emandate",{attrs:{bank:e.selectedBank},on:{changeBank:e.setBank,cancel:e.reset,attempt:e.onAttempt,callback:e.onChargeResponse}})],1):e._e(),e.currentView===e.views.IBANK?n("div",{key:"ibank"},[n("ibank",{attrs:{bank:e.selectedBank},on:{cancel:e.reset,attempt:e.onAttempt,callback:e.onChargeResponse}})],1):e._e(),e.currentView===e.views.DIGITAL_BANK_MANDATE?n("div",{key:"digitalbankmandate"},[n("digital-bank-mandate",{attrs:{bank:e.selectedBank},on:{changeBank:e.setBank,requery:e.requery,callback:e.onChargeResponse,attempt:e.onAttempt}})],1):e._e()])],1)},zo=[],Go=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("instructions",{attrs:{message:e.$t("instructionMessage"),icon:"bank"}}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-10-sm col-centered"},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"select-wrap"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedBank,expression:"selectedBank"}],ref:"bankName",staticClass:"select",attrs:{name:"bankName"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedBank=t.target.multiple?n:n[0]},function(t){return e.onChoose(e.selectedBank)}]}},[n("option",{attrs:{disabled:""},domProps:{value:null}},[e._v(" "+e._s(e.$t("clickHereToChoose"))+" ")]),e._l(e.banks,(function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(" "+e._s(t.name)+" ")])}))],2),n("div",{staticClass:"select-icon"})])])])])],1)},Ko=[],Yo={name:"ChooseBank",components:{Instructions:Sa},data:function(){return{selectedBank:null}},computed:(0,k.Z)({},(0,m.Se)(["banks"])),methods:{onChoose:function(e){e&&this.$emit("select",e)}}},Qo=Yo,jo=n(68563),Jo=n.n(jo),Xo=Jo(),ec=(0,he.Z)(Qo,Go,Ko,!1,null,null,null);"function"===typeof Xo&&Xo(ec);var tc=ec.exports,nc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"ibank"}},[e.setupComplete?n("div",[n("transition",{attrs:{name:"fade"}},[n("div",[n("redirect",{attrs:{type:"ibank",bankSlug:e.bank.slug,url:e.ibankData&&e.ibankData.url},on:{cancel:e.cancel,closed:e.checkTransactionStatus}},[n("payment-button",{attrs:{type:"button",variant:"light","data-testid":"use-gtb-737-button"},on:{click:e.payWithGtb737}},[e._v(" "+e._s(e.$t("payWith737"))+" ")])],1)],1)])],1):n("loader",{attrs:{message:e.$t("settingUp")}})],1)},ac=[],sc={name:"Ibank",components:{Loader:qs,Redirect:so,PaymentButton:qa},props:{bank:{type:Object,required:!0}},data:function(){return{ibankData:null}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction","activeChannel"])),{},{setupComplete:function(){return this.ibankData}}),created:function(){this.setupIbank()},methods:{cancel:function(){this.$emit("cancel")},listenForIbankChargeCallback:function(e,t){"error"!==e.status&&(this.$emit("attempt","ibank"),this.$emit("callback",e),t())},setupIbank:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.transaction.getIbankUrl({bankId:e.bank.id});case 2:n=t.sent,a=n.data,e.ibankData=a,e.transaction.listenForIbankCharge(e.listenForIbankChargeCallback);case 6:case"end":return t.stop()}}),t)})))()},checkTransactionStatus:function(){this.$emit("callback",{status:"requery"})},confirmPayment:function(){Mt({channel:this.activeChannel.name}),this.checkTransactionStatus()},payWithGtb737:function(){var e=Fi.find((function(e){return"gtbussd"===e.slug}));this.$store.dispatch("setUssdProvider",e),this.$store.dispatch("setActiveChannel",{name:"ussd"})}}},rc=sc,ic=n(6471),oc=n.n(ic),cc=oc(),uc=(0,he.Z)(rc,nc,ac,!1,null,"4e4888ae",null);"function"===typeof cc&&cc(uc);var lc=uc.exports,dc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"emandate"}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[e.currentView===e.views.ACCOUNT_NUMBER?n("nuban-account-form",{attrs:{bank:e.bank},on:{cancel:e.cancel,changeBank:e.changeBank,submit:e.chargeAccount}}):e._e(),e.currentView===e.views.BIRTHDAY?n("birthday-form",{attrs:{message:e.otpMessage},on:{cancel:e.reset,submit:e.registerAccount}}):e._e(),e.currentView===e.views.REGISTERATION_TOKEN?n("otp-form",{key:"registration",attrs:{message:e.otpMessage},on:{cancel:e.reset,submit:e.authenticateAccount}}):e._e(),e.currentView===e.views.PAYMENT_TOKEN?n("otp-form",{key:"payment",attrs:{message:e.otpMessage,showCountdown:e.showCountdown,validationPattern:e.otpValidationPattern,validationMessage:e.otpValidationMessage},on:{cancel:e.reset,submit:e.authenticateAccount}}):e._e()],1)],1)},pc=[],mc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"birthday-form"}},[n("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[n("instructions",{attrs:{icon:"birthday","data-testid":"birthday-form-instruction",message:e.instructionMessage}}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-10-sm col-centered"},[n("div",{staticClass:"form-group"},[n("date-input",{model:{value:e.birthday,callback:function(t){e.birthday=t},expression:"birthday"}})],1),n("payment-button",{attrs:{disabled:!e.birthday,loading:e.processing,"data-testid":"birthdayFormAuthorizeButton"}},[e._v(" "+e._s(e.$t("authorize"))+" ")]),e.processing?e._e():n("cancel-link",{on:{click:e.cancel}})],1)])],1)])},hc=[],fc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"date-input-group"},[n("div",{staticClass:"date-input-field"},[n("div",{staticClass:"select-wrap"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.month,expression:"month"}],ref:"month",staticClass:"select",attrs:{name:"dateInputMonth","data-testid":"date-input-month"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.month=t.target.multiple?n:n[0]},e.dateSelected]}},e._l(e.months,(function(t,a){return n("option",{key:a,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0),n("div",{staticClass:"select-icon"})])]),n("div",{staticClass:"date-input-field"},[n("div",{staticClass:"input-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.day,expression:"day"},{name:"mask",rawName:"v-mask",value:"##",expression:"'##'"}],ref:"day",staticClass:"input",class:{"input--error":e.day&&!e.dayIsValid},attrs:{name:"dateInputDay",type:"tel",autocomplete:"off",placeholder:"01","data-testid":"date-input-day",required:""},domProps:{value:e.day},on:{input:[function(t){t.target.composing||(e.day=t.target.value)},e.dayEntered]}})])]),n("div",{staticClass:"date-input-field"},[n("div",{staticClass:"input-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"year"},{name:"mask",rawName:"v-mask",value:"####",expression:"'####'"}],ref:"year",staticClass:"input",class:{"input--error":e.year&&!e.yearIsValid},attrs:{name:"dateInputYear",type:"tel",autocomplete:"off",placeholder:"1990","data-testid":"date-input-year",required:""},domProps:{value:e.year},on:{input:[function(t){t.target.composing||(e.year=t.target.value)},e.emit]}})])])])},vc=[],gc={name:"DateInput",directives:{mask:Ks.mask},props:{value:{type:String}},data:function(){return{months:this.$t("months",{returnObjects:!0}),month:this.$t("months.january"),day:"",year:""}},computed:{dayIsValid:function(){return this.day&&this.day<=31},yearIsValid:function(){var e=(new Date).getFullYear();return this.year&&this.year<=e}},methods:{dateSelected:function(){this.$refs.day&&this.$refs.day.focus(),this.emit()},dayEntered:function(){2===this.day.length&&this.$refs.year&&this.$refs.year.focus(),this.emit()},emit:function(){if(this.dayIsValid&&this.yearIsValid){var e="".concat(this.month," ").concat(this.day," ").concat(this.year),t=new Date(e),n=(0,ce.format)(t,"YYYY-MM-DD");this.$emit("input",n)}else this.$emit("input",null)}}},_c=gc,yc=n(38588),bc=n.n(yc),Cc=bc(),wc=(0,he.Z)(_c,fc,vc,!1,null,"f7831542",null);"function"===typeof Cc&&Cc(wc);var kc=wc.exports,Ec={name:"BirthdayForm",components:{DateInput:kc,Instructions:Sa,CancelLink:Ma,PaymentButton:qa},props:{message:{type:String}},data:function(){return{processing:!1,birthday:null}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction"])),{},{instructionMessage:function(){return this.message||this.$t("instructionMessage")}}),methods:{cancel:function(){this.$emit("cancel")},onSubmit:function(){this.processing=!0,this.$emit("submit",this.birthday)}}},Tc=Ec,Sc=n(45308),Rc=n.n(Sc),Ic=Rc(),Ac=(0,he.Z)(Tc,mc,hc,!1,null,null,null);"function"===typeof Ic&&Ic(Ac);var Nc=Ac.exports,Pc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"nuban-account-form","data-testid":"nuban-account-form"}},[n("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[n("instructions",{attrs:{message:e.authMessage}}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-10-sm col-centered"},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"select-wrap"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedBank,expression:"selectedBank"}],ref:"bankName",staticClass:"select",attrs:{name:"bankName","data-testid":"bank-select"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedBank=t.target.multiple?n:n[0]},function(t){return e.onChange(e.selectedBank)}]}},[n("option",{attrs:{disabled:""},domProps:{value:null}},[e._v(" "+e._s(e.$t("clickHereToChoose"))+" ")]),e._l(e.banks,(function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(" "+e._s(t.name)+" ")])}))],2),n("div",{staticClass:"select-icon"})])]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.accountNumber,expression:"accountNumber"},{name:"mask",rawName:"v-mask",value:e.mask,expression:"mask"}],ref:"accountNumber",staticClass:"input",class:{"input--error":e.showError},attrs:{type:"tel",name:"accountNumber",placeholder:e.$t("bankAccountNumber"),"data-testid":"nuban-input",required:""},domProps:{value:e.accountNumber},on:{blur:e.onBlur,input:function(t){t.target.composing||(e.accountNumber=t.target.value)}}}),n("transition",{attrs:{name:"fade"}},[e.showError?n("div",{staticClass:"form-group-error",attrs:{"data-testid":"accountNumberError"}},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e()])],1),n("div",{staticClass:"form-submit"},[n("payment-button",{attrs:{"data-testid":"bankFormPaymentButton",loading:e.processing,disabled:!e.accountNumber}},[e._v(" "+e._s(e.$t("verifyAccount"))+" ")])],1)])])],1),n("cancel-link",{on:{click:e.cancel}})],1)},xc=[],$c={name:"NubanAccountForm",directives:{mask:Ks.mask},components:{Instructions:Sa,CancelLink:Ma,PaymentButton:qa},props:{bank:Object,account:String},data:function(){return{canShowError:!1,selectedBank:this.bank,accountNumber:this.account,mask:"##########",processing:!1}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction","banks","paymentInstrument","reusePaymentInfo"])),{},{authMessage:function(){return this.transaction.isTest?this.$t("authMessage.test"):this.$t("authMessage.live")},isValid:function(){return Y.xl.isValidNubanAccount(this.accountNumber)},showError:function(){return!this.isValid&&this.canShowError},errorMessage:function(){return this.accountNumber?this.$t("errorMessage.invalid"):this.$t("errorMessage.empty")}}),created:function(){var e=this;if(this.transaction.isTest)this.selectedBank=this.banks.find((function(e){return"zenith-bank"===e.slug})),this.accountNumber="0000000000";else if(this.reusePaymentInfo&&this.paymentInstrument.bank){var t=this.paymentInstrument.bank,n=t.bank,a=t.accountNumber;this.selectedBank=n,this.accountNumber=a}this.$nextTick((function(){e.$refs.accountNumber&&e.$refs.accountNumber.focus()}))},methods:{cancel:function(){this.$emit("cancel")},onChange:function(e){this.$emit("changeBank",e)},onBlur:function(){var e=this;setTimeout((function(){e.canShowError=!0}),300)},onSubmit:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isValid){t.next=9;break}return e.processing=!0,e.transaction.logInput("account number"),e.$store.dispatch("savePaymentInstrument",{bank:{bank:e.selectedBank,accountNumber:e.accountNumber}}),t.next=6,e.transaction.setBankAccount({accountType:"nuban",bankId:e.selectedBank.id,accountNumber:e.accountNumber});case 6:e.$emit("submit"),t.next=11;break;case 9:bt(["account number"]),e.transaction.logValidationErrors(["account number"]);case 11:case"end":return t.stop()}}),t)})))()}}},Dc=$c,Mc=n(8874),Oc=n.n(Mc),Vc=Oc(),Lc=(0,he.Z)(Dc,Pc,xc,!1,null,null,null);"function"===typeof Vc&&Vc(Lc);var Uc=Lc.exports,Wc={name:"emandate",components:{NubanAccountForm:Uc,BirthdayForm:Nc,OtpForm:es},props:{bank:Object},data:function(){var e={ACCOUNT_NUMBER:"account_number",PAYMENT_TOKEN:"payment_token",BIRTHDAY:"birthday",REGISTERATION_TOKEN:"registration_token"};return{views:e,currentView:e.ACCOUNT_NUMBER,processing:!1,authRequired:null,authRequestedAt:null}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction","lastResponse"])),{},{showSecurePassMessage:function(){var e=2e6,t=this.bank&&"united-bank-for-africa"===this.bank.slug;return t&&this.currentView===this.views.PAYMENT_TOKEN&&this.transaction.amount>e},bankIsSterling:function(){var e;return"sterling-bank"===(null===(e=this.bank)||void 0===e?void 0:e.slug)},showCountdown:function(){return!(this.showSecurePassMessage||this.bankIsSterling)},otpValidationPattern:function(){return this.bankIsSterling?"[0-9]{6}":""},otpValidationMessage:function(){return this.bankIsSterling?this.$t("sixDigits"):""},otpMessage:function(){var e={birthday:this.$t("testMessage.birthday"),registration_token:this.$t("testMessage.registrationToken"),payment_token:this.$t("testMessage.paymentToken")};return this.transaction.isTest?e[this.currentView]:this.showSecurePassMessage?this.$t("securePassMessage"):this.lastResponse&&this.lastResponse.message}}),methods:{cancel:function(){this.$emit("cancel")},reset:function(){this.changeView(this.views.ACCOUNT_NUMBER)},changeView:function(e){this.currentView=e},changeBank:function(e){this.$emit("changeBank",e)},chargeAccount:function(){this.$emit("attempt","emandate"),this.send("charge")},registerAccount:function(e){this.trackAuthentication(),this.send("register",e)},authenticateAccount:function(e){this.trackAuthentication(),this.send("authenticate",e)},trackAuthentication:function(){var e=(0,ce.differenceInSeconds)(new Date,this.authRequestedAt);kt({auth:this.authRequired,timeSpent:e})},send:function(e,t){var n=this;return(0,K.Z)(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,n.$store.dispatch("setChargingState",!0),"charge"!==e){a.next=6;break}return a.next=5,n.transaction.chargeBankAccount();case 5:s=a.sent;case 6:if("register"!==e){a.next=10;break}return a.next=9,n.transaction.registerBankAccount(t);case 9:s=a.sent;case 10:if("authenticate"!==e){a.next=14;break}return a.next=13,n.transaction.authenticateBankAccount(t);case 13:s=a.sent;case 14:n.onChargeResponse(s),a.next=21;break;case 17:a.prev=17,a.t0=a["catch"](0),n.$store.dispatch("setChargingState",!1),n.onChargeResponse({status:"failed",data:a.t0});case 21:case"end":return a.stop()}}),a,null,[[0,17]])})))()},onChargeResponse:function(e){this.$store.dispatch("setChargingState",!1),"auth"===e.status?(this.$store.dispatch("saveLastResponse",e),wt(e.data.auth),this.authRequired=e.data.auth,this.authRequestedAt=new Date,this.changeView(e.data.auth)):this.$emit("callback",e)}}},qc=Wc,Zc=n(22260),Bc=n.n(Zc),Fc=Bc(),Hc=(0,he.Z)(qc,dc,pc,!1,null,null,null);"function"===typeof Fc&&Fc(Hc);var zc=Hc.exports,Gc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"digitalbankmandate"}},[n("transition",{attrs:{name:"fade-down",mode:"out-in"}},[e.currentView===e.views.ENTER_PHONE_NUMBER?n("phone-number-form",{attrs:{bank:e.bank},on:{changeBank:e.changeBank,submit:e.submitPhoneForm}}):e._e(),e.currentView===e.views.ENTER_PAY_ID?n("pay-id-form",{on:{showPayIdInstructions:e.showPayIdInstructions,submit:e.submitPayIdForm,cancel:e.cancel}}):e._e(),e.currentView===e.views.PAY_ID_INSTRUCTIONS?n("pay-id-instructions",{on:{backToPayment:e.backToPayment}}):e._e(),e.currentView===e.views.WAITING_SCREEN?n("div",[n("instructions",{attrs:{message:e.$t("waitingMessage")}}),n("animated-waiting-screen",{attrs:{"data-testid":"digitalbankmandate-waiting-screen",checkSentBox:!0,checkReceivedBox:e.receievedSuccessResponse}}),n("div",{staticClass:"waiting-screen-control"},[n("a",{attrs:{"data-testid":"digitalbankmandate-requery"},on:{click:e.requery}},[e._v(e._s(e.$t("accountHasBeenDebited")))])])],1):e._e()],1)],1)},Kc=[],Yc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"animated-waiting"},[n("div",{staticClass:"wait",class:{"wait--sent":e.checkSentBox,"wait--received":e.checkReceivedBox},attrs:{id:"wait","data-testid":"credit-request-animation"}},[n("div",{staticClass:"wait__step wait__step--sent"},[n("span",{staticClass:"icon"},[n("svg",{attrs:{width:"10",height:"8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M9 .896l-5.5 5.5-2.5-2.5",stroke:"#fff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})])]),e.sentText?n("span",{staticClass:"text"},[e._v(e._s(e.sentText))]):e._e()]),n("div",{staticClass:"wait__line"},[n("svg",{ref:"waitLineSvg",attrs:{id:"waitLineSvg",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{ref:"waitLinePathOne",staticClass:"wait__path"}),n("path",{ref:"waitLinePathTwo",staticClass:"wait__path wait__path--moving"})])]),n("div",{staticClass:"wait__step wait__step--received"},[n("span",{staticClass:"icon"},[n("svg",{attrs:{width:"10",height:"8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M9 .896l-5.5 5.5-2.5-2.5",stroke:"#fff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})])]),e.receivedText?n("span",{staticClass:"text"},[e._v(e._s(e.receivedText))]):e._e()])])])},Qc=[],jc=n(10990),Jc=n(25317),Xc={name:"AnimatedWaitingScreen",props:{message:String,sentText:String,receivedText:String,checkSentBox:Boolean,checkReceivedBox:Boolean},created:function(){oe()()||this.registerListeners()},beforeDestroy:function(){this.removeListeners()},mounted:function(){this.drawLines()},methods:{drawLines:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=20,n=0+t,a=this.$refs.waitLineSvg.clientWidth-t,s=this.$refs.waitLineSvg.clientHeight/2,r=e.xOffset||0,i=e.yOffset||0,o="".concat(n+r," ").concat(s+i),c=r||i,u=c?o:"".concat(a," ").concat(s),l=["M ".concat(n," ").concat(s),"C ".concat(o),"".concat(u),"".concat(a," ").concat(s)],d=[this.$refs.waitLinePathOne,this.$refs.waitLinePathTwo];d.forEach((function(t){e.animate?jc.p8.to(t,.7,{attr:{d:l},ease:Jc.tQ.easeOut.config(1,.3)}):t.setAttribute("d",l.join(" "))})),this.lineBounds=d[0].getBoundingClientRect()},resetLine:function(){this.bendingPath=!1,this.drawLines({animate:!0}),this.$refs.waitLineSvg.style.cursor="default"},onMouseMove:function(e){var t="undefined"!==typeof e.pageX?e.pageX:e.touches[0].pageX,n="undefined"!==typeof e.pageY?e.pageY:e.touches[0].pageY,a=5,s=t>this.lineBounds.left&&t<this.lineBounds.right,r=n>this.lineBounds.top-a&&n<this.lineBounds.top+a,i=this.$refs.waitLineSvg.getBoundingClientRect(),o=t<i.left||t>i.right,c=n<i.top||n>i.bottom,u=o||c;if(s&&r&&!this.bendingPath?(this.bendingPath=!0,this.$refs.waitLineSvg.style.cursor="grab"):u&&this.bendingPath&&this.resetLine(),this.bendingPath){var l=t-this.lineBounds.x,d=n-this.lineBounds.top;this.drawLines({xOffset:l,yOffset:d})}},registerListeners:function(){var e=this;["mousemove","touchmove"].forEach((function(t){document.addEventListener(t,e.onMouseMove,!0)})),document.addEventListener("touchend",(function(){e.bendingPath&&e.resetLine()}),!0),window.addEventListener("onresize",this.drawLines)},removeListeners:function(){document.removeEventListener("touchmove",this.onMouseMove,!0),document.removeEventListener("mousemove",this.onMouseMove,!0),window.removeEventListener("onresize",this.drawLines),document.removeEventListener("touchend",this.resetLine,!0)}}},eu=Xc,tu=(0,he.Z)(eu,Yc,Qc,!1,null,"39f00e1e",null),nu=tu.exports,au=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"phone-number-form","data-testid":"phone-number-form"}},[n("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[n("instructions",{attrs:{message:e.$t("instructionMessage")}}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-10-sm col-centered"},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"select-wrap"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedBank,expression:"selectedBank"}],ref:"bankName",staticClass:"select",attrs:{name:"bankName","data-testid":"bank-select"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedBank=t.target.multiple?n:n[0]},function(t){return e.onChange(e.selectedBank)}]}},[n("option",{attrs:{disabled:""},domProps:{value:null}},[e._v(" "+e._s(e.$t("clickHereToChoose"))+" ")]),e._l(e.banks,(function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(" "+e._s(t.name)+" ")])}))],2),n("div",{staticClass:"select-icon"})])]),n("div",{staticClass:"form-group"},[n("phone-number-input",{ref:"phoneNumber",attrs:{"country-code":e.countryCode,required:!0,placeholder:"0802 345 6789",name:"phoneNumber"},on:{input:e.onInput},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}})],1),n("payment-button",{attrs:{"data-testid":"phone-number-form-continue",disabled:!e.isValidPhoneNumber}},[e._v(" "+e._s(e.$t("continue"))+" ")])],1)])],1)])},su=[],ru={name:"PhoneNumberForm",props:{bank:Object,countryCode:{type:String,default:"NG"}},components:{Instructions:Sa,PaymentButton:qa,PhoneNumberInput:hs},data:function(){return{selectedBank:this.bank,phoneNumber:"",isValidPhoneNumber:!1}},created:function(){if(this.reusePaymentInfo&&this.paymentInstrument.bank){var e=this.paymentInstrument.bank,t=e.bank,n=e.phoneNumber;this.selectedBank=t,this.phoneNumber=n}},mounted:function(){this.$refs.phoneNumber.focus()},computed:(0,k.Z)({},(0,m.Se)(["banks","paymentInstrument","reusePaymentInfo"])),methods:{onChange:function(e){this.$emit("changeBank",e)},onSubmit:function(){var e=os.formatNumber({country:this.countryCode,phone:this.phoneNumber},"E.164");this.$emit("submit",e),this.$store.dispatch("savePaymentInstrument",{bank:{bank:this.selectedBank,phoneNumber:this.phoneNumber}})},onInput:function(e){this.isValidPhoneNumber=os.isValidNumber(e,this.countryCode)}}},iu=ru,ou=n(68786),cu=n.n(ou),uu=cu(),lu=(0,he.Z)(iu,au,su,!1,null,null,null);"function"===typeof uu&&uu(lu);var du=lu.exports,pu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pay-id",attrs:{id:"pay-id-form","data-testid":"pay-id-form"}},[n("instructions",{staticClass:"instruction",attrs:{message:e.$t("instructionMessage"),linkText:e.$t("payIdLink"),linkDataTestId:"show-pay-id-instructions"},on:{linkClick:e.showPayIdInstructions}}),n("form",{staticClass:"form",attrs:{name:"payIdForm"},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-10-sm col-centered"},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.payId,expression:"payId",modifiers:{trim:!0}}],ref:"input",staticClass:"input input--lg input--centered",class:{"input--error":e.showError},attrs:{type:"text",autocomplete:"off",name:"payId",autofocus:"true","data-testid":"pay-id-input",required:""},domProps:{value:e.payId},on:{blur:[e.onBlur,function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||(e.payId=t.target.value.trim())}}}),n("transition",{attrs:{name:"fade"}},[e.showError?n("div",{staticClass:"form-group-error",attrs:{"data-testid":"pay-id-error"}},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e()])],1),n("payment-button",{attrs:{disabled:!e.payId,loading:e.processing,"data-testid":"pay-id-form-authorize"}},[e._v(" "+e._s(e.$t("authorize"))+" ")])],1)])]),n("div",{staticClass:"pay-id__cancel"},[n("a",{attrs:{"data-testid":""},on:{click:e.cancel}},[e._v(e._s(e.$t("cancel")))])])],1)},mu=[],hu={name:"PayIdForm",components:{Instructions:Sa,PaymentButton:qa},data:function(){return{canShowError:!1,processing:!1,payId:""}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction"])),{},{isValid:function(){return 6===this.payId.length&&!Number.isNaN(Number(this.payId))},showError:function(){return!this.isValid&&this.canShowError},errorMessage:function(){return this.payId?this.$t("errorMessage.invalid"):this.$t("errorMessage.empty")}}),methods:{cancel:function(){this.$emit("cancel")},showPayIdInstructions:function(){Qt(),this.$emit("showPayIdInstructions")},onBlur:function(){var e=this;setTimeout((function(){e.canShowError=!0}),300)},onSubmit:function(){this.isValid?(this.processing=!0,this.$emit("submit",this.payId)):(bt(["pay id"]),this.transaction.logValidationErrors(["pay id"]))}}},fu=hu,vu=n(61479),gu=n.n(vu),_u=gu(),yu=(0,he.Z)(fu,pu,mu,!1,null,"bd60933a",null);"function"===typeof _u&&_u(yu);var bu=yu.exports,Cu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{"data-testid":"pay-id-instructions"}},[n("instructions",{attrs:{message:e.$t("instructionMessage")}}),n("instructions-list",{attrs:{instructions:e.instructions,"data-testid":"payid-instructions"}}),n("payment-button",{staticClass:"back-button",attrs:{variant:"light","data-testid":"back-to-payment-button"},on:{click:e.backToPayment}},[e._v(" "+e._s(e.$t("backToPayment"))+" ")])],1)},wu=[],ku=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"instructions__wrapper"},[n("ul",e._l(e.instructions,(function(t,a){return n("li",{key:a,attrs:{"data-testid":"instruction-"+a},domProps:{innerHTML:e._s(t)}})})),0)])},Eu=[],Tu={name:"InstructionsList",props:{instructions:{type:Array,required:!0}}},Su=Tu,Ru=(0,he.Z)(Su,ku,Eu,!1,null,"bdad7a76",null),Iu=Ru.exports,Au={name:"PayIdSteps",components:{PaymentButton:qa,Instructions:Sa,InstructionsList:Iu},computed:{instructions:function(){var e=this.$t("instructions.stepOne"),t=this.$t("instructions.stepTwo"),n=this.$t("instructions.stepThree"),a=this.$t("instructions.stepFour");return[e,t,n,a]}},methods:{backToPayment:function(){this.$emit("backToPayment")}}},Nu=Au,Pu=n(32473),xu=n.n(Pu),$u=xu(),Du=(0,he.Z)(Nu,Cu,wu,!1,null,"85cc0e72",null);"function"===typeof $u&&$u(Du);var Mu=Du.exports,Ou={name:"digital-bank-mandate",components:{PhoneNumberForm:du,PayIdForm:bu,PayIdInstructions:Mu,AnimatedWaitingScreen:nu,Instructions:Sa},props:{bank:Object},data:function(){var e={ENTER_PHONE_NUMBER:"enter_phone_number",ENTER_PAY_ID:"enter_pay_id",PAY_ID_INSTRUCTIONS:"pay_id_instructions",WAITING_SCREEN:"waiting_screen"};return{views:e,currentView:e.ENTER_PHONE_NUMBER,phoneNumber:"",payId:"",selectedBank:this.bank,receievedSuccessResponse:!1}},computed:(0,k.Z)({},(0,m.Se)(["transaction"])),methods:{changeBank:function(e){this.$emit("changeBank",e)},cancel:function(){this.changeView(this.views.ENTER_PHONE_NUMBER)},changeView:function(e){e===this.views.WAITING_SCREEN&&jt(),this.currentView=e},showPayIdInstructions:function(){this.changeView(this.views.PAY_ID_INSTRUCTIONS)},backToPayment:function(){this.changeView(this.views.ENTER_PAY_ID)},charge:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a,s,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("attempt","digitalbankmandate"),t.prev=1,t.next=4,e.transaction.chargeDigitalBankMandate({phoneNumber:e.phoneNumber,payId:e.payId,bankId:e.selectedBank.id});case 4:if(n=t.sent,a=n.status,s=n.message,r=n.data,"failed"!==a){t.next=11;break}return e.$emit("callback",{status:a,message:s}),t.abrupt("return");case 11:i=r.pusher_channel,e.changeView(e.views.WAITING_SCREEN),e.listenForCharge(i),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](1),e.$emit("callback",t.t0);case 19:case"end":return t.stop()}}),t,null,[[1,16]])})))()},submitPhoneForm:function(e){this.phoneNumber=e,this.changeView(this.views.ENTER_PAY_ID)},submitPayIdForm:function(e){this.payId=e,this.charge()},requery:function(){Jt(),this.$emit("requery")},listenForChargeCallback:function(e,t){var n=this;if("success"===e.status){this.receievedSuccessResponse=!0;var a=1e3;setTimeout((function(){return n.$emit("callback",e)}),a)}else this.$emit("callback",e);t()},listenForCharge:function(e){this.transaction.listenForDigitalBankMandateCharge(this.listenForChargeCallback,e)}}},Vu=Ou,Lu=n(33618),Uu=n.n(Lu),Wu=Uu(),qu=(0,he.Z)(Vu,Gc,Kc,!1,null,"ddb21154",null);"function"===typeof Wu&&Wu(qu);var Zu=qu.exports,Bu={name:"BankChannel",components:{ChooseBank:tc,Ibank:lc,Emandate:zc,DigitalBankMandate:Zu},data:function(){var e={CHOOSE_BANK:"choose_bank",EMANDATE:"emandate",IBANK:"ibank",DIGITAL_BANK_MANDATE:"digitalbankmandate"};return{views:e,currentView:e.CHOOSE_BANK,selectedBank:null}},computed:(0,k.Z)({},(0,m.Se)(["transaction","reusePaymentInfo","paymentInstrument"])),created:function(){if(this.transaction.isTest)this.changeView(this.views.EMANDATE);else if(this.reusePaymentInfo&&this.paymentInstrument.bank){var e=this.paymentInstrument.bank.bank;this.changeView(e.gateway)}},methods:{reset:function(){this.changeView(this.views.CHOOSE_BANK)},changeView:function(e){this.currentView=e||this.views.CHOOSE_BANK},setBank:function(e){this.selectedBank=e;var t=this.selectedBank&&this.selectedBank.gateway;this.changeView(t)},onAttempt:function(e){this.$emit("attempt",{paymentMethod:e})},onChargeResponse:function(e){this.$emit("callback",e)},requery:function(){this.$emit("callback",{status:"requery"})}}},Fu=Bu,Hu=(0,he.Z)(Fu,Ho,zo,!1,null,null,null),zu=Hu.exports,Gu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("transition",{attrs:{name:"fade-down",mode:"out-in"}},[e.currentView===e.views.ENTER_NUMBER?n("div",{key:"enter_number"},[n("mobile-money-form",{on:{submit:e.onPhoneNumberSubmit}})],1):e._e(),e.currentView===e.views.LISTEN_FOR_CHARGE?n("div",{key:"listen_for_charge"},[n("mobile-money-in-progress",{attrs:{displayType:e.displayType,timer:e.authorizationWaitTime,message:e.message},on:{cancel:e.onCancel,confirm:e.onConfirm}})],1):e._e(),e.currentView===e.views.VOUCHER_PAYMENT_INSTRUCTIONS?n("div",{key:"voucher_payment_instructions"},[n("voucher-payment-instructions",{on:{cancel:e.resetView,showVoucherForm:e.showVoucherForm}})],1):e._e(),e.currentView===e.views.ENTER_VOUCHER?n("div",{key:"enter_voucher"},[n("otp-form",{attrs:{message:e.message,countdownMessage:e.$t("voucherModeCountdownTimerMessage"),showCountdown:!0,timeLimit:300},on:{submit:e.authorizePayment,cancel:e.onCancel}})],1):e._e(),e.currentView===e.views.REGISTRATION_TOKEN?n("div",{key:"registration_token",attrs:{"data-testid":"registration-token-form"}},[n("otp-form",{attrs:{message:e.message},on:{submit:e.authenticatePayment,cancel:e.onCancel}})],1):e._e()])],1)},Ku=[],Yu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mobile_money__wrapper"},[a("div",{staticClass:"mobile_money__header"},[a("div",{staticClass:"mobile_money__icon"},[a("transition",{attrs:{"enter-active-class":"animated tada",appear:""}},[a("img",{attrs:{src:n(57117),alt:e.$t("mobileMoneyIcon")}})])],1),a("p",{staticClass:"mobile_money__description"},[e.transaction.isTest?a("instructions",{attrs:{message:e.$t("instructionMessage.test")}}):a("instructions",{attrs:{message:e.$t("instructionMessage.live")}})],1)]),a("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-10-sm col-centered"},[a("div",{staticClass:"form-group"},[a("phone-number-input",{ref:"phoneNumber",attrs:{"country-code":"GH",required:!0,placeholder:"050 000 0000",name:"phoneNumber"},on:{input:e.onInput},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}})],1),a("div",{staticClass:"form-group"},[a("div",{staticClass:"select-wrap"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedProvider,expression:"selectedProvider"}],staticClass:"select",attrs:{name:"provider","data-testid":"mobile-money-provider"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedProvider=t.target.multiple?n:n[0]}}},[a("option",{attrs:{value:"",disabled:""}},[e._v(e._s(e.$t("chooseProvider")))]),e._l(e.providers,(function(t){return a("option",{key:t.name,attrs:{"data-testid":"mobile-money-providers"},domProps:{value:t.name}},[e._v(" "+e._s(t.value)+" ")])}))],2),a("div",{staticClass:"select-icon"})])]),a("payment-button",{attrs:{"data-testid":"mobileMoneyConfirmButton",disabled:!e.isValidPhoneNumber,loading:e.processing}},[e._v(" "+e._s(e.$t("confirm"))+" ")])],1)])])])},Qu=[],ju=n(54621),Ju=(n(70189),n(78783),n(33948),{name:"MobileMoneyForm",components:{PhoneNumberInput:hs,Instructions:Sa,PaymentButton:qa},mounted:function(){this.$refs.phoneNumber.focus()},data:function(){return{phoneNumber:"",processing:!1,selectedProvider:"",isValidPhoneNumber:!1}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction","reusePaymentInfo","paymentInstrument"])),{},{providers:function(){var e=this.transaction.custom_filters,t=e&&e.supported_mobile_money_providers,n=ss.filter((function(e){return"DEFAULT"!==e.name}));if(t&&t.length>0){var a=t.reduce((function(e,t){var a=n.find((function(e){var n=e.name;return n===t}));return a?(0,xi.Z)(new Set([a].concat((0,xi.Z)(e)))):e}),[]);return a.length>0?a:n}return n}}),created:function(){if(this.providers&&1===this.providers.length){var e=(0,ju.Z)(this.providers,1),t=e[0];this.preselectProvider(t)}if(this.transaction.isTest)this.prefillTestDetails();else if(this.reusePaymentInfo&&"success"===this.transaction.mobileMoney.status&&this.paymentInstrument.mobileMoney){var n=this.paymentInstrument.mobileMoney,a=n.phoneNumber,s=n.provider;this.phoneNumber=a,this.selectedProvider=s}},methods:{prefillTestDetails:function(){this.phoneNumber="0551234987"},preselectProvider:function(e){this.selectedProvider=e&&e.name||""},onSubmit:function(){this.processing=!0,this.$store.dispatch("savePaymentInstrument",{mobileMoney:{phoneNumber:this.phoneNumber,provider:this.selectedProvider}}),this.$emit("submit",{phoneNumber:this.formattedPhoneNumber,networkProvider:this.selectedProvider})},onInput:function(e){if(os.isValidNumber(e,"GH")){this.isValidPhoneNumber=!0;var t=os.parseNumber(e,"GH");this.formattedPhoneNumber=os.formatNumber({country:"GH",phone:null===t||void 0===t?void 0:t.phone},"E.164"),this.selectedProvider=os.getNetworkProvider(this.formattedPhoneNumber)}else this.selectedProvider="",this.isValidPhoneNumber=!1}}}),Xu=Ju,el=n(72259),tl=n.n(el),nl=tl(),al=(0,he.Z)(Xu,Yu,Qu,!1,null,"2ee50a36",null);"function"===typeof nl&&nl(al);var sl=al.exports,rl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mobile_money__wrapper"},[n("loader"),"pop"===e.displayType?n("div",{staticClass:"mobile_money__countdown"},[e._v(" "+e._s(e.countdown)+" ")]):e._e(),n("div",{staticClass:"mobile_money__description"},[e.transaction.isTest?n("instructions",{attrs:{message:e.$t("instructionMessage.test")}}):n("instructions",{attrs:{message:e.message}})],1),n("cancel-link",{on:{click:e.cancel}})],1)},il=[],ol={name:"MobileMoneyInProgress",components:{Loader:qs,CancelLink:Ma,Instructions:Sa},props:{message:{type:String,required:!0},displayType:{type:String,required:!0},timer:{type:Number,required:!0}},data:function(){return{countdown:null,loop:null}},computed:(0,k.Z)({},(0,m.Se)(["transaction"])),beforeDestroy:function(){window.clearInterval(this.loop)},created:function(){var e=this;"pop"===this.displayType&&(this.loop=window.setInterval((function(){var t=5;e.countdown||(e.countdown=e.transaction.isTest?t:e.timer),e.countdown=e.countdown-1,0===e.countdown&&(window.clearInterval(e.loop),e.$emit("confirm"))}),1e3))},methods:{cancel:function(){this.$emit("cancel")}}},cl=ol,ul=n(72659),ll=n.n(ul),dl=ll(),pl=(0,he.Z)(cl,rl,il,!1,null,"570a87aa",null);"function"===typeof dl&&dl(pl);var ml=pl.exports,hl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{"data-testid":"voucher-payment-instructions"}},[n("instructions",{attrs:{message:e.$t("titleText")}}),n("instructions-list",{attrs:{instructions:e.steps,"data-testid":"voucher-payment-instructions"}}),n("payment-button",{staticClass:"confirm-button",attrs:{variant:"light","data-testid":"proceed-to-voucher-form-button"},on:{click:e.proceedToVoucherForm}},[e._v(" "+e._s(e.$t("paymentButtonText"))+" ")]),n("cancel-link",{on:{click:function(t){return e.cancel()}}})],1)},fl=[],vl={name:"VoucherPaymentInstructions",components:{Instructions:Sa,PaymentButton:qa,CancelLink:Ma,InstructionsList:Iu},data:function(){return{view:"enter_number"}},computed:{steps:function(){var e=this.$t("instructions.stepOne"),t=this.$t("instructions.stepTwo"),n=this.$t("instructions.stepThree"),a=this.$t("instructions.stepFour");return[e,t,n,a]}},methods:{cancel:function(){this.$emit("cancel")},proceedToVoucherForm:function(){this.$emit("showVoucherForm")}}},gl=vl,_l=n(59255),yl=n.n(_l),bl=yl(),Cl=(0,he.Z)(gl,hl,fl,!1,null,"ca269a1a",null);"function"===typeof bl&&bl(Cl);var wl=Cl.exports,kl={name:"MobileMoneyChannel",components:{OtpForm:es,MobileMoneyForm:sl,MobileMoneyInProgress:ml,VoucherPaymentInstructions:wl},mixins:[ar],computed:(0,k.Z)({},(0,m.Se)(["transaction","activeChannel"])),data:function(){var e={ENTER_NUMBER:"enter_number",LISTEN_FOR_CHARGE:"listen_for_charge",REGISTRATION_TOKEN:"registration_token",ENTER_VOUCHER:"enter_voucher",VOUCHER_PAYMENT_INSTRUCTIONS:"voucher_payment_instructions"};return{views:e,currentView:e.ENTER_NUMBER,message:"",authorizationWaitTime:0,phoneNumber:"",networkProvider:"",displayType:""}},methods:{onCancel:function(){this.$emit("callback",{status:"requery"})},onPhoneNumberSubmit:function(e){var t=e.networkProvider,n=e.phoneNumber;this.phoneNumber=n,this.networkProvider=t,this.chargePhoneNumber({phoneNumber:this.phoneNumber,networkProvider:this.networkProvider})},chargePhoneNumber:function(e){var t=this;return(0,K.Z)(regeneratorRuntime.mark((function n(){var a,s,r,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.phoneNumber,s=e.voucher,r=e.networkProvider,n.prev=1,t.$store.dispatch("setChargingState",!0),t.$emit("attempt"),i=(0,k.Z)((0,k.Z)((0,k.Z)({},a&&{phoneNumber:a}),s&&{voucher:s}),r&&{provider:r}),n.next=7,t.transaction.chargeMobileMoney(i);case 7:o=n.sent,t.$store.dispatch("setChargingState",!1),t.handleChargeResponse(o),n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](1),t.emitPaymentChannelError(t,n.t0);case 15:case"end":return n.stop()}}),n,null,[[1,12]])})))()},listenForChargeCallback:function(e,t){"error"!==e.status&&(this.$emit("callback",e),t())},listenForCharge:function(){this.transaction.listenForMobileMoneyCharge(this.listenForChargeCallback)},authorizePayment:function(e){this.chargePhoneNumber({voucher:e,phoneNumber:this.phoneNumber,networkProvider:this.networkProvider})},authenticatePayment:function(e){var t=this;return(0,K.Z)(regeneratorRuntime.mark((function n(){var a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,a={registrationToken:e,phoneNumber:t.phoneNumber,provider:t.networkProvider},t.$store.dispatch("setChargingState",!0),n.next=5,t.transaction.chargeMobileMoney(a);case 5:s=n.sent,t.$store.dispatch("setChargingState",!1),t.handleChargeResponse(s),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),t.emitPaymentChannelError(t,n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},handleChargeResponse:function(e){var t=e.status,n=e.data;if("success"===t){this.message=n&&n.display&&n.display.message,this.displayType=n&&n.display&&n.display.type,this.authorizationWaitTime=n&&n.display&&n.display.timer||0;var a=(0,k.Z)((0,k.Z)({},this.views),{},{VOUCHER:"voucher_payment_instructions"}),s=this.displayType&&this.displayType.toUpperCase(),r=a[s]||a.LISTEN_FOR_CHARGE;this.setView(r),r===a.LISTEN_FOR_CHARGE&&this.listenForCharge()}else this.$emit("callback",e)},onConfirm:function(){this.$emit("callback",{status:"requery"})},setView:function(e){this.currentView=e},resetView:function(){this.setView(this.views.ENTER_NUMBER)},showVoucherForm:function(){this.setView(this.views.ENTER_VOUCHER)}}},El=kl,Tl=n(84754),Sl=n.n(Tl),Rl=Sl(),Il=(0,he.Z)(El,Gu,Ku,!1,null,"25367d49",null);"function"===typeof Rl&&Rl(Il);var Al=Il.exports,Nl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("transition",{attrs:{name:"fade-down",mode:"out-in"}},[e.currentView===e.views.ENTER_NUMBER?n("div",{key:"enter_number"},[n("mpesa-form",{on:{submit:e.onPhoneNumberSubmit}})],1):e._e(),e.currentView===e.views.LISTEN_FOR_CHARGE?n("div",{key:"listen_for_charge"},[n("mpesa-in-progress",{attrs:{phoneNumber:e.phoneNumber,displayType:e.displayType,timer:e.authorizationWaitTime,message:e.message},on:{cancel:e.requery,confirm:e.requery}})],1):e._e()])],1)},Pl=[],xl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mpesa__wrapper"},[a("div",{staticClass:"mpesa__header"},[a("div",{staticClass:"mpesa__icon"},[a("transition",{attrs:{"enter-active-class":"animated tada",appear:""}},[a("img",{attrs:{src:n(68e3),alt:e.$t("mobileMoneyIcon")}})])],1),a("p",{staticClass:"mpesa__description"},[a("instructions",{attrs:{"data-testid":"instruction",message:e.transaction.isTest?e.$t("instructionMessage.test"):e.$t("instructionMessage.live")}})],1)]),a("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-10-sm col-centered"},[a("div",{staticClass:"mpesa__input form-group"},[a("phone-number-input",{ref:"phoneNumber",attrs:{"country-code":"KE",required:!0,placeholder:"070 000 0000",name:"phoneNumber"},on:{input:e.onInput},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}})],1),a("payment-button",{staticClass:"mpesa__button",attrs:{"data-testid":"mpesa-confirm-button",disabled:!e.isValidPhoneNumber,loading:e.processing}},[e._v(" "+e._s(e.$t("pay",{amount:e.transaction.amount,formatParams:e.amountFormatParams}))+" ")])],1)])])])},$l=[],Dl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e/100},Ml=Dl,Ol={name:"MpesaForm",components:{PhoneNumberInput:hs,Instructions:Sa,PaymentButton:qa},mounted:function(){this.$refs.phoneNumber.focus()},data:function(){return{phoneNumber:"",processing:!1,selectedProvider:"",isValidPhoneNumber:!1}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction","reusePaymentInfo","paymentInstrument"])),{},{amountFormatParams:function(){return $("KES")}}),created:function(){if(this.selectedProvider=rs.name,this.amount=Ml(this.transaction.amount),this.transaction.isTest)this.prefillTestDetails();else if(this.reusePaymentInfo&&this.paymentInstrument.mobileMoney){var e=this.paymentInstrument.mobileMoney,t=e.phoneNumber,n=e.provider;this.phoneNumber=t,this.selectedProvider=n}},methods:{prefillTestDetails:function(){this.phoneNumber="0710000000"},onSubmit:function(){this.processing=!0,this.$store.dispatch("savePaymentInstrument",{mobileMoney:{phoneNumber:this.phoneNumber,provider:this.selectedProvider}}),this.$emit("submit",{phoneNumber:this.phoneNumber,networkProvider:this.selectedProvider})},onInput:function(e){this.isValidPhoneNumber=os.isValidNumber(e,"KE")}}},Vl=Ol,Ll=n(89379),Ul=n.n(Ll),Wl=Ul(),ql=(0,he.Z)(Vl,xl,$l,!1,null,"d9a54d88",null);"function"===typeof Wl&&Wl(ql);var Zl=ql.exports,Bl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mpesa__wrapper"},[a("div",{staticClass:"mpesa__icon"},[a("transition",{attrs:{"enter-active-class":"animated tada",appear:""}},[a("img",{attrs:{src:n(87849),alt:e.$t("phoneIcon")}})])],1),a("div",{staticClass:"mpesa__description"},[a("div",{staticClass:"mpesa__phone"},[e._v(e._s(e.phoneNumber))]),a("instructions",{attrs:{message:e.transaction.isTest?e.$t("instructionMessage.test"):e.$t("instructionMessage.live")}})],1),"pop"===e.displayType&&e.countdown?a("div",{staticClass:"mpesa__countdown",class:{"mpesa__countdown--red":e.countdown<e.timerThresholdInSeconds},attrs:{"data-testid":"mpesa-counter"}},[a("img",{staticClass:"mpesa__clock",attrs:{src:e.clockIconPath,alt:e.$t("clockIcon")}}),e._v(" "+e._s(e.formattedCountdown)+" ")]):e._e(),e.isMobile?e._e():a("button",{attrs:{"data-testid":"cancel-payment-button"},on:{click:e.cancel}},[e._v(" "+e._s(e.$t("cancel"))+" ")])])},Fl=[];n(83112);var Hl=function(e){var t=60,n=Math.floor(e/t),a=e%t,s=1===a.toString().length?"0".concat(a):a;return"".concat(n,":").concat(s)},zl=n.p+"img/clock.ba452436.svg",Gl=n.p+"img/clock-red.44239d36.svg",Kl=11,Yl={name:"MpesaInProgress",components:{Instructions:Sa},props:{message:{type:String,required:!0},displayType:{type:String,required:!0},timer:{type:Number,required:!0},phoneNumber:{type:String,required:!0}},data:function(){return{countdown:60,interval:null,formattedCountdown:"00:60",timerThresholdInSeconds:Kl,isMobile:oe()()}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction"])),{},{clockIconPath:function(){return this.countdown<this.timerThresholdInSeconds?Gl:zl}}),beforeDestroy:function(){window.clearInterval(this.interval)},created:function(){var e=this;if("pop"===this.displayType){var t=5;this.countdown=this.transaction.isTest?t:this.timer,this.interval=window.setInterval((function(){var t;e.countdown=e.countdown-1,e.formattedCountdown=null===(t=Hl(e.countdown))||void 0===t?void 0:t.padStart(5,"0"),0===e.countdown&&(window.clearInterval(e.interval),e.$emit("confirm"))}),1e3)}},methods:{cancel:function(){this.$emit("cancel")}}},Ql=Yl,jl=n(68322),Jl=n.n(jl),Xl=Jl(),ed=(0,he.Z)(Ql,Bl,Fl,!1,null,"40f12777",null);"function"===typeof Xl&&Xl(ed);var td=ed.exports,nd={name:"MpesaChannel",components:{MpesaForm:Zl,MpesaInProgress:td},mixins:[ar],computed:(0,k.Z)({},(0,m.Se)(["transaction"])),data:function(){var e={ENTER_NUMBER:"enter_number",LISTEN_FOR_CHARGE:"listen_for_charge"};return{views:e,currentView:e.ENTER_NUMBER,message:"",authorizationWaitTime:0,phoneNumber:"",networkProvider:"",displayType:""}},methods:{requery:function(){this.$emit("callback",{status:"requery"})},onPhoneNumberSubmit:function(e){var t=e.networkProvider,n=e.phoneNumber;this.networkProvider=t,this.phoneNumber=n;var a=os.formatNumber({country:"KE",phone:n},"E.164");this.chargePhoneNumber({phoneNumber:a,networkProvider:this.networkProvider})},chargePhoneNumber:function(e){var t=this;return(0,K.Z)(regeneratorRuntime.mark((function n(){var a,s,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.phoneNumber,s=e.networkProvider,n.prev=1,t.$store.dispatch("setChargingState",!0),t.$emit("attempt"),r=(0,k.Z)((0,k.Z)({},a&&{phoneNumber:a}),s&&{provider:s}),n.next=7,t.transaction.chargeMobileMoney(r);case 7:i=n.sent,t.$store.dispatch("setChargingState",!1),t.handleChargeResponse(i),n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](1),t.emitPaymentChannelError(t,n.t0);case 15:case"end":return n.stop()}}),n,null,[[1,12]])})))()},listenForChargeCallback:function(e,t){"error"!==e.status&&(this.$emit("callback",e),t())},listenForCharge:function(){this.transaction.listenForMobileMoneyCharge(this.listenForChargeCallback)},handleChargeResponse:function(e){var t=e.status,n=e.data;if("success"===t){var a,s,r,i;this.message=null===n||void 0===n||null===(a=n.display)||void 0===a?void 0:a.message,this.displayType=null===n||void 0===n||null===(s=n.display)||void 0===s?void 0:s.type,this.authorizationWaitTime=(null===n||void 0===n||null===(r=n.display)||void 0===r?void 0:r.timer)||0;var o=null===(i=this.displayType)||void 0===i?void 0:i.toUpperCase(),c=this.views[o]||this.views.LISTEN_FOR_CHARGE;this.setView(c),c===this.views.LISTEN_FOR_CHARGE&&this.listenForCharge()}else this.$emit("callback",e)},setView:function(e){this.currentView=e}}},ad=nd,sd=n(5020),rd=n.n(sd),id=rd(),od=(0,he.Z)(ad,Nl,Pl,!1,null,"d4f52ee6",null);"function"===typeof id&&id(od);var cd=od.exports,ud=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("transition",{attrs:{name:"fade-down",mode:"out-in"}},["login"===e.state?n("login-form",{on:{submit:e.loginToDirectDebit}}):e._e(),"accounts"===e.state?n("accounts-form",{on:{submit:e.chargeDirectDebit}}):e._e(),"otp"===e.state?n("otp-form",{attrs:{message:e.otpMessage,resendCountDown:1800},on:{submit:e.authenticateAccount,cancel:e.onCancel}}):e._e()],1)],1)},ld=[],dd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[n("instructions",{attrs:{message:e.$t("instructionMessage")}}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12-sm"},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"input-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],ref:"input",staticClass:"input input--card",class:{"input--error":e.error},attrs:{type:"email",placeholder:"hello@paystack.com",required:"",autofocus:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),n("label",{staticClass:"label label--floating",attrs:{for:"email"}},[e._v(e._s(e.$t("email")))])])])])]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12-sm"},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"input-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],ref:"input",staticClass:"input input--card",class:{"input--error":e.error},attrs:{type:"password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("label",{staticClass:"label label--floating",attrs:{for:"password"}},[e._v(e._s(e.$t("password")))])])])])]),n("div",{staticClass:"pay-section"},[n("payment-button",{attrs:{loading:e.processing,disabled:e.isIncomplete}},[e._v(" "+e._s(e.$t("signIn"))+" ")])],1)],1)])},pd=[],md={name:"LoginForm",components:{Instructions:Sa,PaymentButton:qa},data:function(){return{email:"",password:"",error:!1,processing:!1}},computed:{isIncomplete:function(){return!this.email||!this.password}},methods:{onSubmit:function(){var e={email:this.email,password:this.password};this.processing=!0,this.$emit("submit",e)}}},hd=md,fd=n(22643),vd=n.n(fd),gd=vd(),_d=(0,he.Z)(hd,dd,pd,!1,null,null,null);"function"===typeof gd&&gd(_d);var yd=_d.exports,bd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.accounts.length?n("transition",{attrs:{name:"fade"}},[n("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[n("instructions",{attrs:{message:e.$t("instructionMessage")}}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-10-sm col-centered"},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"select-wrap"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedAccount,expression:"selectedAccount"}],ref:"acccount",staticClass:"select",attrs:{name:"account"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedAccount=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"",disabled:""}},[e._v(" "+e._s(e.$t("clickHereToChoose"))+" ")]),e._l(e.accounts,(function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(" "+e._s(e._f("formatAccountDetails")(t))+" ")])}))],2),n("div",{staticClass:"select-icon"})])]),n("div",{staticClass:"pay-section"},[n("payment-button",{attrs:{loading:e.processing,disabled:e.isIncomplete}},[e._v(" "+e._s(e.$t("verifyAccount"))+" ")])],1)])])],1)]):n("div",{staticClass:"loading"},[n("loader")],1)],1)},Cd=[],wd={name:"LoginForm",components:{Loader:qs,Instructions:Sa,PaymentButton:qa},data:function(){return{processing:!1,selectedAccount:""}},methods:{onSubmit:function(){this.processing=!0;var e=this.selectedAccount.account_code;this.$emit("submit",e)}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction"])),{},{accounts:function(){return this.transaction.directDebit.accounts.filter((function(e){return null!==e.account_name}))},isIncomplete:function(){return!this.selectedAccount}}),filters:{formatAccountDetails:function(e){var t={"First City Monument Bank":"FCMB","Guaranty Trust Bank":"GTB","First Bank of Nigeria":"First Bank","United Bank For Africa":"UBA"},n=e.account_number,a=e.bank.name;return"".concat(t[a]||a," - ******").concat(n.substr(6))}}},kd=wd,Ed=n(59839),Td=n.n(Ed),Sd=Td(),Rd=(0,he.Z)(kd,bd,Cd,!1,null,null,null);"function"===typeof Sd&&Sd(Rd);var Id=Rd.exports,Ad={name:"BankChannel",components:{LoginForm:yd,AccountsForm:Id,OtpForm:es},mixins:[ar],data:function(){return{state:"login",otpMessage:"Please enter your 6-digit OTP to authorize this payment"}},computed:(0,k.Z)({},(0,m.Se)(["transaction"])),methods:{loginToDirectDebit:function(e){var t=this;return(0,K.Z)(regeneratorRuntime.mark((function n(){var a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.email,s=e.password,n.prev=1,n.next=4,t.transaction.loginToDirectDebitAccount({email:a,password:s});case 4:return n.next=6,t.transaction.getProvisionedAccounts();case 6:t.state="accounts",n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](1),t.emitPaymentChannelError(t,n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})))()},chargeDirectDebit:function(e){var t=this;return(0,K.Z)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,t.$store.dispatch("setChargingState",!0),n.next=4,t.transaction.chargeDirectDebit(e);case 4:a=n.sent,t.onChargeResponse(a),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),t.emitPaymentChannelError(t,n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},authenticateAccount:function(e){var t=this;return(0,K.Z)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,t.$store.dispatch("setChargingState",!0),n.next=4,t.transaction.authenticateAccount(e);case 4:a=n.sent,t.onChargeResponse(a),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),t.emitPaymentChannelError(t,n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},onChargeResponse:function(e){this.$store.dispatch("setChargingState",!1),"auth"===e.status?this.state=e.data.auth:this.$emit("callback",e)},onCancel:function(){this.$emit("callback",{status:"requery"})}}},Nd=Ad,Pd=(0,he.Z)(Nd,ud,ld,!1,null,null,null),xd=Pd.exports,$d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("transition",{attrs:{name:"fade-down",mode:"out-in"}},[e.canFulfilLateNotification?n("process-late-notification",{on:{callback:e.callback}}):n("refund-late-notification",{on:{callback:e.callback}})],1)],1)},Dd=[],Md=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.currentView===e.views.LOADING?n("loader"):e._e(),e.currentView===e.views.MANAGED_ACCOUNT_VIEW?n("div",[n("managed-account",{attrs:{managedAccount:e.managedAccount,timeLimit:e.timeLimit}}),n("button",{staticClass:"confirm-payment",attrs:{"data-testid":"confirmPayment"},on:{click:e.requery}},[e._v(" "+e._s(e.$t("confirmPayment"))+" ")])],1):e._e(),e.currentView===e.views.CREDIT_REQUEST_VIEW?n("credit-request",{attrs:{requeryCount:e.requeryCount,creditRequestStatus:e.creditRequestStatus},on:{startRequery:e.performInChannelRequery,backToAccount:function(t){return e.changeView(e.views.MANAGED_ACCOUNT_VIEW)},showHelp:function(t){return e.changeView(e.views.HELP_SCREEN)}}}):e._e(),e.currentView===e.views.HELP_SCREEN?n("help",{on:{continueWaiting:function(t){return e.changeView(e.views.CREDIT_REQUEST_VIEW)}}}):e._e()],1)},Od=[],Vd={statuses:{CREDIT_REQUEST_RECEIVED:"transfer-credit-request-received",CREDIT_REQUEST_PENDING:"transfer-credit-request-pending",CREDIT_REQUEST_REJECTED:"transfer-credit-request-rejected",INCORRECT_AMOUNT_SENT:"incorrect-amount-sent",SUCCESS:"success"},types:{INCORRECT_AMOUNT:"INCORRECT_AMOUNT"}},Ld=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"managedaccount"},[n("div",{staticClass:"managedaccount__message"},[n("span",{staticClass:"display__inline-block",domProps:{innerHTML:e._s(e.paymentSummary)}}),n("span",{staticClass:"display__inline-block account-name",attrs:{"data-testid":"managed-account-name"}},[e._v(e._s(e.accountName))])]),n("div",{staticClass:"managedaccount__details"},[n("transition",{attrs:{name:"fade-down",mode:"out-in"}},[n("div",{key:"managed_account_active"},[n("p",{staticClass:"bank",attrs:{"data-testid":"managed-account-bank"}},[e._v(" "+e._s(e.managedAccount.bank.name)+" ")]),n("p",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.managedAccount.account_number,expression:"managedAccount.account_number",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],staticClass:"account-number",attrs:{"data-testid":"managed-account-number"}},[e._v(" "+e._s(e.managedAccount.account_number)+" "),n("span",[n("svg",{staticClass:"icon",attrs:{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M2.5 7.5H2C1.73478 7.5 1.48043 7.39464 1.29289 7.20711C1.10536\n                7.01957 1 6.76522 1 6.5V2C1 1.73478 1.10536 1.48043 1.29289 1.29289C1.48043\n                1.10536 1.73478 1 2 1H6.5C6.76522 1 7.01957 1.10536 7.20711 1.29289C7.39464\n                1.48043 7.5 1.73478 7.5 2V2.5M5.5 4.5H10C10.5523 4.5 11 4.94772 11 5.5V10C11\n                10.5523 10.5523 11 10 11H5.5C4.94772 11 4.5 10.5523 4.5 10V5.5C4.5 4.94772 4.94772 4.5 5.5 4.5Z",stroke:"#9C9C9C","stroke-linecap":"round","stroke-linejoin":"round"}})])])]),n("div",{staticClass:"expiry-information"},[e.instruction?n("span",[e._v(e._s(e.instruction))]):n("div",[n("span",{staticClass:"display__inline-block"},[e._v(e._s(e.$t("singleUseInstruction")))]),n("span",{staticClass:"display__inline-block expiry-information__countdown",attrs:{"data-testid":"managed-account-expiry-information"},domProps:{innerHTML:e._s(e.expiryInfo)}})])])])])],1)])},Ud=[];function Wd(e){var t=e.toLowerCase();return"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1))}function qd(e){var t=e.split(" ");return t.map(Wd).join(" ")}var Zd={name:"ManagedAccount",props:{managedAccount:{type:Object,required:!0},timeLimit:Number},data:function(){return{warningTimeLimitInSeconds:60,instruction:null}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction"])),{},{paymentSummary:function(){var e=this.transaction,t=e.amount,n=e.currency;return this.$t("paymentSummary",{amount:t,formatParams:$(n)})},accountName:function(){return qd(this.managedAccount.account_name)},timeLeft:function(){var e=Hl(this.timeLimit).split(":"),t=(0,ju.Z)(e,2),n=t[0],a=t[1],s=Math.ceil(Number("".concat(n,".").concat(a)));return this.timeLimit>this.warningTimeLimitInSeconds?"".concat(s," minutes"):"".concat(n,":").concat(a)},expiryInfo:function(){var e=this.timeLimit>this.warningTimeLimitInSeconds?"normal":"warning";return this.$t("expiresIn",{timeLeft:this.timeLeft,context:e})}}),methods:{generateNewAccount:function(){Zt(),this.$emit("generateNewAccount")},onCopy:function(){var e=this;this.instruction="Copied!",setTimeout((function(){e.instruction=null}),1e3)}}},Bd=Zd,Fd=n(93124),Hd=n.n(Fd),zd=Hd(),Gd=(0,he.Z)(Bd,Ld,Ud,!1,null,null,null);"function"===typeof zd&&zd(Gd);var Kd=Gd.exports,Yd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("instructions",{attrs:{message:e.message}}),n("animated-waiting-screen",{attrs:{"data-testid":"transfer-credit-request-screen",sentText:e.$t("sent"),receivedText:e.$t("received"),checkSentBox:e.checkAnimationSentBox,checkReceivedBox:"success"===e.creditRequestStatus}}),n("div",{staticClass:"controls"},[n("div",{staticClass:"controls__need-help"},[n("payment-button",{staticClass:"button--light",attrs:{"data-testid":"need-help-button"},on:{click:e.showHelp}},[e._v(" "+e._s(e.$t("needHelp"))+" ")])],1),n("a",{staticClass:"controls__show-account",attrs:{"data-testid":"back-to-account"},on:{click:e.backToAccount}},[e._v(e._s(e.$t("showBankAccount")))])])],1)},Qd=[],jd={name:"CreditRequest",props:{requeryCount:Number,creditRequestStatus:String},components:{PaymentButton:qa,AnimatedWaitingScreen:nu,Instructions:Sa},data:function(){return{lineBounds:null,bendingPath:!1}},created:function(){this.$emit("startRequery")},mounted:function(){Ut(),this.creditRequestStatus===Vd.statuses.CREDIT_REQUEST_RECEIVED&&Wt()},computed:{message:function(){return this.requeryCount>0?this.$t("messageAfterRequery"):[Vd.statuses.CREDIT_REQUEST_RECEIVED,Vd.statuses.SUCCESS].includes(this.creditRequestStatus)?this.$t("messageOnCreditRequestReceived"):this.$t("defaultMessage")},checkAnimationSentBox:function(){return[Vd.statuses.CREDIT_REQUEST_RECEIVED,Vd.statuses.CREDIT_REQUEST_PENDING,Vd.statuses.SUCCESS].includes(this.creditRequestStatus)}},watch:{creditRequestStatus:function(e){e===Vd.statuses.CREDIT_REQUEST_RECEIVED&&Wt()}},methods:{backToAccount:function(){Ft(),this.$emit("backToAccount")},showHelp:function(){Ht(),this.$emit("showHelp")}}},Jd=jd,Xd=n(1915),ep=n.n(Xd),tp=ep(),np=(0,he.Z)(Jd,Yd,Qd,!1,null,null,null);"function"===typeof tp&&tp(np);var ap=np.exports,sp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"slideshow",attrs:{"data-testid":"pwt-help-screen"}},[n("div",{staticClass:"slideshow__container"},e._l(e.slides,(function(t,a){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.slideIndex===a,expression:"slideIndex === index"}],key:a,staticClass:"message"},[e._v(" "+e._s(t)+" ")])})),0),n("div",{staticStyle:{"text-align":"center"}},e._l(e.slides,(function(t,a){return n("span",{key:a,staticClass:"slideshow__dot",class:{active:e.slideIndex===a}})})),0),n("div",{staticClass:"slideshow__control"},[this.slideIndex<this.slides.length-1?n("button",{staticClass:"next-button",attrs:{"data-testid":"slideshow-next-button"},on:{click:e.nextSlide}},[e._v(" "+e._s(this.$t("next"))+" ")]):n("button",{staticClass:"continue-waiting-button",attrs:{"data-testid":"continue-waiting-button"},on:{click:e.continueWaiting}},[e._v(" "+e._s(this.$t("continueWaiting"))+" ")])])])},rp=[],ip={name:"Help",data:function(){return{slideIndex:0}},computed:{slides:function(){var e=this.$t("slides.refundLateNotification.slideOne"),t=this.$t("slides.refundLateNotification.slideTwo"),n=this.$t("slides.refundLateNotification.slideThree");return[e,t,n]},buttonText:function(){return this.slideIndex<this.slides.length-1?this.$t("next"):this.$t("continueWaiting")}},methods:{continueWaiting:function(){Kt(),this.$emit("continueWaiting")},nextSlide:function(){this.slideIndex+=1}}},op=ip,cp=n(49697),up=n.n(cp),lp=up(),dp=(0,he.Z)(op,sp,rp,!1,null,"e77a7e2e",null);"function"===typeof lp&&lp(dp);var pp=dp.exports,mp={name:"PayWithTransferChannel",components:{ManagedAccount:Kd,Loader:qs,CreditRequest:ap,Help:pp},mixins:[ar],data:function(){var e={LOADING:"loading",MANAGED_ACCOUNT_VIEW:"managed-account-view",CREDIT_REQUEST_VIEW:"credit-request-view",HELP_SCREEN:"help-screen"};return{views:e,managedAccount:null,currentView:e.LOADING,timeLimit:null,interval:null,requeryCount:0,creditRequestStatus:""}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction","status","bankTransferChannelState","lastResponse"])),{},{isInCreditRequestView:function(){return this.currentView===this.views.CREDIT_REQUEST_VIEW}}),created:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.managedAccount=e.bankTransferChannelState.savedManagedAccount,a=e.bankTransferChannelState.lastPusherResponse,s=e.isAcceptableCreditRequestState(e.status)&&!e.managedAccount,!s){t.next=7;break}e.setUpManagedAccountViewAfterError(),t.next=19;break;case 7:if((null===a||void 0===a?void 0:a.status)!==Vd.statuses.CREDIT_REQUEST_REJECTED||(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message_type)!==Vd.types.INCORRECT_AMOUNT){t.next=12;break}e.$emit("callback",{status:"failed",message:"incorrect amount sent"}),e.$store.dispatch("setBankTransferChannelState",{lastPusherResponse:null}),t.next=19;break;case 12:if(!e.isAcceptableCreditRequestState(e.status)){t.next=17;break}e.setCreditRequestStatus(e.status),e.setUpView(e.views.CREDIT_REQUEST_VIEW),t.next=19;break;case 17:return t.next=19,e.getManagedAccount();case 19:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){window.clearInterval(this.interval)},methods:{getManagedAccount:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a,s,r,i,o,c,u,l,d,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,s=e.transaction.merchant.channelSettings,t.next=4,e.transaction.getManagedAccount({fulfilLateNotification:(null===s||void 0===s||null===(n=s.bank_transfer)||void 0===n?void 0:n.fulfil_late_notification)||!1});case 4:r=t.sent,i=r.data,o=Math.round(e.getAccountActiveWindow(i.account_expires_at)/60),c=null===i||void 0===i?void 0:i.account_number,u=null===i||void 0===i||null===(a=i.bank)||void 0===a?void 0:a.name,Ot({accountNumber:c,bank:u}),e.saveManagedAccount((0,k.Z)((0,k.Z)({},i),{},{activeWindow:o})),e.managedAccount=i,e.setUpView(e.views.MANAGED_ACCOUNT_VIEW),t.next=21;break;case 15:t.prev=15,t.t0=t["catch"](0),d=(null===t.t0||void 0===t.t0||null===(l=t.t0.response)||void 0===l?void 0:l.data)||t.t0,p=d.message,Vt({message:p}),e.emitPaymentChannelError(e,t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,15]])})))()},requery:function(){Lt(),this.$emit("callback",{status:"requery"})},changeView:function(e){this.currentView=e},listenForChargeCallback:function(e){var t=this;if("error"!==e.status){var n=e.status,a=e.data;a=void 0===a?{}:a;var s=a.message_type;if(this.setCreditRequestStatus(n),this.$store.dispatch("setBankTransferChannelState",{lastPusherResponse:e}),this.isAcceptableCreditRequestState(n))this.changeView(this.views.CREDIT_REQUEST_VIEW);else if(n===Vd.statuses.CREDIT_REQUEST_REJECTED&&s===Vd.types.INCORRECT_AMOUNT){if(this.currentView===this.views.MANAGED_ACCOUNT_VIEW)return;this.$emit("callback",{status:"failed",message:"incorrect amount sent"})}else if(this.isInCreditRequestView&&n===Vd.statuses.SUCCESS){var r=1e3;setTimeout((function(){return t.$emit("callback",e)}),r)}else this.$emit("callback",e)}},listenForCharge:function(e){this.transaction.listenForPayWithTransferCharge(this.listenForChargeCallback,e)},handleRequery:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a,s,r,i,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=10,s=null===(n=e.managedAccount)||void 0===n?void 0:n.account_expires_at,r=e.getAccountActiveWindow(s)>a,!r||e.currentView!==e.views.CREDIT_REQUEST_VIEW){t.next=16;break}return t.prev=4,t.next=7,e.transaction.requery();case 7:i=t.sent,o=i.status,e.requeryCount+=1,e.setCreditRequestStatus(o),e.isAcceptableCreditRequestState(o)?e.performInChannelRequery():e.isInCreditRequestView&&o===Vd.statuses.SUCCESS?(c=1e3,setTimeout((function(){return e.$emit("callback",i)}),c)):e.$emit("callback",i),t.next=16;break;case 14:t.prev=14,t.t0=t["catch"](4);case 16:case"end":return t.stop()}}),t,null,[[4,14]])})))()},performInChannelRequery:function(){var e=this,t=[6e4,18e4,3e5,48e4,78e4];setTimeout((function(){return e.handleRequery()}),t[this.requeryCount])},beginAccountExpiryCountdown:function(){var e=this;this.interval&&window.clearInterval(this.interval),this.checkTimeLeft(),this.interval=setInterval((function(){return e.checkTimeLeft()}),1e3)},checkTimeLeft:function(){var e,t=null===(e=this.managedAccount)||void 0===e?void 0:e.account_expires_at;this.timeLimit=this.getAccountActiveWindow(t);var n=(0,ce.isBefore)(t,new Date);n&&(qt(),window.clearInterval(this.interval),this.$emit("callback",{status:"failed",message:"Account expired"}))},setUpView:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.changeView(e),this.listenForCharge(t.channel),this.beginAccountExpiryCountdown()},setCreditRequestStatus:function(e){this.creditRequestStatus=e},isAcceptableCreditRequestState:function(e){var t=Vd.statuses,n=t.CREDIT_REQUEST_RECEIVED,a=t.CREDIT_REQUEST_PENDING;return[n,a].includes(e)},getAccountActiveWindow:function(e){return(0,ce.differenceInSeconds)(e,new Date)},saveManagedAccount:function(e){this.$store.dispatch("setBankTransferChannelState",{savedManagedAccount:e})},setUpManagedAccountViewAfterError:function(){var e,t;if(Yt(),this.managedAccount=null===(e=this.lastResponse)||void 0===e?void 0:e.data,null!==(t=this.managedAccount)&&void 0!==t&&t.account_name){var n=Math.round(this.getAccountActiveWindow(this.managedAccount.account_expires_at)/60);this.saveManagedAccount((0,k.Z)((0,k.Z)({},this.managedAccount),{},{activeWindow:n})),this.setUpView(this.views.MANAGED_ACCOUNT_VIEW,{channel:this.managedAccount.pusher_channel})}else this.$emit("callback",{status:"failed",message:"no managed account available"})}}},hp=mp,fp=n(98907),vp=n.n(fp),gp=vp(),_p=(0,he.Z)(hp,Md,Od,!1,null,null,null);"function"===typeof gp&&gp(_p);var yp=_p.exports,bp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("transition",{attrs:{name:"fade-down",mode:"out-in"}},[e.currentView===e.views.LOADING?n("loader"):e._e(),e.currentView===e.views.MANAGED_ACCOUNT_VIEW?n("div",[n("managed-account",{attrs:{managedAccount:e.managedAccount},on:{callback:e.handleResponse}}),n("button",{staticClass:"confirm-payment",attrs:{"data-testid":"confirmPayment"},on:{click:e.requery}},[e._v(" "+e._s(e.$t("confirmPayment"))+" ")])],1):e._e(),e.currentView===e.views.CREDIT_REQUEST_VIEW?n("credit-request",{attrs:{requeryCount:e.requeryCount,creditRequestStatus:e.creditRequestStatus},on:{startRequery:e.performInChannelRequery,backToAccount:function(t){return e.changeView(e.views.MANAGED_ACCOUNT_VIEW)},skipWaiting:function(t){return e.changeView(e.views.HELP_SCREEN)}}}):e._e(),e.currentView===e.views.HELP_SCREEN?n("help",{on:{keepWaiting:function(t){return e.changeView(e.views.CREDIT_REQUEST_VIEW)}}}):e._e()],1)],1)},Cp=[],wp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"managedaccount"},[n("div",{staticClass:"managedaccount__message"},[n("span",{staticClass:"display__inline-block",domProps:{innerHTML:e._s(e.paymentSummary)}}),n("span",{staticClass:"display__inline-block account-name",attrs:{"data-testid":"managed-account-name"}},[e._v(e._s(e.accountName))])]),n("div",{staticClass:"managedaccount__details"},[n("transition",{attrs:{name:"fade-down",mode:"out-in"}},[n("div",{key:"managed_account_active"},[n("p",{staticClass:"bank",attrs:{"data-testid":"managed-account-bank"}},[e._v(" "+e._s(e.managedAccount.bank.name)+" ")]),n("p",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.managedAccount.account_number,expression:"managedAccount.account_number",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],staticClass:"account-number",attrs:{"data-testid":"managed-account-number"}},[e._v(" "+e._s(e.managedAccount.account_number)+" "),n("span",[n("svg",{staticClass:"icon",attrs:{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M2.5 7.5H2C1.73478 7.5 1.48043 7.39464 1.29289 7.20711C1.10536\n                7.01957 1 6.76522 1 6.5V2C1 1.73478 1.10536 1.48043 1.29289 1.29289C1.48043\n                1.10536 1.73478 1 2 1H6.5C6.76522 1 7.01957 1.10536 7.20711 1.29289C7.39464\n                1.48043 7.5 1.73478 7.5 2V2.5M5.5 4.5H10C10.5523 4.5 11 4.94772 11 5.5V10C11\n                10.5523 10.5523 11 10 11H5.5C4.94772 11 4.5 10.5523 4.5 10V5.5C4.5 4.94772 4.94772 4.5 5.5 4.5Z",stroke:"#9C9C9C","stroke-linecap":"round","stroke-linejoin":"round"}})])])]),n("div",{staticClass:"expiry-information"},[e.instruction?n("span",[e._v(e._s(e.instruction))]):n("div",[n("span",{staticClass:"display__inline-block"},[e._v(e._s(e.$t("singleUseInstruction")))]),n("span",{staticClass:"display__inline-block expiry-information__countdown",attrs:{"data-testid":"managed-account-expiry-information"},domProps:{innerHTML:e._s(e.expiryInfo)}})])])])])],1)])},kp=[],Ep={name:"ManagedAccount",props:{managedAccount:{type:Object,required:!0}},data:function(){return{warningTimeLimitInSeconds:60,instruction:null,timeLimit:null,interval:null}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction"])),{},{paymentSummary:function(){var e=this.transaction,t=e.amount,n=e.currency;return this.$t("paymentSummary",{amount:t,formatParams:$(n)})},accountName:function(){return qd(this.managedAccount.account_name)},timeLeft:function(){var e=Hl(this.timeLimit).split(":"),t=(0,ju.Z)(e,2),n=t[0],a=t[1],s=Math.ceil(Number("".concat(n,".").concat(a)));return this.timeLimit>this.warningTimeLimitInSeconds?this.$t("timeInMinutes",{time:s}):"".concat(n,":").concat(a)},expiryInfo:function(){var e=this.timeLimit>this.warningTimeLimitInSeconds?"normal":"warning";return this.$t("expiresIn",{timeLeft:this.timeLeft,context:e})}}),created:function(){this.beginAccountExpiryCountdown()},beforeDestroy:function(){window.clearInterval(this.interval)},methods:{generateNewAccount:function(){Zt(),this.$emit("generateNewAccount")},onCopy:function(){var e=this;this.instruction="Copied!",setTimeout((function(){e.instruction=null}),1e3)},beginAccountExpiryCountdown:function(){var e=this;this.interval&&window.clearInterval(this.interval),this.checkTimeLeft(),this.interval=setInterval((function(){return e.checkTimeLeft()}),1e3)},checkTimeLeft:function(){var e=this.managedAccount&&this.managedAccount.account_expires_at;this.timeLimit=(0,ce.differenceInSeconds)(e,new Date);var t=(0,ce.isBefore)(e,new Date);t&&(qt(),window.clearInterval(this.interval),this.$emit("callback",{status:"failed",message:"Account expired"}))}}},Tp=Ep,Sp=n(59868),Rp=n.n(Sp),Ip=Rp(),Ap=(0,he.Z)(Tp,wp,kp,!1,null,null,null);"function"===typeof Ip&&Ip(Ap);var Np=Ap.exports,Pp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("instructions",{attrs:{message:e.message}}),n("animated-waiting-screen",{attrs:{"data-testid":"transfer-credit-request-screen",sentText:e.$t("sent"),receivedText:e.$t("received"),checkSentBox:e.checkAnimationSentBox,checkReceivedBox:"success"===e.creditRequestStatus}}),n("div",{staticClass:"controls"},[n("div",{staticClass:"controls__need-help"},[e.canSkipWaiting?n("payment-button",{staticClass:"button--light",attrs:{"data-testid":"skip-waiting-button"},on:{click:e.skipWaiting}},[e._v(" "+e._s(e.$t("skipWaiting"))+" ")]):n("payment-button",{staticClass:"button--disabled",attrs:{variant:"light","data-testid":"countdown-button"}},[e._v(" "+e._s(e.$t("pleaseWait",{timeLeft:e.timeLeft}))+" ")])],1),n("a",{staticClass:"controls__show-account",attrs:{"data-testid":"back-to-account"},on:{click:e.backToAccount}},[e._v(e._s(e.$t("showBankAccount")))])])],1)},xp=[],$p={name:"CreditRequest",props:{requeryCount:Number,creditRequestStatus:String},components:{PaymentButton:qa,AnimatedWaitingScreen:nu,Instructions:Sa},data:function(){return{lineBounds:null,bendingPath:!1,interval:null,timeLimit:null,canSkipWaiting:!1,waitingTime:null}},created:function(){this.bankTransferChannelState.waitingTime||this.$store.dispatch("setBankTransferChannelState",{waitingTime:(0,ce.addMinutes)(new Date,10)}),this.waitingTime=this.bankTransferChannelState.waitingTime,this.$emit("startRequery"),this.beginCountdown()},mounted:function(){Ut(),this.creditRequestStatus===Vd.statuses.CREDIT_REQUEST_RECEIVED&&Wt()},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["bankTransferChannelState"])),{},{message:function(){return this.requeryCount>0?this.$t("messageAfterRequery"):[Vd.statuses.CREDIT_REQUEST_RECEIVED,Vd.statuses.SUCCESS].includes(this.creditRequestStatus)?this.$t("messageOnCreditRequestReceived"):this.$t("defaultMessage")},checkAnimationSentBox:function(){return[Vd.statuses.CREDIT_REQUEST_RECEIVED,Vd.statuses.CREDIT_REQUEST_PENDING,Vd.statuses.SUCCESS].includes(this.creditRequestStatus)},timeLeft:function(){var e=Hl(this.timeLimit).split(":"),t=(0,ju.Z)(e,2),n=t[0],a=t[1];return"".concat(n,":").concat(a)}}),watch:{creditRequestStatus:function(e){e===Vd.statuses.CREDIT_REQUEST_RECEIVED&&Wt()}},methods:{backToAccount:function(){Ft(),this.$emit("backToAccount")},skipWaiting:function(){zt(),this.$emit("skipWaiting")},beginCountdown:function(){var e=this;this.interval&&window.clearInterval(this.interval),this.checkTimeLeft(),this.interval=setInterval((function(){return e.checkTimeLeft()}),1e3)},checkTimeLeft:function(){this.timeLimit=(0,ce.differenceInSeconds)(this.waitingTime,new Date);var e=(0,ce.isBefore)(this.waitingTime,new Date);e&&(this.canSkipWaiting=!0)}}},Dp=$p,Mp=n(88667),Op=n.n(Mp),Vp=Op(),Lp=(0,he.Z)(Dp,Pp,xp,!1,null,"0e534169",null);"function"===typeof Vp&&Vp(Lp);var Up=Lp.exports,Wp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"slideshow",attrs:{"data-testid":"pwt-help-screen"}},[n("div",{staticClass:"slideshow__container"},e._l(e.slides,(function(t,a){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.slideIndex===a,expression:"slideIndex === index"}],key:a,staticClass:"message"},[e._v(" "+e._s(t)+" ")])})),0),n("div",{staticStyle:{"text-align":"center"}},e._l(e.slides,(function(t,a){return n("span",{key:a,staticClass:"slideshow__dot",class:{active:e.slideIndex===a}})})),0),n("div",{staticClass:"slideshow__control"},[this.slideIndex<this.slides.length-1?n("button",{staticClass:"next-button",attrs:{"data-testid":"slideshow-next-button"},on:{click:e.nextSlide}},[e._v(" "+e._s(this.$t("next"))+" ")]):n("payment-button",{attrs:{"data-testid":"close-checkout-button"},on:{click:e.closeCheckout}},[e._v(" "+e._s(this.$t("closeCheckout"))+" ")]),n("div",{staticClass:"keep-waiting"},[n("a",{attrs:{"data-testid":"keep-waiting"},on:{click:e.keepWaiting}},[e._v(e._s(e.$t("keepWaiting")))])])],1)])},qp=[],Zp={name:"Help",components:{PaymentButton:qa},data:function(){return{slideIndex:0}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction","mode"])),{},{slides:function(){var e=this.$t("slides.processLateNotification.slideOne"),t=this.$t("slides.processLateNotification.slideTwo"),n=this.$t("slides.processLateNotification.slideThree");return[e,t,n]},buttonText:function(){return this.slideIndex<this.slides.length-1?this.$t("next"):this.$t("continueWaiting")}}),methods:{keepWaiting:function(){Kt(),this.$emit("keepWaiting")},nextSlide:function(){this.slideIndex+=1},closeCheckout:function(){Gt(),hn(this.transaction,this.mode)}}},Bp=Zp,Fp=n(35691),Hp=n.n(Fp),zp=Hp(),Gp=(0,he.Z)(Bp,Wp,qp,!1,null,"d4314d26",null);"function"===typeof zp&&zp(Gp);var Kp=Gp.exports,Yp={name:"PayWithTransferChannel",components:{ManagedAccount:Np,Loader:qs,CreditRequest:Up,Help:Kp},mixins:[ar],data:function(){var e={LOADING:"loading",MANAGED_ACCOUNT_VIEW:"managed-account-view",CREDIT_REQUEST_VIEW:"credit-request-view",HELP_SCREEN:"help-screen"};return{views:e,managedAccount:null,currentView:e.LOADING,requeryCount:0,creditRequestStatus:""}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction","status","bankTransferChannelState","lastResponse","activeChannel"])),{},{isInCreditRequestView:function(){return this.currentView===this.views.CREDIT_REQUEST_VIEW}}),created:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.managedAccount=e.bankTransferChannelState.savedManagedAccount,a=e.bankTransferChannelState.lastPusherResponse,null===(n=e.activeChannel)||void 0===n||!n.view){t.next=7;break}e.changeView(e.activeChannel.view),e.$store.dispatch("setActiveChannel",{name:"bank_transfer"}),t.next=24;break;case 7:if(r=e.isAcceptableCreditRequestState(e.status)&&!e.managedAccount,!r){t.next=12;break}e.setUpManagedAccountViewAfterError(),t.next=24;break;case 12:if((null===a||void 0===a?void 0:a.status)!==Vd.statuses.CREDIT_REQUEST_REJECTED||(null===a||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message_type)!==Vd.types.INCORRECT_AMOUNT){t.next=17;break}e.$emit("callback",{status:"failed",message:"incorrect amount sent"}),e.$store.dispatch("setBankTransferChannelState",{lastPusherResponse:null}),t.next=24;break;case 17:if(!e.isAcceptableCreditRequestState(e.status)){t.next=22;break}e.setCreditRequestStatus(e.status),e.setUpView(e.views.CREDIT_REQUEST_VIEW),t.next=24;break;case 22:return t.next=24,e.getManagedAccount();case 24:case"end":return t.stop()}}),t)})))()},methods:{getManagedAccount:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a,s,r,i,o,c,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.transaction.merchant.channelSettings,t.next=4,e.transaction.getManagedAccount({fulfilLateNotification:(null===a||void 0===a||null===(n=a.bank_transfer)||void 0===n?void 0:n.fulfil_late_notification)||!1});case 4:s=t.sent,r=s.data,i=Math.round(e.getAccountActiveWindow(r.account_expires_at)/60),o=r&&r.account_number,c=r&&r.bank&&r.bank.name,Ot({accountNumber:o,bank:c}),e.saveManagedAccount((0,k.Z)((0,k.Z)({},r),{},{activeWindow:i})),e.managedAccount=r,e.setUpView(e.views.MANAGED_ACCOUNT_VIEW),t.next=21;break;case 15:t.prev=15,t.t0=t["catch"](0),u=t.t0.response&&t.t0.response.data||t.t0,l=u.message,Vt({message:l}),e.emitPaymentChannelError(e,t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,15]])})))()},requery:function(){Lt(),this.$emit("callback",{status:"requery"})},changeView:function(e){this.currentView=e},listenForChargeCallback:function(e){var t=this;if("error"!==e.status){var n=e.status,a=e.data;a=void 0===a?{}:a;var s=a.message_type;if(this.setCreditRequestStatus(n),this.$store.dispatch("setBankTransferChannelState",{lastPusherResponse:e}),this.isAcceptableCreditRequestState(n))this.changeView(this.views.CREDIT_REQUEST_VIEW);else if(n===Vd.statuses.CREDIT_REQUEST_REJECTED&&s===Vd.types.INCORRECT_AMOUNT){if(this.currentView===this.views.MANAGED_ACCOUNT_VIEW)return;this.$emit("callback",{status:"failed",message:"incorrect amount sent"})}else if(this.isInCreditRequestView&&n===Vd.statuses.SUCCESS){var r=1e3;setTimeout((function(){return t.$emit("callback",e)}),r)}else this.$emit("callback",e)}},listenForCharge:function(e){this.transaction.listenForPayWithTransferCharge(this.listenForChargeCallback,e)},handleRequery:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a,s,r,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=10,a=e.managedAccount&&e.managedAccount.account_expires_at,s=e.getAccountActiveWindow(a)>n,!s||e.currentView!==e.views.CREDIT_REQUEST_VIEW){t.next=16;break}return t.prev=4,t.next=7,e.transaction.requery();case 7:r=t.sent,i=r.status,e.requeryCount+=1,e.setCreditRequestStatus(i),e.isAcceptableCreditRequestState(i)?e.performInChannelRequery():e.isInCreditRequestView&&i===Vd.statuses.SUCCESS?(o=1e3,setTimeout((function(){return e.$emit("callback",r)}),o)):e.$emit("callback",r),t.next=16;break;case 14:t.prev=14,t.t0=t["catch"](4);case 16:case"end":return t.stop()}}),t,null,[[4,14]])})))()},performInChannelRequery:function(){var e=this,t=[6e4,18e4,3e5,48e4,78e4];setTimeout((function(){return e.handleRequery()}),t[this.requeryCount])},setUpView:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.changeView(e),this.listenForCharge(t.channel)},setCreditRequestStatus:function(e){this.creditRequestStatus=e},isAcceptableCreditRequestState:function(e){var t=Vd.statuses,n=t.CREDIT_REQUEST_RECEIVED,a=t.CREDIT_REQUEST_PENDING;return[n,a].includes(e)},getAccountActiveWindow:function(e){return(0,ce.differenceInSeconds)(e,new Date)},handleResponse:function(e){this.$emit("callback",e)},saveManagedAccount:function(e){this.$store.dispatch("setBankTransferChannelState",{savedManagedAccount:e})},setUpManagedAccountViewAfterError:function(){var e,t;if(Yt(),this.managedAccount=null===(e=this.lastResponse)||void 0===e?void 0:e.data,null!==(t=this.managedAccount)&&void 0!==t&&t.account_name){var n=Math.round(this.getAccountActiveWindow(this.managedAccount.account_expires_at)/60);this.saveManagedAccount((0,k.Z)((0,k.Z)({},this.managedAccount),{},{activeWindow:n})),this.setUpView(this.views.MANAGED_ACCOUNT_VIEW,{channel:this.managedAccount.pusher_channel})}else this.$emit("callback",{status:"failed",message:"no managed account available"})}}},Qp=Yp,jp=n(16536),Jp=n.n(jp),Xp=Jp(),em=(0,he.Z)(Qp,bp,Cp,!1,null,null,null);"function"===typeof Xp&&Xp(em);var tm=em.exports,nm={name:"PayWithTransferFlowRouter",components:{RefundLateNotification:yp,ProcessLateNotification:tm},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction"])),{},{canFulfilLateNotification:function(){var e,t,n=this.transaction.merchant;return null===(e=n.channelSettings)||void 0===e||null===(t=e.bank_transfer)||void 0===t?void 0:t.fulfil_late_notification}}),methods:{callback:function(e){this.$emit("callback",e)}}},am=nm,sm=(0,he.Z)(am,$d,Dd,!1,null,null,null),rm=sm.exports,im=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"visa-qr-container"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[e.qrData?a("div",[a("div",{staticClass:"visa-qr-container__header",attrs:{"data-testid":"qrCodeHeader"}},[a("div",[a("transition",{attrs:{"enter-active-class":"animated tada",appear:""}},[a("img",{attrs:{src:n(44438),alt:e.$t("visaLogo")}})])],1),a("p",{staticClass:"instruction"},[e._v(e._s(e.$t("instruction")))])]),a("qr-code",{attrs:{url:e.qrData.url}}),e.showDownloadQrCode?a("a",{staticClass:"visa-qr-container__download-qr",attrs:{"data-testid":"saveQrImageButton",href:e.qrData.url,download:e.fileName}},[e._v(" "+e._s(e.$t("downloadQrCode"))+" ")]):e._e()],1):a("loader")],1)],1)},om=[],cm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"qr__wrapper"},[e.qrCodeLoaded?e._e():n("loader"),n("div",{directives:[{name:"show",rawName:"v-show",value:e.qrCodeLoaded,expression:"qrCodeLoaded"}],staticClass:"qr__code"},[n("img",{attrs:{name:"qrCodeImage",alt:"Paystack QR Code",src:e.url,id:"qrCodeImage"},on:{load:e.onQrCodeLoad}}),e.code?n("div",{staticClass:"qr__code__text"},[e.copyText?n("p",{staticClass:"copy"},[e._v(e._s(e.copyText))]):n("p",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.code,expression:"code",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],staticClass:"code"},[e._v(" "+e._s(e.formattedCode)+" "),n("span",[n("svg",{staticClass:"icon",attrs:{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M2.5 7.5H2C1.73478 7.5 1.48043 7.39464 1.29289 7.20711C1.10536\n                7.01957 1 6.76522 1 6.5V2C1 1.73478 1.10536 1.48043 1.29289 1.29289C1.48043\n                1.10536 1.73478 1 2 1H6.5C6.76522 1 7.01957 1.10536 7.20711 1.29289C7.39464\n                1.48043 7.5 1.73478 7.5 2V2.5M5.5 4.5H10C10.5523 4.5 11 4.94772 11 5.5V10C11\n                10.5523 10.5523 11 10 11H5.5C4.94772 11 4.5 10.5523 4.5 10V5.5C4.5 4.94772 4.94772 4.5 5.5 4.5Z",stroke:"#011B33","stroke-linecap":"round","stroke-linejoin":"round"}})])])])]):e._e()])],1)},um=[],lm={name:"QRCode",components:{Loader:qs},props:{url:{type:String,required:!0},code:{type:String,required:!1}},data:function(){return{copyText:null,qrCodeLoaded:!1}},computed:{formattedCode:function(){if(!this.code)return"";var e=this.code.length,t=Math.round(e/2);return"".concat(this.code.slice(0,t)," ").concat(this.code.slice(t))}},methods:{onQrCodeLoad:function(){this.qrCodeLoaded=!0},onCopy:function(){var e=this;this.copyText="Copied!",setTimeout((function(){e.copyText=null}),1e3)}}},dm=lm,pm=n(74239),mm=n.n(pm),hm=mm(),fm=(0,he.Z)(dm,cm,um,!1,null,null,null);"function"===typeof hm&&hm(fm);var vm=fm.exports,gm={name:"VisaQrChannel",components:{QrCode:vm,Loader:qs},mixins:[ar],computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction"])),{},{showDownloadQrCode:function(){return oe()()}}),data:function(){return{channel:"visa",qrData:null}},created:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.transaction.getQRCode({channel:e.channel});case 3:n=t.sent,a=n.data,e.qrData=a,e.listenForCharge(),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.emitPaymentChannelError(e,t.t0);case 12:e.fileName="Paystack_".concat(e.transaction.merchant.name,"_").concat(e.transaction.id,"_QRCode.png");case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},methods:{listenForChargeCallback:function(e,t){"error"!==e.status&&(this.$emit("callback",e),t())},listenForCharge:function(){this.transaction.listenForQRCharge({channel:this.channel},this.listenForChargeCallback)}}},_m=gm,ym=n(88195),bm=n.n(ym),Cm=bm(),wm=(0,he.Z)(_m,im,om,!1,null,"f66e41a4",null);"function"===typeof Cm&&Cm(wm);var km=wm.exports,Em=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"ussd-channel"}},[e.currentView===e.views.CHOOSE_PROVIDER?n("div",{key:"choose_provider"},[n("instructions",{key:"instruction",attrs:{icon:"ussd",message:e.$t("instructionMessage")}}),e.useListView?n("div",e._l(e.avalaibleUssdProviders,(function(t){return n("div",{key:t.shortcode,staticClass:"ussdchannel",on:{click:function(n){return e.selectProvider(t)}}},[n("div",{staticClass:"ussdchannel__details",attrs:{"data-testid":t.shortcode+"-ussd-channel"}},[n("div",{staticClass:"ussdchannel__details__info"},[n("span",{staticClass:"ussdchannel__name"},[e._v(e._s(t.name))])]),n("div",{staticClass:"ussdchannel__details__shortcode"},[e._v(" "+e._s("*"+t.shortcode+"#")+" ")])])])})),0):n("div",{staticClass:"row"},[n("div",{staticClass:"col-10-sm col-centered"},[n("div",{staticClass:"form-group"},[n("search-dropdown",{attrs:{placeholder:e.$t("searchFieldPlaceholder"),options:e.avalaibleUssdProviders,name:"bankName",displayProperty:"name","data-testid":"ussdchannel-select-input"},on:{selected:e.selectProvider}})],1)])])],1):e._e(),e.currentView===e.views.SHORTCODE?n("ussd-shortcode-wrapper",{key:e.views.SHORTCODE,attrs:{provider:e.selectedProvider},on:{callback:e.onChargeResponse,showHowToPayGuide:function(t){return e.setView(e.views.HOW_TO_PAY)}}}):e._e(),e.currentView===e.views.HOW_TO_PAY?n("ussd-how-to-pay-guide",{attrs:{provider:e.selectedProvider},on:{backToPayment:function(t){return e.setView(e.views.SHORTCODE)}}}):e._e(),"choose_provider"!==e.currentView?n("cancel-link",{key:"cancel",attrs:{"data-testid":"cancel-ussd-payment-link"},on:{click:e.cancel}}):e._e()],1)},Tm=[],Sm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.options?n("div",{staticClass:"search-dropdown"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchFilter,expression:"searchFilter"}],staticClass:"input",attrs:{name:e.name,disabled:e.disabled,placeholder:e.placeholder,autocomplete:"off"},domProps:{value:e.searchFilter},on:{focus:function(t){return e.handleFocus()},blur:function(t){return e.handleBlur()},input:function(t){t.target.composing||(e.searchFilter=t.target.value)}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showOptions,expression:"showOptions"}],staticClass:"search-dropdown__content"},e._l(e.filteredOptions,(function(t,a){return n("div",{key:t+"-"+a,staticClass:"dropdown-item",attrs:{"data-testid":"select-dropdown-item-"+t[e.displayProperty]},on:{mousedown:function(n){return e.selectOption(t)}}},[e._v(" "+e._s(t[e.displayProperty]||"-")+" ")])})),0)]):e._e()},Rm=[],Im=(n(73210),n(24603),n(28450),n(88386),{name:"SearchDropdown",props:{name:{type:String,required:!1,default:"search-dropdown"},options:{type:Array,required:!0,default:function(){return[]}},displayProperty:{type:String,required:!0,notes:"Property on the option object to display"},placeholder:{type:String,required:!1,default:"Please select an option"},disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{selected:{},showOptions:!1,searchFilter:""}},computed:{filteredOptions:function(){if(!this.searchFilter.trim())return this.options;var e=this.searchFilter.replace(/[#-.]|[[-^]|[?|{}]/g,"\\$&"),t=new RegExp(e,"ig"),n=this.options.reduce((function(e,n){var a;return null!==n&&void 0!==n&&null!==(a=n.name)&&void 0!==a&&a.match(t)?[].concat((0,xi.Z)(e),[n]):e}),[]);return n}},methods:{selectOption:function(e){this.selected=e,this.showOptions=!1,this.searchFilter=this.selected.name,this.$emit("selected",this.selected)},handleFocus:function(){this.showOptions=!0},handleBlur:function(){this.showOptions=!1}}}),Am=Im,Nm=(0,he.Z)(Am,Sm,Rm,!1,null,"b8ec945e",null),Pm=Nm.exports,xm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("how-to-pay-guide",{attrs:{mainTitle:e.$t("howToPay",{providerName:e.provider.shortname}),nextButtonText:e.$t("next"),backButtonText:e.$t("backToPayment"),contents:e.contents,"data-testid":"ussd-how-to-pay-guide"},on:{slideEnd:function(t){return e.$emit("backToPayment")}}})},$m=[],Dm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"guide",attrs:{"data-testid":"how-to-pay-guide"}},[n("span",{staticClass:"guide__text"},[e._v(e._s(e.mainTitle))]),n("header",{staticClass:"guide__content",attrs:{id:"guide-to"}},[e._v(" "+e._s(e.contents[e.currentPage].title)+" "),n("ul",{staticClass:"guide__ul"},e._l(e.contents[e.currentPage].instructions,(function(t,a){return n("li",{key:a,staticClass:"guide__li",attrs:{"data-testid":"how-to-pay-guide-item-"+a},domProps:{innerHTML:e._s(t)}})})),0)]),n("div",{staticClass:"guide__dot_wrapper"},e._l(e.contents,(function(t,a){return n("span",{key:a,staticClass:"guide__dot",class:{"guide__dot--active":e.currentPage===a},on:{click:function(t){return e.goToPage(a)}}})})),0),e.currentPage!==e.contents.length-1?n("button",{staticClass:"button--light",attrs:{"data-testid":"how-to-pay-guide-next-button"},on:{click:e.goToNextPage}},[e._v(" "+e._s(e.nextButtonText)+" ")]):n("button",{staticClass:"button--light",attrs:{"data-testid":"how-to-pay-guide-back-button"},on:{click:function(t){return e.$emit("slideEnd")}}},[e._v(" "+e._s(e.backButtonText)+" ")])])},Mm=[],Om={name:"HowToPayGuide",data:function(){return{currentPage:0}},props:{contents:Array,mainTitle:String,nextButtonText:String,backButtonText:String},methods:{goToNextPage:function(){this.currentPage+=1},goToPage:function(e){e!==this.currentPage&&(this.currentPage=e)}}},Vm=Om,Lm=(0,he.Z)(Vm,Dm,Mm,!1,null,"999ba386",null),Um=Lm.exports,Wm={name:"UssdHowToPayGuide",props:{provider:{type:Object,required:!0}},components:{HowToPayGuide:Um},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["ussdChannelState"])),{},{contents:function(){var e,t,n,a=(e={},(0,Ye.Z)(e,$i.DIRECT,"ussd"),(0,Ye.Z)(e,$i.PAY_WITH_TRANSFER,"pwt"),e),s=a[this.provider.type];return[{instructions:[this.$t("slides.pageOne.stepOne",{registrationCode:Di[this.provider.slug]}),this.$t("slides.pageOne.stepTwo")],title:this.$t("slides.pageOne.title",{bank:this.provider.name})},{instructions:[this.$t("slides.pageTwo.stepOne",{paymentString:this.ussdChannelState.savedUssdData.code}),this.$t("slides.pageTwo.stepTwo",{bankName:null===(t=this.ussdChannelState.savedManagedAccount)||void 0===t||null===(n=t.bank)||void 0===n?void 0:n.name,context:s})],title:this.$t("slides.pageTwo.title",{bank:this.provider.name})}]}})},qm=Wm,Zm=n(79039),Bm=n.n(Zm),Fm=Bm(),Hm=(0,he.Z)(qm,xm,$m,!1,null,null,null);"function"===typeof Fm&&Fm(Hm);var zm=Hm.exports,Gm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.currentView===e.views.SHORTCODE?a("div",[a("transition",{attrs:{name:"fade",mode:"out-in"}},[e.ussdData&&e.provider.shortcode?a("div",{staticClass:"shortcode-wrapper"},[a("div",{staticClass:"icon"},[a("img",{attrs:{src:n(84393),alt:e.$t("ussdIcon")}})]),a("instructions",{attrs:{message:e.shortCodeInstruction,linkText:e.$t("howToPay",{providerName:e.provider.shortname}),linkDataTestId:"ussd-how-to-pay-text"},on:{linkClick:e.showHowToPayGuide}}),a("shortcode",e._b({attrs:{provider:e.provider,timeLeft:e.timeLeft}},"shortcode",e.ussdData,!1)),a("payment-button",{attrs:{"data-testid":"confirmPayment",variant:"light"},on:{click:e.confirmPayment}},[e._v(e._s(e.$t("paymentCompleted")))])],1):a("loader")],1)],1):e._e(),e.currentView===e.views.TRANSFER_PENDING?a("ussd-transfer-pending",{attrs:{status:e.transferStatus},on:{showUssdString:function(t){return e.setView(e.views.SHORTCODE)}}}):e._e()],1)},Km=[],Ym=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"shortcode"},[n("div",{staticClass:"shortcode__content"},[n("div",{staticClass:"shortcode__code",class:e.provider.type===e.providerTypes.PAY_WITH_TRANSFER?"shortcode__code-pwt":"shortcode__code-ussd"},[e.isMobile?n("a",{attrs:{href:"tel:"+encodeURIComponent(e.code)}},[e._v(e._s(e.code))]):n("p",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.code,expression:"code",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],attrs:{"data-testid":"ussdShortcode"}},[e._v(" "+e._s(e.code)+" ")])]),n("div",{staticClass:"shortcode__helper"},[e.isMobile?n("p",[e._v(e._s(e.$t("tapToCall")))]):n("p",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.code,expression:"code",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}]},[e._v(" "+e._s(e.instruction||e.$t("clickToCopy"))+" ")]),e.provider.type===e.providerTypes.PAY_WITH_TRANSFER?n("p",{staticClass:"expiry",attrs:{"data-testid":"ussd-pwt-expiry"},domProps:{innerHTML:e._s(e.$t("shortCodeExpiry",{timeLeft:e.timeLeft}))}}):e._e()])])])},Qm=[],jm={name:"Shortcode",props:{provider:{type:Object,required:!0},code:{type:String,required:!0},timeLeft:{type:String,required:!1,default:null}},data:function(){return{instruction:null,isMobile:oe()(),providerTypes:$i}},methods:{onCopy:function(){var e=this;this.instruction="Copied!",setTimeout((function(){e.instruction=null}),1e3)}}},Jm=jm,Xm=n(96268),eh=n.n(Xm),th=eh(),nh=(0,he.Z)(Jm,Ym,Qm,!1,null,null,null);"function"===typeof th&&th(nh);var ah=nh.exports,sh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("instructions",{attrs:{message:e.$t("waitingForTransfer")}}),n("animated-waiting-screen",{attrs:{"data-testid":"ussd-transfer-pending-screen",sentText:e.$t("sent"),receivedText:e.$t("received"),checkSentBox:e.checkAnimationSentBox,checkReceivedBox:"success"===e.status}}),n("div",{staticClass:"controls"},[n("payment-button",{staticClass:"button--light",attrs:{"data-testid":"show-ussd-string-button"},on:{click:e.showUssdString}},[e._v(" "+e._s(e.$t("showUssdString"))+" ")])],1)],1)},rh=[],ih={name:"UssdTransferPending",props:{status:{type:String,required:!0}},components:{PaymentButton:qa,AnimatedWaitingScreen:nu,Instructions:Sa},mounted:function(){en()},computed:{checkAnimationSentBox:function(){return[Vd.statuses.CREDIT_REQUEST_RECEIVED,Vd.statuses.CREDIT_REQUEST_PENDING,Vd.statuses.SUCCESS].includes(this.status)}},methods:{showUssdString:function(){this.$emit("showUssdString")}}},oh=ih,ch=n(27250),uh=n.n(ch),lh=uh(),dh=(0,he.Z)(oh,sh,rh,!1,null,"43811a27",null);"function"===typeof lh&&lh(dh);var ph=dh.exports,mh={name:"UssdShortcodeWrapper",components:{Shortcode:ah,Loader:qs,PaymentButton:qa,Instructions:Sa,UssdTransferPending:ph},props:{provider:{type:Object,required:!0}},mixins:[ar],data:function(){var e={SHORTCODE:"shortcode",TRANSFER_PENDING:"transfer-pending"};return{views:e,currentView:e.SHORTCODE,ussdData:null,managedAccount:null,interval:null,timeLimit:null,transferStatus:""}},created:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.canRecoverChannelState&&e.recoverChannelState(),e.isAwaitingTransfer(e.status)&&(e.recoverChannelState(),e.handleUssdTransferPending(e.status)),e.ussdData){t.next=6;break}return n={},(0,Ye.Z)(n,$i.DIRECT,e.generateUssdShortcode),(0,Ye.Z)(n,$i.PAY_WITH_TRANSFER,e.getPWTUSSDShortcode),a=n,t.next=6,a[e.provider.type]();case 6:case"end":return t.stop()}}),t)})))()},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction","activeChannel","status","ussdChannelState"])),{},{timeLeft:function(){var e=Hl(this.timeLimit).split(":"),t=(0,ju.Z)(e,2),n=t[0],a=t[1],s=Math.ceil(Number("".concat(n,".").concat(a)));return this.timeLimit>60?"".concat(s," minutes"):"".concat(n,":").concat(a)},providerMessage:function(){return this.provider&&"".concat(this.provider.shortname,"'s ").concat(this.provider.shortcode)},canRecoverChannelState:function(){var e=this.ussdChannelState,t=e.savedManagedAccount,n=e.savedUssdData,a=e.canReuse;if(!a)return!1;var s=(0,ce.isBefore)((null===t||void 0===t?void 0:t.account_expires_at)||null,new Date),r=this.provider.bankSlug===(null===n||void 0===n?void 0:n.providerSlug);return r&&!s},shortCodeInstruction:function(){var e,t,n,a=(e={},(0,Ye.Z)(e,$i.DIRECT,"ussd"),(0,Ye.Z)(e,$i.PAY_WITH_TRANSFER,"pwt"),e),s=a[this.provider.type];return this.$t("shortCodeInstruction",{providerMessage:this.providerMessage,context:s,bankName:null===(t=this.managedAccount)||void 0===t||null===(n=t.bank)||void 0===n?void 0:n.name})}}),methods:{confirmPayment:function(){Mt({channel:this.activeChannel.name}),this.$emit("callback",{status:"requery"})},handleUssdTransferPending:function(e){this.transferStatus=e,this.setView(this.views.TRANSFER_PENDING)},showHowToPayGuide:function(){this.$emit("showHowToPayGuide"),tn()},recoverChannelState:function(){var e;this.ussdData=this.ussdChannelState.savedUssdData,this.managedAccount=this.ussdChannelState.savedManagedAccount,(null===(e=this.ussdData)||void 0===e?void 0:e.type)===$i.PAY_WITH_TRANSFER&&this.beginAccountExpiryCountdown()},generateUssdShortcode:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.transaction.getUSSDShortcode({channel:e.provider.shortcode});case 3:n=t.sent,a=n.data,e.ussdData=a,e.saveUssdData({savedUssdData:(0,k.Z)((0,k.Z)({},e.ussdData),{},{type:$i.DIRECT,providerSlug:e.provider.bankSlug})}),e.listenForUSSDCharge(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),e.emitPaymentChannelError(e,t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},getPWTUSSDShortcode:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.transaction.getPWTUSSDShortcode({fulfilLateNotification:!1,bankSlug:e.provider.bankSlug});case 3:a=t.sent,s=a.data,e.managedAccount=s,e.timeLimit=e.getAccountActiveWindow(null===(n=e.managedAccount)||void 0===n?void 0:n.account_expires_at),r={code:s.ussd_string,channel:s.pusher_channel},e.ussdData=r,e.saveUssdData({savedUssdData:(0,k.Z)((0,k.Z)({},e.ussdData),{},{type:$i.PAY_WITH_TRANSFER,providerSlug:e.provider.bankSlug}),savedManagedAccount:e.managedAccount}),e.beginAccountExpiryCountdown(),e.listenForPWTUSSDCharge(),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),e.emitPaymentChannelError(e,t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()},listenForChargeCallback:function(e){"error"!==e.status&&(this.isAwaitingTransfer(e.status)?this.handleUssdTransferPending(e.status):this.$emit("callback",e))},listenForPWTUSSDCharge:function(){this.transaction.listenForPWTUSSDCharge({bankSlug:this.provider.bankSlug},this.listenForChargeCallback)},listenForUSSDCharge:function(){this.transaction.listenForUSSDCharge({channel:this.provider.shortcode},this.listenForChargeCallback)},getAccountActiveWindow:function(e){return(0,ce.differenceInSeconds)(e,new Date)},isAwaitingTransfer:function(e){var t=Vd.statuses,n=t.CREDIT_REQUEST_RECEIVED,a=t.CREDIT_REQUEST_PENDING;return[n,a].includes(e)},beginAccountExpiryCountdown:function(){var e=this;this.interval&&window.clearInterval(this.interval),this.checkTimeLeft(),this.interval=setInterval((function(){return e.checkTimeLeft()}),1e3)},checkTimeLeft:function(){var e,t=null===(e=this.managedAccount)||void 0===e?void 0:e.account_expires_at;this.timeLimit=this.getAccountActiveWindow(t);var n=(0,ce.isBefore)(t,new Date);n&&(window.clearInterval(this.interval),this.$emit("callback",{status:"failed",message:"USSD code expired"}))},saveUssdData:function(e){this.$store.dispatch("setUssdChannelState",e)},setView:function(e){Object.values(this.views).includes(e)&&(this.currentView=e)}}},hh=mh,fh=n(90798),vh=n.n(fh),gh=vh(),_h=(0,he.Z)(hh,Gm,Km,!1,null,"76c77157",null);"function"===typeof gh&&gh(_h);var yh=_h.exports,bh={name:"UssdChannel",components:{Instructions:Sa,CancelLink:Ma,UssdShortcodeWrapper:yh,SearchDropdown:Pm,UssdHowToPayGuide:zm},data:function(){var e={SHORTCODE:"shortcode",CHOOSE_PROVIDER:"choose_provider",HOW_TO_PAY:"how-to-pay"};return{views:e,currentView:e.CHOOSE_PROVIDER,selectedProvider:null}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction","ussdProvider"])),{},{avalaibleUssdProviders:function(){return Hi(this.transaction)},useListView:function(){var e;return(null===(e=this.avalaibleUssdProviders)||void 0===e?void 0:e.length)<=4}}),beforeMount:function(){this.ussdProvider&&this.selectProvider(this.ussdProvider)},beforeDestroy:function(){this.$store.dispatch("setUssdChannelState",{canReuse:!1})},methods:{cancel:function(){this.currentView=this.views.CHOOSE_PROVIDER,this.selectedProvider=null,this.$store.dispatch("setTransactionStatus","abandoned")},selectProvider:function(e){this.selectedProvider=e,this.$store.dispatch("setUssdProvider",e),this.setView(this.views.SHORTCODE)},onAttempt:function(e){this.$emit("attempt",{paymentMethod:e})},onChargeResponse:function(e){this.$emit("callback",e)},setView:function(e){Object.values(this.views).includes(e)&&(this.currentView=e)}}},Ch=bh,wh=n(86555),kh=n.n(wh),Eh=kh(),Th=(0,he.Z)(Ch,Em,Tm,!1,null,"a9292ae0",null);"function"===typeof Eh&&Eh(Th);var Sh=Th.exports,Rh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.currentView===e.views.AUTHENTICATE?a("div",{staticClass:"eftchannel"},[a("div",[a("img",{staticClass:"eftchannel__icon",attrs:{src:n(78750),alt:e.$t("ozowIcon")}}),a("div",{staticClass:"eftchannel__message",attrs:{"data-testid":"eft-instruction"}},[e._v(" "+e._s(e.$t("message"))+" ")])]),a("div",[a("payment-button",{attrs:{"data-testid":"authenticate-button"},on:{click:e.authenticate}},[e._v(" "+e._s(e.$t("authenticate"))+" ")])],1)]):e._e(),e.currentView===e.views.REDIRECT?a("redirect",{attrs:{url:e.eftData.url,provider:e.provider},on:{closed:e.checkTransactionStatus}}):e._e()],1)},Ih=[],Ah=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"redirect"},[n("instructions",{attrs:{icon:"redirect",message:e.$t("authMessage",{provider:e.provider.gateway})}}),n("loader"),n("div",{staticClass:"iframe",class:{iframe__content:!e.authPageLoaded}},[n("button",{staticClass:"iframe__close",on:{click:function(t){return e.endRedirect()}}},[e._v(" "+e._s(e.$t("close"))+" ")]),n("iframe",{ref:"iframe",style:e.iframeCss,attrs:{src:e.url,frameBorder:"0",allowtransparency:"true"}})])],1)},Nh=[],Ph={name:"EftRedirect",components:{Instructions:Sa,Loader:qs},props:{url:String,provider:Object},data:function(){return{authPageLoaded:!1,iframeCss:"display: block; border: 0px none transparent; overflow-x: hidden;\n        overflow-y: hidden; visibility: visible; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent;\n         -webkit-touch-callout: none; position: relative; left: 0; top: 0; width: 100%; height: 100%;"}},mounted:function(){this.authRequestedAt=new Date,this.listenForIframeEvents()},computed:(0,k.Z)({},(0,m.Se)(["transaction"])),methods:{endRedirect:function(){this.$emit("closed"),this.transaction.logAuthWindowClose(),this.trackAuthentication()},trackAuthentication:function(){var e=(0,ce.differenceInSeconds)(new Date,this.authRequestedAt);kt({auth:"EFT",timeSpent:e})},listenForIframeEvents:function(){var e=this;window.addEventListener("message",(function(t){var n=t.data;e.authPageLoaded="loaded:AuthPage"===n;var a="PaystackAuth"===(null===n||void 0===n?void 0:n.split(" ")[0]);a&&e.endRedirect()}))}}},xh=Ph,$h=n(57382),Dh=n.n($h),Mh=Dh(),Oh=(0,he.Z)(xh,Ah,Nh,!1,null,"27f02636",null);"function"===typeof Mh&&Mh(Oh);var Vh=Oh.exports,Lh={name:"EftChannel",components:{Redirect:Vh,PaymentButton:qa},data:function(){var e={REDIRECT:"redirect",AUTHENTICATE:"authenticate"};return{redirect:!1,provider:{name:"Ozow",gateway:"EFT_OZOW"},views:e,currentView:e.AUTHENTICATE}},computed:(0,k.Z)({},(0,m.Se)(["transaction"])),methods:{changeView:function(e){this.currentView=e},checkTransactionStatus:function(){this.$emit("callback",{status:"requery"})},authenticate:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.transaction.getEFTUrl({eftGateway:e.provider.gateway});case 3:n=t.sent,a=n.data,e.eftData=a,e.transaction.listenForEFTCharge(e.listenForEFTChargeCallback),e.changeView(e.views.REDIRECT),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),e.$emit("callback",{status:"failed",message:t.t0});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},listenForEFTChargeCallback:function(e,t){"error"!==e.status&&(this.$emit("attempt","eft"),this.$emit("callback",e),t())}}},Uh=Lh,Wh=n(84359),qh=n.n(Wh),Zh=qh(),Bh=(0,he.Z)(Uh,Rh,Ih,!1,null,"31ad6d9a",null);"function"===typeof Zh&&Zh(Bh);var Fh=Bh.exports,Hh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"masterpass-container"},[a("transition",{attrs:{name:"fade-down",mode:"out-in"}},[e.currentView===e.views.QR_CODE?a("div",[e.qrData?a("div",[a("div",{staticClass:"masterpass-container__header",attrs:{"data-testid":"qrCodeHeader"}},[a("div",[a("transition",{attrs:{"enter-active-class":"animated tada",appear:""}},[a("img",{attrs:{src:n(6863),alt:"Masterpass Logo"}})])],1),a("p",{staticClass:"instruction"},[e._v(e._s(e.$t("instruction")))])]),a("qr-code",{attrs:{url:e.qrData.url,code:e.qrData.qr_code}}),e.showDownloadQrCode?a("a",{staticClass:"masterpass-container__download-qr",attrs:{"data-testid":"saveQrImageButton",href:e.qrData.url,download:e.fileName}},[e._v(" "+e._s(e.$t("downloadImage"))+" ")]):e._e(),a("button",{staticClass:"masterpass-container__button",attrs:{"data-testid":"show-masterpass-enabled-apps"},on:{click:function(t){return e.changeView(e.views.ENABLED_APPS)}}},[e._v(" "+e._s(e.$t("seeMasterpassApps"))+" ")])],1):a("loader")],1):e._e(),e.currentView===e.views.ENABLED_APPS?a("masterpass-enabled-apps",{on:{backToPayment:function(t){return e.changeView(e.views.QR_CODE)}}}):e._e()],1)],1)},zh=[],Gh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container",attrs:{"data-testid":"masterpass-enabled-apps"}},e._l(e.enabledApps,(function(t){return n("div",{key:t.name,staticClass:"app"},[n("img",{staticClass:"app__image",attrs:{src:t.imageSrc,alt:t.name}}),n("p",{staticClass:"app__text"},[e._v(e._s(t.name))])])})),0),n("button",{staticClass:"button",on:{click:e.backToPayment}},[e._v(" "+e._s(e.$t("backToPayment"))+" ")])])},Kh=[],Yh=[{name:"Nedbank Masterpass app",imageSrc:n(68469)},{name:"Standard Bank Masterpass app",imageSrc:n(97221)},{name:"Capitec Masterpass app",imageSrc:n(56367)},{name:"Absa Masterpass app",imageSrc:n(45899)},{name:"Capitec Banking app",imageSrc:n(16336)},{name:"Nedbank Money app",imageSrc:n(68469)},{name:"Avo",imageSrc:n(48526)},{name:"FNB Pay",imageSrc:n(95988)},{name:"Vodapay",imageSrc:n(33071)},{name:"Virgin Money Spot",imageSrc:n(39040)},{name:"Chips Instapay",imageSrc:n(52229)}],Qh={name:"MasterpassEnabledApps",data:function(){return{enabledApps:Yh}},methods:{backToPayment:function(){this.$emit("backToPayment")}}},jh=Qh,Jh=(0,he.Z)(jh,Gh,Kh,!1,null,"5eb4be07",null),Xh=Jh.exports,ef={name:"MasterpassQrChannel",components:{QrCode:vm,Loader:qs,MasterpassEnabledApps:Xh},mixins:[ar],computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction"])),{},{showDownloadQrCode:function(){return oe()()}}),data:function(){var e={ENABLED_APPS:"enabled_apps",QR_CODE:"qr_code"};return{channel:"MPASS_OLTI",qrData:null,views:e,currentView:e.QR_CODE}},created:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.transaction.getQRCode({channel:e.channel});case 3:n=t.sent,a=n.data,e.qrData=a,e.listenForCharge(),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.emitPaymentChannelError(e,t.t0);case 12:e.fileName="Paystack_".concat(e.transaction.merchant.name,"_").concat(e.transaction.id,"_QRCode.png");case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},methods:{listenForChargeCallback:function(e,t){"error"!==e.status&&(this.$emit("callback",e),t())},listenForCharge:function(){this.transaction.listenForQRCharge({channel:this.channel},this.listenForChargeCallback)},changeView:function(e){this.currentView=e}}},tf=ef,nf=n(19572),af=n.n(nf),sf=af(),rf=(0,he.Z)(tf,Hh,zh,!1,null,"69be55ee",null);"function"===typeof sf&&sf(rf);var of=rf.exports,cf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"snapscan-qr-container"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[e.qrData?a("div",[a("div",{staticClass:"snapscan-qr-container__header",attrs:{"data-testid":"qrCodeHeader"}},[a("div",[a("transition",{attrs:{"enter-active-class":"animated tada",appear:""}},[a("img",{attrs:{src:n(43213),alt:e.$t("snapScanLogo")}})])],1),a("p",{staticClass:"instruction"},[e._v(e._s(e.$t("instruction")))])]),a("qr-code",{attrs:{url:e.qrData.url}}),e.showOpenInSnapScanApp?a("a",{staticClass:"snapscan-qr-container__open-app",attrs:{"data-testid":"openInSnapScanApp",href:e.snapScanAppUrl,target:"_blank"}},[e._v(" "+e._s(e.$t("openInSnapScanApp"))+" ")]):e._e()],1):a("loader")],1)],1)},uf=[],lf={name:"SnapScanQrChannel",components:{QrCode:vm,Loader:qs},mixins:[ar],computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction"])),{},{showOpenInSnapScanApp:function(){return oe()()}}),data:function(){return{channel:"MPASS_OLTI",qrData:null,snapScanAppUrl:""}},created:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.transaction.getQRCode({channel:e.channel});case 3:n=t.sent,a=n.data,e.qrData=a,e.snapScanAppUrl="https://pos.snapscan.io/open/pay_masterpass/".concat(e.qrData.qr_code),e.listenForCharge(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),e.emitPaymentChannelError(e,t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},methods:{listenForChargeCallback:function(e,t){"error"!==e.status&&(this.$emit("callback",e),t())},listenForCharge:function(){this.transaction.listenForQRCharge({channel:this.channel},this.listenForChargeCallback)}}},df=lf,pf=n(58452),mf=n.n(pf),hf=mf(),ff=(0,he.Z)(df,cf,uf,!1,null,"6c05d9a4",null);"function"===typeof hf&&hf(ff);var vf=ff.exports,gf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"payattitude-channel"}},[n("transition",{attrs:{name:"fade-down",mode:"out-in"}},[e.currentView===e.views.ENTER_PHONE_NUMBER?n("div",[n("payattitude-phone-number-form",{attrs:{submitting:e.charging},on:{submit:e.charge,showHowToPayGuide:function(t){return e.changeView(e.views.HOW_TO_PAY_INSTRUCTIONS)}}})],1):e._e(),e.currentView===e.views.HOW_TO_PAY_INSTRUCTIONS?n("payattitude-how-to-pay-guide",{on:{backToPayment:function(t){return e.changeView(e.previousView)}}}):e._e(),e.currentView===e.views.AUTHENTICATE_PAYMENT?n("div",[n("authenticate-payment",{attrs:{checkAuthenticatedBox:e.receievedSuccessResponse},on:{requery:e.requery,cancel:function(t){return e.changeView(e.views.ENTER_PHONE_NUMBER)},showHowToPayGuide:function(t){return e.changeView(e.views.HOW_TO_PAY_INSTRUCTIONS)}}})],1):e._e()],1)],1)},_f=[],yf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{"data-testid":"authenticate-payattitude"}},[n("div",[n("instructions",{attrs:{message:e.$t("defaultMessage"),linkText:e.$t("howToPay")},on:{linkClick:function(t){return e.$emit("showHowToPayGuide")}}}),n("animated-waiting-screen",{attrs:{"data-testid":"payattitude-authenticate-payment-screen",checkSentBox:!0,checkReceivedBox:e.checkAuthenticatedBox}})],1),n("div",{staticClass:"controls"},[n("payment-button",{staticClass:"button--light",attrs:{"data-testid":"payment-authenticated-button"},on:{click:e.requery}},[e._v(" "+e._s(e.$t("paymentAuthenticated"))+" ")]),n("div",{staticClass:"cancel",attrs:{"data-testid":"payment-cancel-button"},on:{click:function(t){return e.$emit("cancel")}}},[n("a",[e._v(e._s(e.$t("cancel")))])])],1)])},bf=[],Cf={name:"AuthenticatePayment",components:{AnimatedWaitingScreen:nu,PaymentButton:qa,Instructions:Sa},props:{checkAuthenticatedBox:Boolean},methods:{requery:function(){this.$emit("requery")}}},wf=Cf,kf=n(88288),Ef=n.n(kf),Tf=Ef(),Sf=(0,he.Z)(wf,yf,bf,!1,null,"04691cc2",null);"function"===typeof Tf&&Tf(Sf);var Rf=Sf.exports,If=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"payattitude-phone-number-form","data-testid":"payattitude-phone-number-form"}},[n("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[n("instructions",{attrs:{message:e.$t("instructionMessage"),linkText:e.$t("howToPay"),linkDataTestId:"payattitude-how-to-pay-text"},on:{linkClick:function(t){return e.$emit("showHowToPayGuide")}}}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-10-sm col-centered"},[n("div",{staticClass:"form-group form"},[n("payattitude-phone-number-input",{ref:"payattitudePhoneNumberInput",attrs:{required:!0,placeholder:"0812 000 0000",name:"payattitudePhoneNumber"},model:{value:e.payattitudePhoneNumber,callback:function(t){e.payattitudePhoneNumber=t},expression:"payattitudePhoneNumber"}})],1),n("payment-button",{attrs:{"data-testid":"payattitude-phone-number-form-confirm-button",disabled:!e.payattitudePhoneNumber,loading:e.submitting}},[e._v(" "+e._s(e.$t("continue"))+" ")])],1)])],1)])},Af=[],Nf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.number,expression:"number"}],ref:"input",staticClass:"input",attrs:{type:"tel",name:"payAttitudePhoneNumber",placeholder:e.placeholder,required:e.required,"data-testid":"payattitude-phone-number-input"},domProps:{value:e.number},on:{input:[function(t){t.target.composing||(e.number=t.target.value)},function(t){return e.parse()}]}}),a("transition",{attrs:{name:"payattitude-logo"}},[a("img",{staticClass:"payattitude-logo",attrs:{src:n(88854),alt:e.$t("payattitudeLogo")}})])],1)},Pf=[],xf={name:"PayAttitudePhoneNumberInput",props:{value:{required:!0,type:[String,Number]},placeholder:String,required:Boolean},data:function(){return{country:"NG",number:this.value}},created:function(){this.number&&this.parse()},methods:{parse:function(){if(os.isValidNumber(this.number,this.country)){var e=os.parseNumber(this.number,this.country),t=os.formatNumber({country:this.country,phone:e.phone},"E.164");this.$emit("input",t)}else this.$emit("input","")},focus:function(){this.$refs.input.focus()},isValid:function(){return os.isValidNumber(this.number,this.country)}}},$f=xf,Df=n(27484),Mf=n.n(Df),Of=Mf(),Vf=(0,he.Z)($f,Nf,Pf,!1,null,"5021ff29",null);"function"===typeof Of&&Of(Vf);var Lf=Vf.exports,Uf={name:"PayattitudePhoneNumberForm",components:{PayattitudePhoneNumberInput:Lf,Instructions:Sa,PaymentButton:qa},props:{submitting:Boolean},data:function(){return{payattitudePhoneNumber:""}},computed:(0,k.Z)({},(0,m.Se)(["paymentInstrument","reusePaymentInfo"])),created:function(){var e;if(this.reusePaymentInfo&&null!==(e=this.paymentInstrument)&&void 0!==e&&e.payattitude){var t=this.paymentInstrument.payattitude.phoneNumber;this.payattitudePhoneNumber=t}},mounted:function(){this.$refs.payattitudePhoneNumberInput.focus()},methods:{submit:function(){this.$store.dispatch("savePaymentInstrument",{payattitude:{phoneNumber:this.payattitudePhoneNumber}}),this.$emit("submit",this.payattitudePhoneNumber)}}},Wf=Uf,qf=n(29781),Zf=n.n(qf),Bf=Zf(),Ff=(0,he.Z)(Wf,If,Af,!1,null,"e663e774",null);"function"===typeof Bf&&Bf(Ff);var Hf=Ff.exports,zf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("how-to-pay-guide",{attrs:{mainTitle:e.$t("howToPay"),nextButtonText:e.$t("next"),backButtonText:e.$t("backToPayment"),contents:e.contents},on:{slideEnd:function(t){return e.$emit("backToPayment")}}})},Gf=[],Kf={name:"PayattitudeHowToPayGuide",components:{HowToPayGuide:Um},computed:{contents:function(){return[{instructions:[this.$t("slides.pageOne.stepOne"),this.$t("slides.pageOne.stepTwo")],title:this.$t("slides.pageOne.title")},{instructions:[this.$t("slides.pageTwo.stepOne"),this.$t("slides.pageTwo.stepTwo"),this.$t("slides.pageTwo.stepThree")],title:this.$t("slides.pageTwo.title")}]}}},Yf=Kf,Qf=n(37854),jf=n.n(Qf),Jf=jf(),Xf=(0,he.Z)(Yf,zf,Gf,!1,null,null,null);"function"===typeof Jf&&Jf(Xf);var ev=Xf.exports,tv={name:"PayattitudeChannel",components:{PayattitudePhoneNumberForm:Hf,PayattitudeHowToPayGuide:ev,AuthenticatePayment:Rf},data:function(){var e={ENTER_PHONE_NUMBER:"enter_phone_number",AUTHENTICATE_PAYMENT:"authenticate_payment",HOW_TO_PAY_INSTRUCTIONS:"how_pay_to_instructions"};return{views:e,currentView:e.ENTER_PHONE_NUMBER,previousView:"",charging:!1,receievedSuccessResponse:!1}},computed:(0,k.Z)({},(0,m.Se)(["transaction"])),methods:{changeView:function(e){this.previousView=this.currentView,e&&(this.currentView=e)},charge:function(e){var t=this;return(0,K.Z)(regeneratorRuntime.mark((function n(){var a,s,r,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.$emit("attempt","payattitude"),n.prev=1,t.charging=!0,n.next=5,t.transaction.chargePayattitude({phoneNumber:e});case 5:if(a=n.sent,s=a.status,r=a.message,i=a.data,"failed"!==s){n.next=12;break}return t.$emit("callback",{status:s,message:r}),n.abrupt("return");case 12:o=i.pusher_channel,t.changeView(t.views.AUTHENTICATE_PAYMENT),t.listenForCharge(o),n.next=20;break;case 17:n.prev=17,n.t0=n["catch"](1),t.$emit("callback",n.t0);case 20:return n.prev=20,t.charging=!1,n.finish(20);case 23:case"end":return n.stop()}}),n,null,[[1,17,20,23]])})))()},requery:function(){this.$emit("callback",{status:"requery"})},listenForChargeCallback:function(e,t){var n=this;if("success"===e.status){this.receievedSuccessResponse=!0;var a=1e3;setTimeout((function(){return n.$emit("callback",e)}),a)}else this.$emit("callback",e);t()},listenForCharge:function(e){this.transaction.listenForPayattitudeCharge(this.listenForChargeCallback,e)}}},nv=tv,av=(0,he.Z)(nv,gf,_f,!1,null,null,null),sv=av.exports,rv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[e.loading?n("loader"):n("instructions",{attrs:{message:e.$t("message")}}),n("div",{attrs:{id:"paypal-button-container"}})],1)},iv=[],ov=function(e){return new Promise((function(t,n){var a=document.createElement("script");a.src=e,a.onload=function(){t(!0)},a.onerror=function(){a.remove(),n(!1)},document.head.appendChild(a)}))},cv=ov,uv="https://www.paypal.com/sdk/js",lv=function(e){var t=e.clientId,n=e.merchantId;return cv("".concat(uv,"?client-id=").concat(t,"&merchant-id=").concat(n))},dv=lv,pv={name:"PayPalChannel",components:{Loader:qs,Instructions:Sa},data:function(){return{loading:!1,scriptLoaded:!1,buttonConfig:{style:{layout:"horizontal",label:"pay",tagline:!1},createOrder:this.createOrder,onApprove:this.onApprove,onError:this.onError,onCancel:this.onCancel}}},computed:(0,k.Z)({},(0,m.Se)(["transaction"])),activated:function(){this.scriptLoaded?this.mountPayPalButton():this.loadPayPal()},methods:{loadPayPal:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.getConfig();case 4:return n=t.sent,a=n.data,t.next=8,dv({clientId:a.client_id,merchantId:a.merchant_id});case 8:e.scriptLoaded=t.sent,e.loading=!1,e.mountPayPalButton(),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),e.$emit("callback",{status:"failed",message:e.t("errorMessage")});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()},mountPayPalButton:function(){var e,t;null===(e=window)||void 0===e||null===(t=e.paypal)||void 0===t||t.Buttons(this.buttonConfig).render("#paypal-button-container")},createOrder:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("attempt"),t.next=3,e.transaction.createPayPalOrder();case 3:if(n=t.sent,"success"===n.status){t.next=6;break}throw new Error(n.message);case 6:return t.abrupt("return",n.data.order_id);case 7:case"end":return t.stop()}}),t)})))()},onApprove:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.transaction.capturePayPalOrder();case 2:return n=t.sent,e.$emit("callback",n),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))()},getConfig:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.transaction.getPayPalConfig();case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},onCancel:function(){try{this.transaction.markAsAbandoned()}catch(te){}},onError:function(e){this.$emit("callback",{status:"failed",message:e.message})}}},mv=pv,hv=n(96055),fv=n.n(hv),vv=fv(),gv=(0,he.Z)(mv,rv,iv,!1,null,"1ffb7f64",null);"function"===typeof vv&&vv(gv);var _v=gv.exports,yv={name:"PaymentForm",props:{channel:String},components:{card:Fo,bank:zu,mobile_money:Al,mpesa:cd,direct_debit:xd,visa_qr:km,ussd:Sh,bank_transfer:rm,eft:Fh,mpass_olti_qr:of,snapscan_qr:vf,payattitude:sv,paypal:_v},computed:(0,k.Z)({},(0,m.Se)(["transaction","activeChannel"])),methods:{onAttempt:function(e){var t=e&&e.paymentMethod,n=e&&e.usedSavedCard,a=e&&e.usedPaymentRequestApi,s=this.activeChannel.name,r=this.transaction.currency,i=this.transaction.amount/100;Ct({channel:s,paymentMethod:t,currency:r,amount:i,usedSavedCard:n,usedPaymentRequestApi:a})},onChargeResponse:function(e,t){var n=e.status,a=e.message,s=e.data;this.$store.dispatch("saveLastResponse",e),this.$store.dispatch("setTransactionStatus",n),"success"===n&&this.$emit("success",s,t),"pending"===n&&this.$emit("success",s),"failed"===n&&this.$emit("failed",a)}}},bv=yv,Cv=(0,he.Z)(bv,pa,ma,!1,null,"7618255a",null),wv=Cv.exports,kv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"apple-pay-payment-view",class:{"animated fadeIn animation-delay-500":e.isMobile}},[a("div",{staticClass:"apple-pay-payment-view__content",class:{"animated slideInUp animation-delay-750":e.isMobile}},[a("img",{staticClass:"apple-pay-mark",attrs:{src:n(44685),alt:e.$t("applePay")}}),a("p",{staticClass:"instruction"},[e._v(e._s(e.$t("applePayDescription")))]),e.applePaySDKLoaded?a("apple-pay-button",{attrs:{buttonstyle:"black",type:"pay",locale:e.language,"data-testid":"apple-pay-button"},on:{click:e.initializePayment}}):a("button",{staticClass:"apple-pay-button apple-pay-button-black",attrs:{"data-testid":"apple-pay-button"},on:{click:e.initializePayment}},[a("span",{staticClass:"logo"})]),e.showMorePaymentOptions?a("button",{staticClass:"close-button",attrs:{"data-testid":"close-apple-pay-payment-view-button"},on:{click:e.closeApplePayPaymentView}},[e._v(" "+e._s(e.$t("morePaymentOptions"))+" ")]):e._e()],1)])},Ev=[],Tv=function(e){var t={biannually:"BIANNUAL PLAN",annually:"ANNUAL PLAN"};return t[e]||"".concat(e.toUpperCase()," PLAN")},Sv=Tv,Rv="https://applepay.cdn-apple.com/jsapi/v1/apple-pay-sdk.js",Iv=function(){try{return cv(Rv)}catch(te){return!1}},Av=function(){return document.head.querySelector('script[src="'.concat(Rv,'"]'))},Nv="apple_pay",Pv={name:"ApplePayPaymentView",mixins:[ar],data:function(){return{isMobile:oe()({tablet:!0})}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction","language","availableChannels"])),{},{applePaySDKLoaded:function(){var e;return Av()&&Array.isArray(null===(e=window)||void 0===e?void 0:e.webpackJsonp)},securedByPaystackImage:function(){var e={en:n(13390),fr:n(51738)};return e[this.language]||e.en},showMorePaymentOptions:function(){var e;return(null===(e=this.availableChannels)||void 0===e?void 0:e.length)>0}}),methods:{initializePayment:function(){var e=this,t={channel:Nv};try{Ct({channel:Nv,paymentMethod:Nv,currency:this.transaction.currency,amount:this.transaction.amount});var n=this.transaction,a=n.currency,s=n.amount,r=n.merchant,i=n.planDetails,o=(0,k.Z)({countryCode:"NG",currencyCode:a,merchantCapabilities:["supports3DS","supportsCredit","supportsDebit"],supportedNetworks:["visa","masterCard"],requiredBillingContactFields:["postalAddress","name","phone","email"],total:{label:"".concat(r.name," - Paystack"),type:"final",amount:Ml(s)}},(null===i||void 0===i?void 0:i.interval)&&{lineItems:[{label:Sv(i.interval),amount:Ml(s)}]}),c=6,u=new window.ApplePaySession(c,o);u.onvalidatemerchant=function(){var n=(0,K.Z)(regeneratorRuntime.mark((function n(a){var s,i,o,c,l,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=a.validationURL,n.prev=1,c={sessionUrl:s,displayName:r.name,domainName:null===(i=window)||void 0===i||null===(o=i.location)||void 0===o?void 0:o.hostname},n.next=5,e.transaction.validateApplePaySession(c);case 5:l=n.sent,d=l.data,u.completeMerchantValidation(d),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](1),e.$emit("failed","Could not validate Apple Pay session",t);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}(),u.oncancel=function(){e.$emit("failed","Cancelled",t)},u.onpaymentauthorized=function(){var n=(0,K.Z)(regeneratorRuntime.mark((function n(a){var s,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=a.payment,n.prev=1,n.next=4,e.transaction.chargeApplePay({paymentObject:JSON.stringify(s)});case 4:r=n.sent,e.$store.dispatch("saveLastResponse",r),e.$store.dispatch("setTransactionStatus",null===r||void 0===r?void 0:r.status),"success"===(null===r||void 0===r?void 0:r.status)?(u.completePayment(u.STATUS_SUCCESS),e.$store.dispatch("setActiveChannel",{name:Nv}),e.$emit("success",null===r||void 0===r?void 0:r.data,t),e.closeApplePayPaymentView()):(u.completePayment(u.STATUS_FAILURE),e.$emit("failed",null===r||void 0===r?void 0:r.message,t)),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](1),e.$emit("failed","Could not authorize Apple Pay session",t);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}(),u.begin()}catch(te){this.$emit("failed","Could not initialize Apple Pay session",t)}},closeApplePayPaymentView:function(){this.$emit("closed")}}},xv=Pv,$v=n(32772),Dv=n.n($v),Mv=Dv(),Ov=(0,he.Z)(xv,kv,Ev,!1,null,"07872004",null);"function"===typeof Mv&&Mv(Ov);var Vv=Ov.exports,Lv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"error"},[a("img",{staticClass:"error__icon",attrs:{src:n(98498),alt:"Error"}}),a("div",{staticClass:"error__header"},[a("div",{staticClass:"error__message",attrs:{"data-testid":"errorMessage"}},[e._v(" "+e._s(e._f("capitalize")(e.errorMessage))+" ")])]),e.transactionIsAlreadySuccessful?a("button",{attrs:{"data-testId":"close-checkout-button"},on:{click:e.close}},[e._v(e._s(e.$t("closeCheckout")))]):a("div",{staticClass:"resolution",attrs:{"data-testid":"errorResolution"}},[e.transaction.isTest?a("div",[a("button",{attrs:{"data-testId":"retryTestPaymentButton"},on:{click:e.reset}},[e._v(e._s(e.$t("retryWithTestDetails")))])]):a("div",[e.usePWTErrorResolution?a("div",[a("pay-with-transfer-error-resolution",{attrs:{otherAvailableChannels:e.otherAvailableChannels,errorMessage:e.message},on:{switchChannel:e.switchChannel,retry:e.retry}})],1):a("div",[e.lastChannel.isOffline||e.isRecurringCardCharge||!e.canReuseLastChannel?e._e():a("div",[a("button",{on:{click:e.reset}},[e._v(e._s(e.$t("tryAnother",{paymentMethod:e.lastPaymentMethod})))])]),e.otherAvailableChannels.length?a("div",e._l(e.otherAvailableChannels,(function(t){return a("button",{key:t.key,on:{click:function(n){return e.switchChannel(t.key)}}},[e._v(" "+e._s(e.$t("tryPayingWithChannel",{channel:t.label}))+" ")])})),0):e._e(),e.canReusePaymentMethod?a("div",{staticClass:"error__retry"},[a("button",{on:{click:e.retry}},[a("svg",{attrs:{width:"10",height:"10",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M5 0C2.25 0 0 2.25 0 5s2.25 5 5 5c2.313 0 4.25-1.625 5-3.75H8.75C8\n            7.688 6.625 8.75 5 8.75A3.761 3.761 0 0 1 1.25 5 3.761 3.761 0 0 1 5\n              1.25c1.063 0 1.714.576 2.429 1.321L5.625 4.375H10V0L8.35 1.63C7.41.757 6.374 0 5 0z",fill:"#000","fill-rule":"nonzero"}})]),e.canReusePaymentDetails?a("span",{attrs:{"data-testid":"start-over-with-same-details"}},[e._v(e._s(e.$t("startOver",{paymentMethod:e.lastPaymentMethod})))]):a("span",[e._v(e._s(e.$t("tryAgain")))])])]):e._e()])])])])},Uv=[],Wv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.canFulfilLateNotification?n("process-late-notification",{attrs:{otherAvailableChannels:e.otherAvailableChannels,errorMessage:e.errorMessage},on:{switchChannel:e.switchChannel,retry:e.retry}}):n("refund-late-notification",{attrs:{otherAvailableChannels:e.otherAvailableChannels,errorMessage:e.errorMessage},on:{switchChannel:e.switchChannel,retry:e.retry}})],1)},qv=[],Zv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"resolution",attrs:{"data-testid":"pwt-error-resolution"}},[e.canReusePaymentMethod?n("div",[n("div",[n("button",{staticClass:"button",attrs:{"data-testid":"pwt-error-try-again"},on:{click:e.retry}},[e._v(" "+e._s(e.$t("tryAgain"))+" ")])]),e.accountExpired?n("div",[n("button",{staticClass:"button",attrs:{"data-testid":"pwt-funds-already-sent"},on:{click:function(t){return e.switchChannel({name:"bank_transfer",view:"help-screen"})}}},[e._v(" "+e._s(e.$t("alreadySent"))+" ")])]):e._e()]):n("div",{attrs:{"data-testid":"pwt-error-resolution-other-channels"}},e._l(e.availableChannels,(function(t){return n("button",{key:t.key,on:{click:function(n){return e.switchChannel({name:t.key})}}},[e._v(" "+e._s(e.$t("payWithChannel",{channel:t.label}))+" ")])})),0)])},Bv=[],Fv={name:"ProcessLateNotificationErrorResolution",props:{otherAvailableChannels:Array,errorMessage:String},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["knownErrors"])),{},{canReusePaymentMethod:function(){if(!this.errorMessage)return!0;var e=this.knownErrors[this.errorMessage.toLowerCase()].resolution;return"retry-same-channel"===e},availableChannels:function(){var e=["card","bank","ussd","qr"],t="key",n=Vi(e,t,this.otherAvailableChannels),a=n.reverse().slice(0,2);return a},accountExpired:function(){return"account expired"===this.errorMessage.toLowerCase()}}),methods:{switchChannel:function(e){this.$emit("switchChannel",e)},retry:function(){this.accountExpired&&Zt(),this.$emit("retry")}}},Hv=Fv,zv=n(36609),Gv=n.n(zv),Kv=Gv(),Yv=(0,he.Z)(Hv,Zv,Bv,!1,null,"4939a708",null);"function"===typeof Kv&&Kv(Yv);var Qv=Yv.exports,jv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"resolution",attrs:{"data-testid":"pwt-error-resolution"}},[e.canReusePaymentMethod?n("div",[n("button",{staticClass:"try-again",attrs:{"data-testid":"pwt-error-try-again"},on:{click:e.retry}},[e._v(" "+e._s(e.$t("tryAgain"))+" ")])]):n("div",{attrs:{"data-testid":"pwt-error-resolution-other-channels"}},e._l(e.availableChannels,(function(t){return n("button",{key:t.key,on:{click:function(n){return e.switchChannel(t.key)}}},[e._v(" "+e._s(e.$t("payWithChannel",{channel:t.label}))+" ")])})),0)])},Jv=[],Xv={name:"RefundLateNotificationErrorResolution",props:{otherAvailableChannels:Array,errorMessage:String},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["knownErrors"])),{},{canReusePaymentMethod:function(){if(!this.errorMessage)return!0;var e=this.knownErrors[this.errorMessage.toLowerCase()].resolution;return"retry-same-channel"===e},availableChannels:function(){var e=["card","bank","ussd","visa_qr"],t="key",n=Vi(e,t,this.otherAvailableChannels),a=n.reverse().slice(0,2);return a}}),methods:{switchChannel:function(e){this.$emit("switchChannel",e)},retry:function(){"account expired"===this.errorMessage.toLowerCase()&&Zt(),this.$emit("retry")}}},eg=Xv,tg=n(2495),ng=n.n(tg),ag=ng(),sg=(0,he.Z)(eg,jv,Jv,!1,null,"77ca0f09",null);"function"===typeof ag&&ag(sg);var rg=sg.exports,ig={name:"PayWithTransferErrorResolution",components:{ProcessLateNotification:Qv,RefundLateNotification:rg},props:{otherAvailableChannels:Array,errorMessage:String},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction","activeChannel","ussdChannelState"])),{},{canFulfilLateNotification:function(){var e,t,n,a=this.transaction.merchant,s="ussd"===this.activeChannel.name&&(null===(e=this.ussdChannelState.savedUssdData)||void 0===e?void 0:e.type)===$i.PAY_WITH_TRANSFER;return(null===(t=a.channelSettings)||void 0===t||null===(n=t.bank_transfer)||void 0===n?void 0:n.fulfil_late_notification)&&!s}}),methods:{switchChannel:function(e){this.$emit("switchChannel",e)},retry:function(){this.$emit("retry")}}},og=ig,cg=(0,he.Z)(og,Wv,qv,!1,null,null,null),ug=cg.exports,lg={name:"ErrorResolution",props:{message:String},components:{PayWithTransferErrorResolution:ug},data:function(){return{paymentMethodNames:{card:"card",bank:"bank account",mobile_money:"mobile money number",mpesa:"M-PESA number",qr:"account",ussd:"account",direct_debit:"account",bank_transfer:"transfer",eft:"EFT payment",paypal:"PayPal payment"}}},mounted:function(){this.isIncorrectAmountError&&Bt()},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["mode","transaction","activeChannel","availableChannels","banks","knownErrors","lastResponse","status","isRecurringCardCharge","ussdChannelState"])),{},{transactionIsAlreadySuccessful:function(){var e="success"===this.status,t=this.knownError&&"success"===this.knownError.resolution,n=this.lastResponse&&"success"===this.lastResponse.status;return e||n||t},lastPaymentMethod:function(){return this.paymentMethodNames[this.activeChannel.name]},usePWTErrorResolution:function(){var e,t="bank_transfer"===this.activeChannel.name,n="ussd"===this.activeChannel.name,a=n&&(null===(e=this.ussdChannelState.savedUssdData)||void 0===e?void 0:e.type)===$i.PAY_WITH_TRANSFER;return this.knownError&&(t||a||this.noManagedAccountError)},canReusePaymentDetails:function(){return!(this.lastChannel.isOffline||this.isRecurringCardCharge||["eft"].includes(this.lastChannel.key))},lastChannel:function(){var e=this;return this.availableChannels.find((function(t){return t.key===e.activeChannel.name}))||this.availableChannels[0]},otherAvailableChannels:function(){var e=this.noManagedAccountError?["bank_transfer",this.activeChannel.name]:[this.activeChannel.name];return this.availableChannels.filter((function(t){return!e.includes(t.key)}))},noManagedAccountError:function(){var e;return"no managed account available"===(null===(e=this.message)||void 0===e?void 0:e.toLowerCase())},knownError:function(){var e=this.message&&this.message.toLowerCase();return this.knownErrors[e]},isIncorrectAmountError:function(){return"incorrect amount sent"===(this.message&&this.message.toLowerCase())},canReuseLastChannel:function(){return!this.knownError||["retry-same-payment-method","retry-same-channel"].indexOf(this.knownError.resolution)>-1},errorMessage:function(){var e,t,n,a,s,r,i=this.$t("incorrectAmountErrorMessage",{amount:this.transaction.amount,formatParams:$(this.transaction.currency)});if(this.isIncorrectAmountError)return i;if(this.noManagedAccountError&&"ussd"===this.lastChannel.key)return this.$t("pwtUssdAccountUnavailableError");var o=(null===(e=this.$i18next)||void 0===e||null===(t=e.language)||void 0===t||null===(n=t.split("-"))||void 0===n?void 0:n[0])||"en",c=(null===(a=this.knownError)||void 0===a||null===(s=a.message)||void 0===s?void 0:s[o])||this.message,u=(null===(r=this.lastChannel)||void 0===r?void 0:r.label)||"account",l=this.$t("fallbackMessage",{channelLabel:u});return c||l},isInsufficientFundsError:function(){var e=["insufficient funds","not sufficient funds","your balance is not sufficient for this transaction","no sufficient funds"],t=this.message&&this.message.toLowerCase();return e.includes(t)},canReusePaymentMethod:function(){return!this.knownError||!this.isInsufficientFundsError&&"retry-same-payment-method"===this.knownError.resolution}}),methods:{switchChannel:function(e){this.$emit("switchChannel",e),St("Switch Channel")},reset:function(){this.$emit("reset"),this.$store.dispatch("useDefaultChannelView"),St("Reset Channel")},retry:function(){this.$emit("reset",{reusePaymentInfo:!0}),St("Retry")},close:function(){mn(this.transaction,this.mode)}},filters:{capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}},dg=lg,pg=n(38557),mg=n.n(pg),hg=mg(),fg=(0,he.Z)(dg,Lv,Uv,!1,null,"0d69d6a0",null);"function"===typeof hg&&hg(fg);var vg=fg.exports,gg=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("loader",{attrs:{message:e.$t("checkingTransactionStatus"),"data-testid":"requery-loader"}})},_g=[],yg={name:"Requery",components:{Loader:qs},computed:(0,k.Z)({},(0,m.Se)(["transaction"])),created:function(){this.requeryTransactionStatus()},methods:{requeryTransactionStatus:function(){var e=this,t=this.transaction.isTest?0:5e3;setTimeout((function(){return e.handleRequery()}),t)},handleRequery:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.transaction.requery();case 2:n=t.sent,a=n.status,s=n.message,r=n.data,e.$store.dispatch("saveLastResponse",n),e.$store.dispatch("setTransactionStatus",a),"requery"===a&&e.requeryTransactionStatus(),"success"===a&&e.$emit("success",r),"failed"===a&&e.$emit("failed",s);case 9:case"end":return t.stop()}}),t)})))()}}},bg=yg,Cg=n(56747),wg=n.n(Cg),kg=wg(),Eg=(0,he.Z)(bg,gg,_g,!1,null,null,null);"function"===typeof kg&&kg(Eg);var Tg=Eg.exports,Sg=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"success animated fadeIn"},[n("div",[n("div",{staticClass:"success__icon"},[n("svg",{attrs:{id:"success-icon",version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 130.2 130.2"}},[n("circle",{staticClass:"circle",attrs:{fill:"none",stroke:"#3bb75e","stroke-width":"6","stroke-miterlimit":"10",cx:"65.1",cy:"65.1",r:"62.1"}}),n("polyline",{staticClass:"checkmark",attrs:{fill:"none",stroke:"#3bb75e","stroke-width":"6","stroke-linecap":"round","stroke-miterlimit":"10",points:"100.2,40.2 51.5,88.8 29.8,67.5 "}})])]),n("h2",{staticClass:"success__title"},[e._v(e._s(e.title))]),n("h2",{staticClass:"success__message",attrs:{"data-testid":"successMessage"}},[e._v(" "+e._s(e.message)+" ")])])])},Rg=[],Ig={name:"PaymentSuccess",props:["successResponse"],computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["transaction","status","activeChannel","mode"])),{},{paymentStatus:function(){return this.paymentPending?"pending":"success"},message:function(){var e=this.transaction,t=e.amount,n=e.currency,a=e.merchant,s={success:this.$t("message.success",{amount:t,formatParams:$(n),merchant:null===a||void 0===a?void 0:a.name}),pending:this.$t("message.pending",{amount:t,formatParams:$(n),merchant:null===a||void 0===a?void 0:a.name})};return s[this.status]},title:function(){var e={success:this.$t("title.success"),pending:this.$t("title.pending")};return e[this.status]}}),mounted:function(){var e=this;this.timerId=setTimeout((function(){e.endSession()}),1e3)},beforeDestroy:function(){clearTimeout(this.timerId)},methods:{endSession:function(){ln("success",this.successResponse),this.mode!==j.POPUP&&this.successResponse.redirecturl&&pn.redirectTo(this.successResponse.redirecturl)}}},Ag=Ig,Ng=n(36790),Pg=n.n(Ng),xg=Pg(),$g=(0,he.Z)(Ag,Sg,Rg,!1,null,"a5086204",null);"function"===typeof xg&&xg($g);var Dg=$g.exports,Mg={name:"Checkout",components:{Container:De,Navigation:na,CloseButton:We,FooterButton:ze,PaymentInfo:da,PaymentForm:wv,ApplePayPaymentView:Vv,ErrorResolution:vg,Requery:Tg,Success:Dg},data:function(){return{successResponse:null,applePayPaymentViewClosed:!1,isMobile:oe()({tablet:!0})}},computed:(0,k.Z)((0,k.Z)({},(0,m.Se)(["mode","transaction","status","availableChannels","activeChannel","lastResponse","reusePaymentInfo","isCharging","isResumed","isRecurringCardCharge"])),{},{isSuccessful:function(){return["pending","success"].indexOf(this.status)>-1},showNavigation:function(){var e=this.isMobile||!this.showApplePayPaymentView;return!this.isSuccessful&&e},showPaymentInfo:function(){var e=this.showApplePayPaymentView?!oe()():!!this.activeChannel.name;return this.transaction&&!this.isSuccessful&&e},containerSize:function(){return this.showApplePayPaymentView?"sm":"md"},errorMessage:function(){return this.lastResponse&&this.lastResponse.message},canChangePaymentMethod:function(){return!!this.activeChannel.name},showApplePayPaymentView:function(){var e,t,n=window&&window.ApplePaySession;return this.mode!==j.POPUP&&!this.isRecurringCardCharge&&(null===(e=this.transaction)||void 0===e||null===(t=e.channels)||void 0===t?void 0:t.includes("apple_pay"))&&n&&!this.applePayPaymentViewClosed}}),created:function(){var e;if((null===(e=this.availableChannels)||void 0===e?void 0:e.length)>0){var t,n=Bi(this.availableChannels),a=1===(null===(t=this.availableChannels)||void 0===t?void 0:t.length)||!oe()()||this.isResumed;a&&this.$store.dispatch("setActiveChannel",{name:n})}},beforeMount:function(){var e,t,n;"XOF"!==(null===(e=this.transaction)||void 0===e?void 0:e.currency)&&"en"!==(null===(t=this.$i18next)||void 0===t?void 0:t.resolvedLanguage)&&(null===(n=this.$i18next)||void 0===n||n.changeLanguage("en"))},methods:{setChannel:function(e){var t=e&&"object"===(0,an.Z)(e)?e:{name:e};this.reset(),this.$store.dispatch("setActiveChannel",t),t.name&&this.transaction.logChannelSwitch(t.name)},onSuccess:function(e,t){var n=(null===t||void 0===t?void 0:t.channel)||this.activeChannel.name,a=this.transaction.currency,s=this.transaction.amount/100,r=this.transaction.getTimeSpent(),i=t&&t.usedSavedCard,o=t&&t.usedPaymentRequestApi;Zi(n),It({channel:n,currency:a,amount:s,timeSpent:r,usedSavedCard:i,usedPaymentRequestApi:o}),this.transaction.remember_card&&Pt(),this.saveSuccessResponse(e)},saveSuccessResponse:function(e){var t=e.response,n=e.redirecturl,a=e.page,s=e.reference,r=e.trans,i={reference:s,trans:r,status:"success",message:t,transaction:r,trxref:s};a&&(i.page=a);var o="?trxref=".concat(s);n&&n!==o&&(i.redirecturl=n),this.successResponse=i},onFail:function(e,t){var n=(null===t||void 0===t?void 0:t.channel)||this.activeChannel.name;Tt({channel:n,message:e})},onCancel:function(){mn(this.transaction,this.mode)},reset:function(e){this.isRecurringCardCharge?this.$emit("reload"):"abandoned"!==this.status&&this.$store.dispatch("setTransactionStatus","abandoned");var t=Boolean(e&&e.reusePaymentInfo);this.reusePaymentInfo!==t&&this.$store.dispatch("setPaymentInfoReusage",t)},closeApplePayPaymentView:function(){this.applePayPaymentViewClosed=!0}}},Og=Mg,Vg=n(26236),Lg=n.n(Vg),Ug=Lg(),Wg=(0,he.Z)(Og,wn,kn,!1,null,"5d663a98",null);"function"===typeof Ug&&Ug(Wg);var qg=Wg.exports,Zg=JSON.parse('[{"name":"Zenith Bank","slug":"zenith-bank","code":"057","longcode":"057150013","gateway":"emandate","pay_with_bank":true,"active":true,"is_deleted":false,"country":"Nigeria","currency":"NGN","type":"nuban","id":21,"createdAt":"2016-07-14T10:04:29.000Z","updatedAt":"2016-07-14T10:04:29.000Z"},{"name":"Kuda Bank","slug":"kuda-bank","code":"50211","longcode":"50211","gateway":"digitalbankmandate","pay_with_bank":true,"active":true,"is_deleted":false,"country":"Nigeria","currency":"NGN","type":"nuban","id":62,"createdAt":"2019-11-12T23:12:00.000Z","updatedAt":"2019-11-12T23:12:00.000Z"}]'),Bg={name:"App",components:{SetupError:Cn,Checkout:qg,Loader:qs},data:function(){return{loading:!0,params:null,error:null,errorCode:null}},computed:(0,k.Z)({},(0,m.Se)(["mode","transaction","isRecurringCardCharge","activeChannel"])),beforeMount:function(){var e=this,t=this.getUrlParts(),n=this.getAccessCode(),s="popup"===n?"popup":"standard";vt({mode:s}),this.$store.dispatch("setMode",s),this.$store.dispatch("setIsRecurringCardCharge","resume"===t[0]),ln("loadedCheckout"),"popup"===s?(cn((function(t){t&&e.setupTransaction(t)})),un((function(e){var t=e.action,n=e.params;a[t]&&a[t](n)}))):n?this.setupTransaction({accessCode:n}):(this.error=this.$t("setupError.pageNotFound"),this.errorCode=404,this.loading=!1)},methods:{getUrlParts:function(){var e,t,n;return null===(e=window)||void 0===e||null===(t=e.location)||void 0===t||null===(n=t.pathname)||void 0===n?void 0:n.split("/").slice(1)},getAccessCode:function(){var e=this.getUrlParts();return"resume"===e[0]?e[1]:e[0]},getTransactionNonce:function(){var e=new Q.Z(window.location.search),t=e&&e.get("nonce");return t&&t.split("?")?t.split("?")[0]:t},removeTransaction:function(){this.transaction&&(this.$store.dispatch("removeTransaction"),this.$store.dispatch("resetChannels"))},resetError:function(){this.error=null,this.loading=!0},setupTransaction:function(e){var t=this;return(0,K.Z)(regeneratorRuntime.mark((function n(){var a,s,r,i,o,c,u,l,d,m,h,f,v,g,_,y,b,C;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.removeTransaction(),t.resetError(),t.params=e,n.prev=3,r=t.getTransactionNonce(),!r){n.next=11;break}return n.next=8,t.resumeTransaction(r);case 8:n.t0=n.sent,n.next=14;break;case 11:return n.next=13,t.requestTransaction(e);case 13:n.t0=n.sent;case 14:if(i=n.t0,!t.isRecurringCardCharge){n.next=24;break}return i.channels=["card"],n.next=19,i.resumeCardCharge(e);case 19:o=n.sent,t.$store.dispatch("saveLastResponse",o),t.$store.dispatch("setTransactionStatus",o.status),n.next=25;break;case 24:t.$store.dispatch("setTransactionStatus",i.status);case 25:return n.next=27,Y.C7.fetch("banks");case 27:return c=n.sent,n.next=30,Y.C7.fetch("resolutions").catch((function(){}));case 30:if(u=n.sent,l=t.mode!==j.POPUP&&!t.isRecurringCardCharge&&(null===i||void 0===i||null===(a=i.channels)||void 0===a?void 0:a.includes("apple_pay"))&&(null===(s=window)||void 0===s?void 0:s.ApplePaySession),t.setupAnalytics(i),!l){n.next=36;break}return n.next=36,Iv();case 36:t.$store.dispatch("setActiveTransaction",i),t.$store.dispatch("setBanks",i.isTest?Zg:c.data),null!==u&&void 0!==u&&u.data&&t.$store.dispatch("setResolutions",u.data),d=qi(i),t.$store.dispatch("setAvailableChannels",d),m=t.activeChannel.name&&!d.find((function(e){return e.label===t.activeChannel.name})),m&&t.$store.dispatch("setActiveChannel",{name:d[0].key}),ln("loadedTransaction",i),r&&(t.$store.dispatch("setTransactionStatus","requery"),t.$store.dispatch("setTransactionAsResumed"),Dt(),t.transaction.logAuthWindowClose(),Ki(r),history.replaceState({},"Paystack Checkout",window.location.pathname)),t.loading=!1,h=i.id,f=i.merchant,v=i.customer,g=i.currency,_={currency:g,transactionId:h,id:v.id,merchantId:f.id},p.v.setUser(_),n.next=61;break;case 51:n.prev=51,n.t1=n["catch"](3),y=t.$t("setupError.invalidTransaction"),n.t1&&n.t1.response&&(C=n.t1.response.data,b=C.message),t.error=b||y,t.loading=!1,ln("loadedTransaction"),ln("error",{type:"setup",message:t.error}),gt({message:t.error,mode:t.mode}),console.error(n.t1);case 61:case"end":return n.stop()}}),n,null,[[3,51]])})))()},requestTransaction:function(e){var t=e.accessCode;return t?Y.YW.requestWithAccessCode(t):Y.YW.request(e)},resumeTransaction:function(e){return(0,K.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Gi(e);case 2:return n=t.sent,t.abrupt("return",Y.YW.initialize(n));case 4:case"end":return t.stop()}}),t)})))()},reload:function(){var e=this;return(0,K.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.params){t.next=2;break}return t.abrupt("return");case 2:if(!e.isRecurringCardCharge||!e.transaction){t.next=12;break}return e.resetError(),t.next=6,e.transaction.resumeCardCharge(e.params);case 6:n=t.sent,e.$store.dispatch("saveLastResponse",n),e.$store.dispatch("setTransactionStatus",n.status),e.loading=!1,t.next=13;break;case 12:e.setupTransaction(e.params);case 13:case"end":return t.stop()}}),t)})))()},setupAnalytics:function(e){var t=this;return(0,K.Z)(regeneratorRuntime.mark((function n(){var a,s,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Je();case 3:a=n.sent,t.$store.dispatch("setBrowserIp",a.ip_address),s=window&&window.performance&&window.performance.now,r=s?Math.round(window.performance.now())/1e3:null,e.isTest||yt((0,k.Z)((0,k.Z)({},e),{},{timeToLoad:r,mode:t.mode})),e.isTest&&_t(),n.next=13;break;case 11:n.prev=11,n.t0=n["catch"](0);case 13:case"end":return n.stop()}}),n,null,[[0,11]])})))()}}},Fg=Bg,Hg=n(50146),zg=n.n(Hg),Gg=zg(),Kg=(0,he.Z)(Fg,z,G,!1,null,"75472982",null);"function"===typeof Gg&&Gg(Kg);var Yg,Qg=Kg.exports,jg="production"===g.ENVIRONMENT,Jg="true"===g.I18N_ENABLED?void 0:g.I18N_DEFAULT_LANGUAGE||"en",Xg=g.I18N_DEFAULT_LANGUAGE||"en";s.Z.config.silent=jg,s.Z.config.devtools=!jg,s.Z.config.performance=!jg,s.Z.config.productionTip=!1,s.Z.config.ignoredElements=["apple-pay-button"],s.Z.use(i.Z,{i18next:r.ZP}),s.Z.use(l()),r.ZP.use(d.Z).init({lng:Jg,compatibilityJSON:"v3",fallbackLng:[Xg],nonExplicitSupportedLngs:!0,supportedLngs:(null===(Yg=g.I18N_SUPPORTED_LANGUAGES)||void 0===Yg?void 0:Yg.split(","))||["en","fr"],detection:{order:["localStorage","navigator"],caches:["localStorage"]}}),r.ZP.services.formatter.add("baseunit",(function(e){return Ml(e)})),r.ZP.on("initialized",(function(){document.dir=r.ZP.dir()})),r.ZP.on("languageChanged",(function(e){var t;document.dir=r.ZP.dir(),H.dispatch("setLanguage",null===e||void 0===e||null===(t=e.split("-"))||void 0===t?void 0:t[0])})),g.E2E&&(window.i18next=r.ZP),rn(),s.Z.use(c(),{enabled:jg,accessToken:g.ROLLBAR_ACCESS_TOKEN,scrubTelemetryInputs:!0,captureUncaught:!1,captureUnhandledRejections:!1,source_map_enabled:!0,environment:window.paystackEnvironment,hostSafeList:["checkout.paystack.com"],payload:{client:{javascript:{code_version:"1.2.0"}}}}),s.Z.config.errorHandler=function(e){console.error(e),s.Z.rollbar.error(e)},p.v.init({applicationId:g.DATADOG_APPLICATION_ID,clientToken:g.DATADOG_CLIENT_TOKEN,env:g.ENVIRONMENT,service:g.DATADOG_SERVICE,site:"datadoghq.eu",sampleRate:jg?10:50,resourceSampleRate:jg?10:50,trackInteractions:!1,silentMultipleInit:!0}),new s.Z({store:H,render:function(e){return e(Qg)}}).$mount("#app")},18590:function(){window.crypto||(window.crypto=window.msCrypto)},44685:function(e,t,n){"use strict";e.exports=n.p+"img/apple_pay_mark.41606525.svg"},69672:function(e,t,n){"use strict";e.exports=n.p+"img/bank.abe48094.svg"},21221:function(e,t,n){"use strict";e.exports=n.p+"img/birthday.1fb1929f.svg"},50870:function(e,t,n){"use strict";e.exports=n.p+"img/card pin.d37e5da6.svg"},80715:function(e,t,n){"use strict";e.exports=n.p+"img/bank_active.8e035879.svg"},21839:function(e,t,n){"use strict";e.exports=n.p+"img/bank_idle.3a8c75a5.svg"},68682:function(e,t,n){"use strict";e.exports=n.p+"img/bank_transfer_active.973af0de.svg"},6691:function(e,t,n){"use strict";e.exports=n.p+"img/bank_transfer_idle.1f60eb19.svg"},3864:function(e,t,n){"use strict";e.exports=n.p+"img/card_active.1c992755.svg"},96841:function(e,t,n){"use strict";e.exports=n.p+"img/card_idle.1f26f2de.svg"},63500:function(e,t,n){"use strict";e.exports=n.p+"img/eft_active.973af0de.svg"},60259:function(e,t,n){"use strict";e.exports=n.p+"img/eft_idle.1f60eb19.svg"},90616:function(e,t,n){"use strict";e.exports=n.p+"img/mobile_money_active.c24d7018.svg"},82320:function(e,t,n){"use strict";e.exports=n.p+"img/mobile_money_idle.92cfc350.svg"},98190:function(e,t,n){"use strict";e.exports=n.p+"img/mpesa_active.f20ebfbb.svg"},76944:function(e,t,n){"use strict";e.exports=n.p+"img/mpesa_idle.e1e5ffa0.svg"},37565:function(e,t,n){"use strict";e.exports=n.p+"img/phone_number_active.d34efe44.svg"},87230:function(e,t,n){"use strict";e.exports=n.p+"img/phone_number_idle.3ad272d7.svg"},7352:function(e,t,n){"use strict";e.exports=n.p+"img/qr_active.adb53cf5.svg"},2104:function(e,t,n){"use strict";e.exports=n.p+"img/qr_idle.5ec04658.svg"},99537:function(e,t,n){"use strict";e.exports=n.p+"img/ussd_active.cff8124d.svg"},11837:function(e,t,n){"use strict";e.exports=n.p+"img/ussd_idle.ea607679.svg"},55146:function(e,t,n){"use strict";e.exports=n.p+"img/wallet_active.d2e145e3.svg"},43578:function(e,t,n){"use strict";e.exports=n.p+"img/wallet_idle.ea73a08c.svg"},89999:function(e,t,n){"use strict";e.exports=n.p+"img/delete-card.a9419c3a.svg"},90407:function(e,t,n){"use strict";e.exports=n.p+"img/down-arrow.655395a3.svg"},78750:function(e,t,n){"use strict";e.exports=n.p+"img/eft_ozow.c2285414.svg"},98498:function(e,t,n){"use strict";e.exports=n.p+"img/error.6a985f38.svg"},95398:function(e,t,n){"use strict";e.exports=n.p+"img/globe.e3c0eff1.svg"},45899:function(e,t,n){"use strict";e.exports=n.p+"img/absa-masterpass.4881d082.svg"},48526:function(e,t,n){"use strict";e.exports=n.p+"img/avo.cd33c976.svg"},16336:function(e,t,n){"use strict";e.exports=n.p+"img/capitec-banking.67a969f1.svg"},56367:function(e,t,n){"use strict";e.exports=n.p+"img/capitec-masterpass.9a85e889.svg"},52229:function(e,t,n){"use strict";e.exports=n.p+"img/chips-instapay.3269608c.svg"},95988:function(e,t,n){"use strict";e.exports=n.p+"img/fnb-pay.084fae40.svg"},68469:function(e,t,n){"use strict";e.exports=n.p+"img/nedbank-masterpass.e12b19ca.svg"},97221:function(e,t,n){"use strict";e.exports=n.p+"img/standard-bank-masterpass.fb61a46a.svg"},39040:function(e,t,n){"use strict";e.exports=n.p+"img/virgin-money-spot.0c695af5.svg"},33071:function(e,t,n){"use strict";e.exports=n.p+"img/vodapay.72cc7b7d.svg"},6863:function(e,t,n){"use strict";e.exports=n.p+"img/masterpass_logo.e5700808.svg"},57117:function(e,t,n){"use strict";e.exports=n.p+"img/mobile_money.12d76b3c.svg"},68e3:function(e,t,n){"use strict";e.exports=n.p+"img/mpesa.3da32367.svg"},87849:function(e,t,n){"use strict";e.exports=n.p+"img/otp.024bad15.svg"},56289:function(e,t,n){"use strict";e.exports=n.p+"img/phone.6d12ad59.svg"},42139:function(e,t,n){"use strict";e.exports=n.p+"img/redirect.dba14040.svg"},60888:function(e,t,n){"use strict";e.exports=n.p+"img/secure-en.f372f531.svg"},55341:function(e,t,n){"use strict";e.exports=n.p+"img/secure-fr.cbbd3566.svg"},13390:function(e,t,n){"use strict";e.exports=n.p+"img/secure-gray-en.08675486.svg"},51738:function(e,t,n){"use strict";e.exports=n.p+"img/secure-gray-fr.2600be63.svg"},1914:function(e,t,n){"use strict";e.exports=n.p+"img/secure-white-en.54060477.svg"},43609:function(e,t,n){"use strict";e.exports=n.p+"img/secure-white-fr.9f17d5d4.svg"},43213:function(e,t,n){"use strict";e.exports=n.p+"img/snapscan_logo.b53b8919.svg"},84393:function(e,t,n){"use strict";e.exports=n.p+"img/ussd.87287fb2.svg"},44438:function(e,t,n){"use strict";e.exports=n.p+"img/visa_logo.c80420f8.svg"},88854:function(e,t,n){"use strict";e.exports=n.p+"img/payattitude-logo-for-phone-number-input.1cb45a30.png"}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[284,134,775,179,998],(function(){return t(98165)}));e.O()}]);
//# sourceMappingURL=app.9973d90f.js.map